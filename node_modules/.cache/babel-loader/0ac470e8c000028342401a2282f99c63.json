{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/thread-loader/dist/cjs.js!/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js!/Users/fanyulong/project/2022/choose-product/node_modules/eslint-loader/index.js??ref--13-0!/Users/fanyulong/project/2022/choose-product/src/api/request.js","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/api/request.js","mtime":1665211453435},{"path":"/Users/fanyulong/project/2022/choose-product/babel.config.js","mtime":1662529345111},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/fanyulong/project/2022/choose-product/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport axios from \"./index\";\nimport md5 from \"js-md5\"; //中间处理\n\nexport function middleWare(params, type) {\n  for (var k in params) {\n    if (typeof params[k] == \"string\" && params[k] != \"\") {\n      //去掉两边\n      params[k] = params[k].toString().replace(/(^\\s*)|(\\s*$)/g, \"\"); //去掉所有空格\n      // params[k] = params[k].toString().replace(/\\s+/g, \"\");\n      //去掉#\n\n      params[k] = params[k].toString().replace(/[#]/g, \"\");\n    }\n  }\n\n  var ding_user_id = !localStorage.getItem(\"ding_user_id\") ? \"\" : localStorage.getItem(\"ding_user_id\");\n  var login_token = !localStorage.getItem(\"login_token\") ? \"\" : localStorage.getItem(\"login_token\");\n  var secret_key = !localStorage.getItem(\"secret_key\") ? \"\" : localStorage.getItem(\"secret_key\"); // 生成签名\n\n  var sign_target = {\n    ding_user_id: ding_user_id,\n    login_token: login_token,\n    secret_key: secret_key,\n    timestamp: (new Date().getTime() / 1000).toString().split(\".\")[0]\n  };\n\n  var create_sign = _objectSpread(_objectSpread({}, params), sign_target);\n\n  var keys = []; // 所有键名\n\n  var sort_obj = {}; // 排好序的参数对象\n  // 键名数组\n\n  for (var _i = 0, _Object$keys = Object.keys(create_sign); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    keys.push(key);\n  } // 键名排序\n\n\n  var sort_keys = keys.sort();\n  sort_keys.map(function (item) {\n    var val = create_sign[item];\n    sort_obj[item] = val;\n  });\n  var sign_arr = [];\n\n  for (var _key in sort_obj) {\n    if (_key != \"image\" && _key != \"file\" && _key.indexOf(\"remark\") == -1 && _key != \"notice_content\") {\n      sign_arr.push(\"\".concat(_key, \"=\").concat(sort_obj[_key]));\n    }\n  } //sign\n\n\n  var sign = md5(sign_arr.join(\"&\")); //token\n\n  var token_target = {\n    login_token: login_token,\n    secret_key: secret_key,\n    timestamp: (new Date().getTime() / 1000).toString().split(\".\")[0]\n  };\n\n  var Base64 = require(\"js-base64\").Base64;\n\n  var token_obj = _objectSpread(_objectSpread({}, token_target), {\n    sign: sign\n  });\n\n  var token = Base64.encode(JSON.stringify(token_obj)); //组织参数\n\n  var req = _objectSpread(_objectSpread({}, params), {\n    sign: sign,\n    token: token\n  }); // var req = { ...params, ...{ admin_id: \"16582785096439314\" } };\n  // var req = { ...params, ...{ admin_id: \"014017496357903146\" } }; //测试\n  // var req = { ...params, ...{ admin_id: \"16161349938228000\" } }; //陈新杰\n\n\n  var get_arr = []; //post请求参数\n\n  var form = new FormData();\n\n  for (var _key2 in req) {\n    form.append(_key2, req[_key2]);\n    get_arr.push(\"\".concat(_key2, \"=\").concat(req[_key2]));\n  } //get请求参数\n\n\n  var get_str = get_arr.join(\"&\");\n  return type == \"get\" ? get_str : form;\n}\nexport default {\n  post: function post(path) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var form = middleWare(params, \"post\");\n    return axios.post(\"\".concat(path), form);\n  },\n  get: function get(path) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var str = middleWare(params, \"get\");\n    return axios.get(\"\".concat(path, \"?\").concat(str));\n  },\n  //下载专用\n  downLoad: function downLoad(path) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var str = middleWare(params, \"get\");\n    window.open(\"\".concat(location.origin, \"/api/\").concat(path, \"?\").concat(str));\n  }\n};",{"version":3,"names":["axios","md5","middleWare","params","type","k","toString","replace","ding_user_id","localStorage","getItem","login_token","secret_key","sign_target","timestamp","Date","getTime","split","create_sign","keys","sort_obj","Object","key","push","sort_keys","sort","map","item","val","sign_arr","indexOf","sign","join","token_target","Base64","require","token_obj","token","encode","JSON","stringify","req","get_arr","form","FormData","append","get_str","post","path","get","str","downLoad","window","open","location","origin"],"sources":["/Users/fanyulong/project/2022/choose-product/src/api/request.js"],"sourcesContent":["import axios from \"./index\";\nimport md5 from \"js-md5\";\n\n//中间处理\nexport function middleWare(params, type) {\n  for (let k in params) {\n    if (typeof params[k] == \"string\" && params[k] != \"\") {\n      //去掉两边\n      params[k] = params[k].toString().replace(/(^\\s*)|(\\s*$)/g,\"\");\n      //去掉所有空格\n      // params[k] = params[k].toString().replace(/\\s+/g, \"\");\n      //去掉#\n      params[k] = params[k].toString().replace(/[#]/g, \"\");\n    }\n  }\n\n  var ding_user_id = !localStorage.getItem(\"ding_user_id\")\n    ? \"\"\n    : localStorage.getItem(\"ding_user_id\");\n  var login_token = !localStorage.getItem(\"login_token\")\n    ? \"\"\n    : localStorage.getItem(\"login_token\");\n  var secret_key = !localStorage.getItem(\"secret_key\")\n    ? \"\"\n    : localStorage.getItem(\"secret_key\");\n\n  // 生成签名\n  var sign_target = {\n    ding_user_id: ding_user_id,\n    login_token: login_token,\n    secret_key: secret_key,\n    timestamp: (new Date().getTime() / 1000).toString().split(\".\")[0],\n  };\n  var create_sign = { ...params, ...sign_target };\n  var keys = []; // 所有键名\n  var sort_obj = {}; // 排好序的参数对象\n\n  // 键名数组\n  for (let key of Object.keys(create_sign)) {\n    keys.push(key);\n  }\n  // 键名排序\n  var sort_keys = keys.sort();\n  sort_keys.map((item) => {\n    var val = create_sign[item];\n    sort_obj[item] = val;\n  });\n  var sign_arr = [];\n  for (let key in sort_obj) {\n    if (\n      key != \"image\" &&\n      key != \"file\" &&\n      key.indexOf(\"remark\") == -1 &&\n      key != \"notice_content\"\n    ) {\n      sign_arr.push(`${key}=${sort_obj[key]}`);\n    }\n  }\n  //sign\n  var sign = md5(sign_arr.join(\"&\"));\n\n  //token\n  var token_target = {\n    login_token: login_token,\n    secret_key: secret_key,\n    timestamp: (new Date().getTime() / 1000).toString().split(\".\")[0],\n  };\n  var Base64 = require(\"js-base64\").Base64;\n  var token_obj = { ...token_target, ...{ sign: sign } };\n  var token = Base64.encode(JSON.stringify(token_obj));\n  //组织参数\n  var req = { ...params, ...{ sign: sign, token: token } };\n  // var req = { ...params, ...{ admin_id: \"16582785096439314\" } };\n  // var req = { ...params, ...{ admin_id: \"014017496357903146\" } }; //测试\n  // var req = { ...params, ...{ admin_id: \"16161349938228000\" } }; //陈新杰\n  var get_arr = [];\n  //post请求参数\n  var form = new FormData();\n  for (let key in req) {\n    form.append(key, req[key]);\n    get_arr.push(`${key}=${req[key]}`);\n  }\n  //get请求参数\n  var get_str = get_arr.join(\"&\");\n  return type == \"get\" ? get_str : form;\n}\nexport default {\n  post(path, params = {}) {\n    var form = middleWare(params, \"post\");\n    return axios.post(`${path}`, form);\n  },\n  get(path, params = {}) {\n    var str = middleWare(params, \"get\");\n    return axios.get(`${path}?${str}`);\n  },\n  //下载专用\n  downLoad(path, params = {}) {\n    var str = middleWare(params, \"get\");\n    window.open(`${location.origin}/api/${path}?${str}`);\n  },\n};\n"],"mappings":"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"}]}