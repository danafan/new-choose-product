{"remainingRequest":"/Users/fanyulong/project/2022/new-choose-product/node_modules/babel-loader/lib/index.js!/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fanyulong/project/2022/new-choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/new-choose-product/src/components/feekback_widget.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/new-choose-product/src/components/feekback_widget.vue","mtime":1667787690000},{"path":"/Users/fanyulong/project/2022/new-choose-product/babel.config.js","mtime":1662529345000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["import resource from \"../api/resource.js\";\nimport UploadFile from \"../components/upload_file.vue\";\nexport default {\n  data: function data() {\n    return {\n      feekback_dialog: false,\n      //反馈弹窗\n      feedback_content: \"\",\n      //反馈文字\n      feedback_img: [] //上传的图片列表\n\n    };\n  },\n  props: {\n    style_id: {\n      type: String,\n      default: \"\"\n    },\n    //是否相对整个页面定位\n    is_fixed: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    //上传图片回调\n    uploadFn: function uploadFn(v) {\n      this.feedback_img = v;\n    },\n    //提交反馈\n    confirmFeekBack: function confirmFeekBack() {\n      var _this = this;\n\n      if (this.feedback_content == '') {\n        this.$message.warning('请输入反馈内容!');\n      } else {\n        var arg = {\n          style_id: this.style_id,\n          feedback_content: this.feedback_content,\n          feedback_img: this.feedback_img.join(',')\n        };\n        resource.confirmFeekBack(arg).then(function (res) {\n          if (res.data.code == 1) {\n            _this.$message.success(res.data.msg);\n\n            _this.feekback_dialog = false;\n          } else {\n            _this.$message.warning(res.data.msg);\n          }\n        });\n      }\n    },\n    //关闭反馈弹窗\n    closeDialog: function closeDialog() {\n      this.feedback_content = \"\"; //反馈文字\n\n      this.feedback_img = []; //上传的图片列表\n    }\n  },\n  components: {\n    UploadFile: UploadFile\n  }\n};",{"version":3,"mappings":"AA2BA;AAEA;AACA;EACAA,IADA,kBACA;IACA;MACAC,sBADA;MACA;MACAC,oBAFA;MAEA;MACAC,gBAHA,CAGA;;IAHA;EAKA,CAPA;EAQAC;IACAC;MACAC,YADA;MAEAC;IAFA,CADA;IAKA;IACAC;MACAF,aADA;MAEAC;IAFA;EANA,CARA;EAmBAE;IACA;IACAC,QAFA,oBAEAC,CAFA,EAEA;MACA;IACA,CAJA;IAKA;IACAC,eANA,6BAMA;MAAA;;MACA;QACA;MACA,CAFA,MAEA;QACA;UACAP,uBADA;UAEAH,uCAFA;UAGAC;QAHA;QAKAU;UACA;YACA;;YACA;UACA,CAHA,MAGA;YACA;UACA;QACA,CAPA;MAQA;IACA,CAxBA;IAyBA;IACAC,WA1BA,yBA0BA;MACA,2BADA,CACA;;MACA,uBAFA,CAEA;IACA;EA7BA,CAnBA;EAkDAC;IACAC;EADA;AAlDA","names":["data","feekback_dialog","feedback_content","feedback_img","props","style_id","type","default","is_fixed","methods","uploadFn","v","confirmFeekBack","resource","closeDialog","components","UploadFile"],"sourceRoot":"src/components","sources":["feekback_widget.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"back_widget\" :class=\"{'fixed_style':is_fixed == true}\" @click=\"feekback_dialog = true\">\n\t\t\t<img class=\"back_icon\" src=\"../static/feekback_icon.png\">\n\t\t\t<div class=\"back_text\">反馈</div>\n\t\t</div>\n\t\t<!-- 反馈弹窗 -->\n\t\t<el-dialog :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\" @close=\"closeDialog\" destroy-on-close :visible.sync=\"feekback_dialog\">\n\t\t\t<div slot=\"title\" class=\"dialog_title\">\n\t\t\t\t<div>意见反馈</div>\n\t\t\t\t<img class=\"close_icon\" src=\"../static/close_icon.png\" @click=\"feekback_dialog = false\">\n\t\t\t</div>\n\t\t\t<div class=\"feekback_content\">\n\t\t\t\t<el-input type=\"textarea\" :rows=\"5\" placeholder=\"请描述哪条描述数据不对，或者缺失，我们尽快调整\" v-model=\"feedback_content\">\n\t\t\t\t</el-input>\n\t\t\t\t<div class=\"upload_title\">上传截图</div>\n\t\t\t\t<UploadFile :img_list=\"feedback_img\" :is_multiple=\"true\" :current_num=\"feedback_img.length\" :max_num=\"5\" @callbackFn=\"uploadFn\"/>\n\t\t\t\t<div class=\"upload_toast\">上传“有效截图”，可以让问题优先被发现哦！最多可以上传5张截图</div>\n\t\t\t</div>\n\t\t\t<div slot=\"footer\" class=\"dialog_footer\">\n\t\t\t\t<el-button size=\"small\" @click=\"feekback_dialog = false\">取消</el-button>\n\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"confirmFeekBack\">提交</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t</div>\n</template>\n<script>\n\timport resource from '../api/resource.js'\n\n\timport UploadFile from '../components/upload_file.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tfeekback_dialog:false,\t//反馈弹窗\n\t\t\t\tfeedback_content:\"\",\t\t//反馈文字\n\t\t\t\tfeedback_img:[],\t\t//上传的图片列表\n\t\t\t}\n\t\t},\n\t\tprops:{\n\t\t\tstyle_id:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:\"\"\n\t\t\t},\n\t\t\t//是否相对整个页面定位\n\t\t\tis_fixed:{\n\t\t\t\ttype:Boolean,\n\t\t\t\tdefault:false\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\t//上传图片回调\n\t\t\tuploadFn(v) {\n\t\t\t\tthis.feedback_img = v;\n\t\t\t},\n\t\t\t//提交反馈\n\t\t\tconfirmFeekBack(){\n\t\t\t\tif(this.feedback_content == ''){\n\t\t\t\t\tthis.$message.warning('请输入反馈内容!');\n\t\t\t\t}else{\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tstyle_id:this.style_id,\n\t\t\t\t\t\tfeedback_content:this.feedback_content,\n\t\t\t\t\t\tfeedback_img:this.feedback_img.join(',')\n\t\t\t\t\t}\n\t\t\t\t\tresource.confirmFeekBack(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\tthis.feekback_dialog = false;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//关闭反馈弹窗\n\t\t\tcloseDialog(){\n\t\t\t\tthis.feedback_content = \"\";\t\t//反馈文字\n\t\t\t\tthis.feedback_img = [];\t//上传的图片列表\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tUploadFile\n\t\t}\n\t}\n</script>\n<style lang=\"less\" scoped>\n.back_widget{\n\tposition: absolute;\n\ttop: 60%;\n\tright: -80rem;\n\twidth: 60rem;\n\theight: 60rem;\n\tbackground: #FFFFFF;\n\tbox-shadow: 0px 2px 11px 0px #FFEAD8;\n\tborder-radius: 30rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 9;\n\t.back_icon{\n\t\tmargin-bottom: 2rem;\n\t\twidth: 25rem;\n\t\theight: 26rem;\n\t}\n\t.back_text{\n\t\tcolor: #333333;\n\t\tfont-size: 12rem;\n\t}\n}\n.fixed_style{\n\tposition: fixed;\n\tright: 20rem;\n}\n.feekback_content{\n\tpadding: 10rem 20rem;\n\t.upload_title{\n\t\tmargin-top: 20rem;\n\t\tmargin-bottom:10rem;\n\t\tfont-size:14rem;\n\t\tcolor: #333333;\n\t}\n\t.upload_toast{\n\t\tmargin-top: 10rem;\n\t\tfont-size:14rem;\n\t\tcolor: #666666;\n\t}\n}\n</style>"]}]}