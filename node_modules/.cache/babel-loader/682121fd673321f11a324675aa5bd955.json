{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/thread-loader/dist/cjs.js!/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js!/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/pages/CarPage/car_page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/pages/CarPage/car_page.vue","mtime":1686720033064},{"path":"/Users/fanyulong/project/2022/choose-product/babel.config.js","mtime":1662529345000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport resource from \"../../api/resource.js\";\nimport commonResource from \"../../api/common_resource.js\";\nimport PageTitle from \"../../components/page_title.vue\";\nimport QuillEditor from \"../../components/quill_editor.vue\";\nexport default {\n  data: function data() {\n    return {\n      loading: false,\n      car_goods: [],\n      //购物车列表\n      button_list: {},\n      selected_list: [],\n      //已选中的列表\n      max_height: 0,\n      show_select: false,\n      //选款弹窗\n      store_list: [],\n      //店铺列表\n      shop_code: [],\n      //选中的店铺\n      need_type: [],\n      //需求类型列表\n      demand_type: [],\n      //选中的需求类型\n      delivery_type_list: [],\n      //发货类型列表\n      send_type: [],\n      //选中的发货类型\n      demand_date: \"\",\n      //需求日期\n      selling_price: \"\",\n      //售卖价格\n      remark: \"\",\n      //备注\n      is_loading: false,\n      toast_dialog: false,\n      //有提交过的提示\n      toast_content: \"\",\n      //提示内容\n      type: 0 //0:提示；1:不提示\n\n    };\n  },\n  destroyed: function destroyed() {\n    window.removeEventListener(\"resize\", function () {});\n  },\n  created: function created() {\n    //获取购物车列表数量\n    this.getCarList();\n  },\n  watch: {\n    //切换24小时内不提示\n    type: function type(n, o) {\n      this.checkToast(n);\n    }\n  },\n  updated: function updated() {\n    this.addTableIndex();\n  },\n  computed: {\n    //图片前缀\n    domain: function domain() {\n      return this.$store.state.domain;\n    },\n    //去选中按钮是否可以点击\n    disabled: function disabled() {\n      var disabled = false;\n      var arr = this.selected_list.filter(function (item) {\n        return item.cost_price == '';\n      });\n      disabled = arr.length > 0 || this.selected_list.length == 0;\n      return disabled;\n    },\n    //确认选择按钮是否可点击\n    confirmDisabled: function confirmDisabled() {\n      return this.shop_code.length == 0 || this.demand_type.length == 0 || this.send_type.length == 0 || this.is_loading;\n    }\n  },\n  mounted: function mounted() {\n    //获取表格最大高度\n    this.onResize();\n    window.addEventListener(\"resize\", this.onResize());\n  },\n  methods: {\n    addTableIndex: function addTableIndex() {\n      var table = document.querySelector(\".el-table__body-wrapper\");\n      var tableSelect = table.getElementsByClassName(\"el-table-column--selection\");\n      var arr = Array.from(tableSelect);\n      arr.forEach(function (item, index) {\n        if (item.childNodes.length == 2) {\n          item.removeChild(item.lastChild);\n        }\n\n        var span = document.createElement(\"span\");\n        span.innerText = index + 1;\n        item.appendChild(span);\n      });\n    },\n    //切换24小时内不提示\n    checkToast: function checkToast(type) {\n      var _this = this;\n\n      resource.twoFourTitle({\n        type: type\n      }).then(function (res) {\n        if (res.data.code != 1) {\n          _this.$message.warning(res.data.msg);\n        }\n      });\n    },\n    //监听屏幕大小变化\n    onResize: function onResize() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        var card_box_height = document.getElementById(\"card_box\").offsetHeight;\n        var all_title_height = document.getElementById(\"all_title\").offsetHeight;\n        var bottom_row_height = document.getElementById(\"bottom_row\").offsetHeight;\n        _this2.max_height = card_box_height - all_title_height - bottom_row_height - 30 + \"px\";\n      });\n    },\n    //获取购物车列表数量\n    getCarList: function getCarList() {\n      var _this3 = this;\n\n      this.loading = true;\n      resource.getCarList().then(function (res) {\n        if (res.data.code == 1) {\n          _this3.loading = false;\n          var car_goods = res.data.data.data;\n          console.log(car_goods);\n          car_goods.map(function (item) {\n            var images = [];\n\n            if (item.img) {\n              item.img.map(function (i) {\n                images.push(_this3.domain + i);\n              });\n            }\n\n            item.images = images;\n\n            if (item.i_id) {\n              item.new_i_id = item.i_id.split(',');\n            }\n\n            if (item.bd_i_id) {\n              item.new_bd_i_id = item.bd_i_id.split(',');\n            }\n\n            if (item.supplier_ksbm) {\n              item.new_supplier_ksbm = item.supplier_ksbm.split(',');\n            }\n          });\n          _this3.car_goods = car_goods;\n        } else {\n          _this3.$message, warning(res.data.msg);\n        }\n      });\n    },\n    //判断是否可以选中\n    setStatus: function setStatus(row) {\n      if (row.status == '0') {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    //切换选中\n    changeSelected: function changeSelected(val) {\n      this.selected_list = val;\n    },\n    //点击去选中\n    selectFn: function selectFn() {\n      //获取店铺列表\n      this.ajaxViewShop(); //获取所有需求/发货类型\n\n      this.getAllDemandSendType();\n      this.show_select = true;\n    },\n    //关闭选款弹窗\n    closeSelectDialog: function closeSelectDialog() {\n      this.shop_code = []; //选中的店铺\n\n      this.demand_type = []; //选中的需求类型\n\n      this.send_type = []; //选中的发货类型\n\n      this.demand_date = \"\"; //需求日期\n\n      this.selling_price = \"\"; //售卖价格\n\n      this.remark = \"\"; //备注\n    },\n    //提交选款\n    confirmSelect: function confirmSelect(go_on) {\n      var _this4 = this;\n\n      if (this.shop_code.length == 0) {\n        this.$message.warning('请选择店铺!');\n      } else if (this.demand_type.length == 0) {\n        this.$message.warning('请选择需求类型!');\n      } else if (this.send_type.length == 0) {\n        this.$message.warning('请选择发货类型!');\n      } else if (this.selling_price < 0) {\n        this.$message.warning('售卖价格应大于0!');\n      } else {\n        var shop_code_arr = [];\n        var shop_name_arr = [];\n        this.shop_code.map(function (item) {\n          _this4.store_list.map(function (i) {\n            if (item == i.shop_code) {\n              shop_code_arr.push(i.shop_code);\n              shop_name_arr.push(i.shop_name);\n            }\n          });\n        }); //商品ID\n\n        var style_id_arr = [];\n        var select_id_arr = [];\n        this.selected_list.map(function (item) {\n          style_id_arr.push(item.style_id);\n          select_id_arr.push(item.select_cart_id);\n        });\n        var arg = {\n          select_id: select_id_arr.join(','),\n          style_id_arr: style_id_arr.join(','),\n          shop_code: shop_code_arr.join(','),\n          shop_name: shop_name_arr.join(','),\n          demand_type: this.demand_type.join(','),\n          demand_date: this.demand_date ? this.demand_date : \"\",\n          send_type: this.send_type.join(','),\n          selling_price: this.selling_price,\n          remark: this.remark,\n          go_on: go_on\n        };\n        this.is_loading = true;\n        resource.addSelected(arg).then(function (res) {\n          _this4.is_loading = false;\n\n          if (res.data.code == 1) {\n            _this4.$message.success(res.data.msg);\n\n            _this4.show_select = false;\n            _this4.toast_dialog = false; //缓存选款的店铺、需求类型、发货类型参数\n\n            _this4.changeSelectForm(); //获取购物车列表数量\n\n\n            _this4.getCarList();\n          } else if (res.data.code == 5) {\n            _this4.toast_content = res.data.msg;\n            _this4.toast_dialog = true;\n          } else {\n            _this4.$message.warning(res.data.msg);\n          }\n        });\n      }\n    },\n    //缓存选款的店铺、需求类型、发货类型参数\n    changeSelectForm: function changeSelectForm() {\n      var form = {\n        shop_code: this.shop_code,\n        demand_type: this.demand_type,\n        send_type: this.send_type\n      };\n      sessionStorage.setItem(\"selectedForm\", JSON.stringify(form));\n    },\n    //获取店铺列表\n    ajaxViewShop: function ajaxViewShop() {\n      var _this5 = this;\n\n      var arg = {\n        type: 3\n      };\n      commonResource.ajaxViewShop(arg).then(function (res) {\n        if (res.data.code == 1) {\n          _this5.store_list = res.data.data;\n          var selectedForm = sessionStorage.getItem(\"selectedForm\");\n\n          if (selectedForm) {\n            var new_selected_form = JSON.parse(sessionStorage.getItem(\"selectedForm\"));\n            _this5.shop_code = [];\n            new_selected_form.shop_code.map(function (item) {\n              var arr = _this5.store_list.filter(function (i) {\n                return i.shop_code == item;\n              });\n\n              if (arr.length > 0) {\n                _this5.shop_code.push(arr[0].shop_code);\n              }\n            });\n          }\n        } else {\n          _this5.$message.warning(res.data.msg);\n        }\n      });\n    },\n    //获取所有需求/发货类型\n    getAllDemandSendType: function getAllDemandSendType() {\n      var _this6 = this;\n\n      commonResource.getAllDemandSendType().then(function (res) {\n        if (res.data.code == 1) {\n          var data = res.data.data; //需求类型\n\n          _this6.need_type = data.filter(function (item) {\n            return item.type == 1;\n          }); //发货类型\n\n          _this6.delivery_type_list = data.filter(function (item) {\n            return item.type == 2;\n          });\n          _this6.demand_type = [];\n          _this6.send_type = [];\n          var selectedForm = sessionStorage.getItem(\"selectedForm\");\n\n          if (selectedForm) {\n            var new_selected_form = JSON.parse(sessionStorage.getItem(\"selectedForm\"));\n            new_selected_form.demand_type.map(function (item) {\n              var arr = _this6.need_type.filter(function (i) {\n                return i.name == item;\n              });\n\n              if (arr.length > 0) {\n                _this6.demand_type.push(arr[0].name);\n              }\n            });\n\n            if (_this6.delivery_type_list.length == 1) {\n              _this6.send_type.push(_this6.delivery_type_list[0].name);\n            } else {\n              new_selected_form.send_type.map(function (item) {\n                var arr = _this6.delivery_type_list.filter(function (i) {\n                  return i.name == item;\n                });\n\n                if (arr.length > 0) {\n                  _this6.send_type.push(arr[0].name);\n                }\n              });\n            }\n          } else {\n            if (_this6.delivery_type_list.length == 1) {\n              _this6.send_type.push(_this6.delivery_type_list[0].name);\n            }\n          }\n        } else {\n          _this6.$message.warning(res.data.msg);\n        }\n      });\n    },\n    //监听富文本编辑器内容变化\n    getEditor: function getEditor(v) {\n      this.remark = v;\n    },\n    //点击删除\n    deleteFn: function deleteFn(type, style_id) {\n      var _this7 = this;\n\n      this.$confirm('确认删除商品图?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        //商品ID\n        var style_id_arr = [];\n\n        _this7.selected_list.map(function (item) {\n          style_id_arr.push(item.select_cart_id);\n        });\n\n        var arg = {\n          select_cart_id: type == '1' ? style_id : style_id_arr.join(',')\n        };\n        resource.removeCarGoods(arg).then(function (res) {\n          if (res.data.code == 1) {\n            _this7.$message.success(res.data.msg); //获取列表\n\n\n            _this7.getCarList();\n          } else {\n            _this7.$message.warning(res.data.msg);\n          }\n        });\n      }).catch(function () {\n        _this7.$message({\n          type: 'info',\n          message: '已取消'\n        });\n      });\n    }\n  },\n  components: {\n    PageTitle: PageTitle,\n    QuillEditor: QuillEditor\n  }\n};",{"version":3,"mappings":";;;;;AAkJA;AACA;AAEA;AACA;AACA;EACAA,IADA,kBACA;IACA;MACAC,cADA;MAEAC,aAFA;MAEA;MACAC,eAHA;MAIAC,iBAJA;MAIA;MACAC,aALA;MAMAC,kBANA;MAMA;MACAC,cAPA;MAOA;MACAC,aARA;MAQA;MACAC,aATA;MASA;MACAC,eAVA;MAUA;MACAC,sBAXA;MAWA;MACAC,aAZA;MAYA;MACAC,eAbA;MAaA;MACAC,iBAdA;MAcA;MACAC,UAfA;MAeA;MACAC,iBAhBA;MAiBAC,mBAjBA;MAiBA;MACAC,iBAlBA;MAkBA;MACAC,OAnBA,CAmBA;;IAnBA;EAsBA,CAxBA;EAyBAC,SAzBA,uBAyBA;IACAC;EACA,CA3BA;EA4BAC,OA5BA,qBA4BA;IACA;IACA;EACA,CA/BA;EAgCAC;IACA;IACAJ;MACA;IACA;EAJA,CAhCA;EAsCAK,OAtCA,qBAsCA;IACA;EACA,CAxCA;EAyCAC;IACA;IACAC,MAFA,oBAEA;MACA;IACA,CAJA;IAKA;IACAC,QANA,sBAMA;MACA;MACA;QACA;MACA,CAFA;MAGAA;MACA;IACA,CAbA;IAcA;IACAC,eAfA,6BAeA;MACA;IACA;EAjBA,CAzCA;EA4DAC,OA5DA,qBA4DA;IACA;IACA;IACAR;EACA,CAhEA;EAiEAS;IACAC,aADA,2BACA;MACA;MACA,+CACA,4BADA;MAIA;MACAC;QACA;UACAC;QACA;;QACA;QACAC;QACAD;MACA,CAPA;IAQA,CAhBA;IAiBA;IACAE,UAlBA,sBAkBAhB,IAlBA,EAkBA;MAAA;;MACAiB;QAAAjB;MAAA;QACA;UACA;QACA;MACA,CAJA;IAKA,CAxBA;IAyBA;IACAkB,QA1BA,sBA0BA;MAAA;;MACA;QACA;QACA;QACA;QACA,oBACAC,kBACAC,gBADA,GAEAC,iBAFA,GAGA,EAHA,GAIA,IALA;MAMA,CAVA;IAWA,CAtCA;IAuCA;IACAC,UAxCA,wBAwCA;MAAA;;MACA;MACAL;QACA;UACA;UACA;UACAM;UACAxC;YACA;;YACA;cACA+B;gBACAU;cACA,CAFA;YAGA;;YACAV;;YACA;cACAA;YACA;;YACA;cACAA;YACA;;YACA;cACAA;YACA;UACA,CAjBA;UAkBA;QACA,CAvBA,MAuBA;UACA;QACA;MACA,CA3BA;IA4BA,CAtEA;IAuEA;IACAW,SAxEA,qBAwEAC,GAxEA,EAwEA;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA;IACA,CA9EA;IA+EA;IACAC,cAhFA,0BAgFAC,GAhFA,EAgFA;MACA;IACA,CAlFA;IAmFA;IACAC,QApFA,sBAoFA;MACA;MACA,oBAFA,CAGA;;MACA;MACA;IACA,CA1FA;IA2FA;IACAC,iBA5FA,+BA4FA;MACA,oBADA,CACA;;MACA,sBAFA,CAEA;;MACA,oBAHA,CAGA;;MACA,sBAJA,CAIA;;MACA,wBALA,CAKA;;MACA,iBANA,CAMA;IACA,CAnGA;IAoGA;IACAC,aArGA,yBAqGAC,KArGA,EAqGA;MAAA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;QACA;QACA;UACA;YACA;cACAC;cACAC;YACA;UACA,CALA;QAMA,CAPA,EAHA,CAWA;;QACA;QACA;QACA;UACAC;UACAC;QACA,CAHA;QAIA;UACAC,kCADA;UAEAF,oCAFA;UAGA9C,kCAHA;UAIAiD,kCAJA;UAKA/C,uCALA;UAMAG,qDANA;UAOAD,mCAPA;UAQAE,iCARA;UASAC,mBATA;UAUAoC;QAVA;QAYA;QACAf;UACA;;UACA;YACA;;YACA;YACA,4BAHA,CAIA;;YACA,0BALA,CAMA;;;YACA;UACA,CARA,MAQA;YACA;YACA;UACA,CAHA,MAGA;YACA;UACA;QACA,CAhBA;MAiBA;IACA,CA/JA;IAgKA;IACAsB,gBAjKA,8BAiKA;MACA;QACAlD,yBADA;QAEAE,6BAFA;QAGAE;MAHA;MAKA+C;IACA,CAxKA;IAyKA;IACAC,YA1KA,0BA0KA;MAAA;;MACA;QACAzC;MADA;MAGA0C;QACA;UACA;UACA;;UACA;YACA;YACA;YACAC;cACA;gBACA;cACA,CAFA;;cAGA;gBACA;cACA;YACA,CAPA;UAQA;QACA,CAfA,MAeA;UACA;QACA;MACA,CAnBA;IAoBA,CAlMA;IAmMA;IACAC,oBApMA,kCAoMA;MAAA;;MACAF;QACA;UACA,yBADA,CAEA;;UACA;YACA;UACA,CAFA,EAHA,CAMA;;UACA;YACA;UACA,CAFA;UAIA;UACA;UAEA;;UACA;YACA;YAEAC;cACA;gBACA;cACA,CAFA;;cAGA;gBACA;cACA;YACA,CAPA;;YASA;cACA;YACA,CAFA,MAEA;cACAA;gBACA;kBACA;gBACA,CAFA;;gBAGA;kBACA;gBACA;cACA,CAPA;YAQA;UAEA,CAzBA,MAyBA;YACA;cACA;YACA;UACA;QACA,CA7CA,MA6CA;UACA;QACA;MACA,CAjDA;IAkDA,CAvPA;IAwPA;IACAE,SAzPA,qBAyPAC,CAzPA,EAyPA;MACA;IACA,CA3PA;IA4PA;IACAC,QA7PA,oBA6PA/C,IA7PA,EA6PAgD,QA7PA,EA6PA;MAAA;;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAlD;MAHA,GAIAmD,IAJA,CAIA;QACA;QACA;;QACA;UACAhB;QACA,CAFA;;QAGA;UACAiB;QADA;QAGAnC;UACA;YACA,sCADA,CAEA;;;YACA;UACA,CAJA,MAIA;YACA;UACA;QACA,CARA;MASA,CAtBA,EAsBAoC,KAtBA,CAsBA;QACA;UACArD,YADA;UAEAsD;QAFA;MAIA,CA3BA;IA4BA;EA1RA,CAjEA;EA6VAC;IACAC,oBADA;IAEAC;EAFA;AA7VA","names":["data","loading","car_goods","button_list","selected_list","max_height","show_select","store_list","shop_code","need_type","demand_type","delivery_type_list","send_type","demand_date","selling_price","remark","is_loading","toast_dialog","toast_content","type","destroyed","window","created","watch","updated","computed","domain","disabled","confirmDisabled","mounted","methods","addTableIndex","arr","item","span","checkToast","resource","onResize","card_box_height","all_title_height","bottom_row_height","getCarList","console","images","setStatus","row","changeSelected","val","selectFn","closeSelectDialog","confirmSelect","go_on","shop_code_arr","shop_name_arr","style_id_arr","select_id_arr","select_id","shop_name","changeSelectForm","sessionStorage","ajaxViewShop","commonResource","new_selected_form","getAllDemandSendType","getEditor","v","deleteFn","style_id","confirmButtonText","cancelButtonText","then","select_cart_id","catch","message","components","PageTitle","QuillEditor"],"sourceRoot":"src/pages/CarPage","sources":["car_page.vue"],"sourcesContent":["<template>\n\t<div class=\"padding_page\">\n\t\t<div class=\"padding_page_content\">\n\t\t\t<PageTitle title=\"待选记录\"/>\n\t\t\t<el-card class=\"card_box\" id=\"card_box\">\n\t\t\t\t<div class=\"all_title\" id=\"all_title\">待选（全部{{car_goods.length}}）</div>\n\t\t\t\t<el-table ref=\"multipleTable\" size=\"mini\" :data=\"car_goods\" tooltip-effect=\"dark\" style=\"width: 100%\" @selection-change=\"changeSelected\" :header-cell-style=\"{'background':'#f4f4f4','text-align': 'center'}\" :cell-style=\"{'text-align':'center'}\" :max-height=\"max_height\" v-loading=\"loading\">\n\t\t\t\t\t<el-table-column type=\"selection\" width=\"85\" fixed=\"left\" :selectable=\"setStatus\">\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column label=\"图片\" width=\"150\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t<div class=\"sx\" v-if=\"scope.row.status == 1\">失效</div>\n\t\t\t\t\t\t\t<div v-else-if=\"scope.row.images.length == 0\">暂无</div>\n\t\t\t\t\t\t\t<el-carousel trigger=\"hover\" indicator-position=\"none\" :autoplay=\"false\" height=\"100px\" v-else>\n\t\t\t\t\t\t\t\t<el-carousel-item v-for=\"item in scope.row.images\" :key=\"item\">\n\t\t\t\t\t\t\t\t\t<el-image :z-index=\"2006\" class=\"image\" :src=\"item\" fit=\"scale-down\" :preview-src-list=\"scope.row.images\"></el-image>\n\t\t\t\t\t\t\t\t</el-carousel-item>\n\t\t\t\t\t\t\t</el-carousel>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\n\t\t\t\t\t<el-table-column label=\"标题\" prop=\"price\" width=\"160\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t<div class=\"record_title\">{{scope.row.title}}</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column label=\"供应商\" prop=\"supplier_name\" width=\"160\"></el-table-column>\n\t\t\t\t\t<el-table-column label=\"上新时间\" prop=\"new_time_name\" width=\"150\">\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column label=\"款号\" prop=\"style_name\"></el-table-column>\n\t\t\t\t\t<el-table-column label=\"款式编码\" width=\"140\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t<div class=\"item_row\" v-if=\"scope.row.new_supplier_ksbm\">\n\t\t\t\t\t\t\t\t<div class=\"item_label\">供应商：</div>\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<div v-for=\"item in scope.row.new_supplier_ksbm\">{{item}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"item_row\" v-if=\"scope.row.new_i_id\">\n\t\t\t\t\t\t\t\t<div class=\"item_label\">普通：</div>\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<div v-for=\"item in scope.row.new_i_id\">{{item}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"item_row\" v-if=\"scope.row.new_bd_i_id\">\n\t\t\t\t\t\t\t\t<div class=\"item_label\">BD：</div>\n\t\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t\t<div v-for=\"item in scope.row.new_bd_i_id\">{{item}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column label=\"拍摄风格\" prop=\"shooting_style_name\"></el-table-column>\n\t\t\t\t\t<el-table-column label=\"价格\" prop=\"cost_price\"></el-table-column>\n\t\t\t\t\t<el-table-column label=\"操作\" width=\"80\" fixed=\"right\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" @click=\"deleteFn('1',scope.row.select_cart_id)\">移除</el-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t</el-table>\n\t\t\t\t<div class=\"bottom_row\" id=\"bottom_row\">\n\t\t\t\t\t<el-button size='mini' type=\"text\" :disabled=\"selected_list.length == 0\" @click=\"deleteFn('2')\">移除</el-button>\n\t\t\t\t\t<div class=\"all_selected\">\n\t\t\t\t\t\t<div class=\"selcted_num\">已选 {{selected_list.length}} 件</div>\n\t\t\t\t\t\t<el-button size='mini' type=\"primary\" :disabled=\"disabled\" @click=\"selectFn\">去选中</el-button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</el-card>\n\t\t</div>\n\t\t<!-- 选款弹窗 -->\n\t\t<el-dialog :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\" @close=\"closeSelectDialog\" destroy-on-close :visible.sync=\"show_select\">\n\t\t\t<div slot=\"title\" class=\"dialog_title\">\n\t\t\t\t<div>选款</div>\n\t\t\t\t<img class=\"close_icon\" src=\"../../static/close_icon.png\" @click=\"show_select = false\">\n\t\t\t</div>\n\t\t\t<div class=\"select_content\">\n\t\t\t\t<div class=\"info_title\">选款信息</div>\n\t\t\t\t<div class=\"form_box\">\n\t\t\t\t\t<div class=\"form_content\">\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\"><span>*</span>店铺：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-select v-model=\"shop_code\" size=\"mini\" multiple collapse-tags filterable clearable placeholder=\"选择店铺\">\n\t\t\t\t\t\t\t\t\t<el-option v-for=\"item in store_list\" :key=\"item.shop_code\" :label=\"item.shop_name\" :value=\"item.shop_code\">\n\t\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\">需求日期：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-date-picker size=\"mini\" v-model=\"demand_date\" type=\"date\" value-format=\"yyyy-MM-dd\" placeholder=\"选择日期\">\n\t\t\t\t\t\t\t\t</el-date-picker>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\">售卖价格：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-input size=\"mini\" type=\"number\" clearable v-model=\"selling_price\" placeholder=\"请输入售卖价格\"></el-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form_content\">\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\"><span>*</span>需求类型：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-checkbox-group size=\"mini\" v-model=\"demand_type\">\n\t\t\t\t\t\t\t\t\t<el-checkbox :label=\"item.name\" v-for=\"item in need_type\">{{item.name}}</el-checkbox>\n\t\t\t\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\"><span>*</span>发货类型：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-select v-model=\"send_type\" size=\"mini\"  multiple collapse-tags filterable clearable placeholder=\"选择发货类型\">\n\t\t\t\t\t\t\t\t\t<el-option v-for=\"item in delivery_type_list\" :key=\"item.name\" :label=\"item.name\" :value=\"item.name\">\n\t\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<QuillEditor @callback=\"getEditor\"/>\n\t\t\t</div>\n\t\t\t<!-- 提示弹窗 -->\n\t\t\t<el-dialog :close-on-click-modal=\"false\" width=\"35%\" :close-on-press-escape=\"false\" :show-close=\"false\" :visible.sync=\"toast_dialog\" append-to-body>\n\t\t\t\t<div slot=\"title\" class=\"dialog_title\">\n\t\t\t\t\t<div>温馨提示</div>\n\t\t\t\t\t<img class=\"close_icon\" src=\"../../static/close_icon.png\" @click=\"toast_dialog = false\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"toast_content\">\n\t\t\t\t\t<div class=\"toast_text\">{{toast_content}}</div>\n\t\t\t\t\t<el-checkbox :true-label=\"1\" :false-label=\"0\" v-model=\"type\">24小时内不再提示</el-checkbox>\n\t\t\t\t</div>\n\t\t\t\t<div slot=\"footer\" class=\"dialog_footer\">\n\t\t\t\t\t<el-button size=\"small\" @click=\"toast_dialog = false\">取消</el-button>\n\t\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"confirmSelect(1)\">继续选择</el-button>\n\t\t\t\t</div>\n\t\t\t</el-dialog>\n\t\t\t<div slot=\"footer\" class=\"dialog_footer\">\n\t\t\t\t<el-button type=\"primary\" :disabled=\"confirmDisabled\" size=\"small\" @click=\"confirmSelect(0)\">确认选择</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t</div>\n</template>\n<script>\n\timport resource from '../../api/resource.js'\n\timport commonResource from '../../api/common_resource.js'\n\n\timport PageTitle from '../../components/page_title.vue'\n\timport QuillEditor from '../../components/quill_editor.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tloading:false,\n\t\t\t\tcar_goods:[],\t\t\t\t//购物车列表\n\t\t\t\tbutton_list:{},\n\t\t\t\tselected_list: [],\t\t\t//已选中的列表\n\t\t\t\tmax_height:0,\n\t\t\t\tshow_select:false,\t\t\t//选款弹窗\n\t\t\t\tstore_list:[],\t\t\t//店铺列表\n\t\t\t\tshop_code:[],\t\t\t//选中的店铺\n\t\t\t\tneed_type:[],\t\t\t//需求类型列表\n\t\t\t\tdemand_type:[],\t\t\t//选中的需求类型\n\t\t\t\tdelivery_type_list:[],\t//发货类型列表\n\t\t\t\tsend_type:[],\t\t\t//选中的发货类型\n\t\t\t\tdemand_date:\"\",\t\t\t//需求日期\n\t\t\t\tselling_price:\"\",\t\t//售卖价格\n\t\t\t\tremark:\"\",\t\t\t\t//备注\n\t\t\t\tis_loading:false,\n\t\t\t\ttoast_dialog:false,\t\t//有提交过的提示\n\t\t\t\ttoast_content:\"\",\t\t//提示内容\n\t\t\t\ttype:0,\t\t\t\t\t//0:提示；1:不提示\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tdestroyed() {\n\t\t\twindow.removeEventListener(\"resize\", () => {});\n\t\t},\n\t\tcreated(){\n\t\t\t//获取购物车列表数量\n\t\t\tthis.getCarList();\n\t\t},\n\t\twatch:{\n\t\t\t//切换24小时内不提示\n\t\t\ttype:function(n,o){\n\t\t\t\tthis.checkToast(n);\n\t\t\t},\n\t\t},\n\t\tupdated(){\n\t\t\tthis.addTableIndex();\n\t\t},\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t},\n\t\t\t//去选中按钮是否可以点击\n\t\t\tdisabled(){\n\t\t\t\tlet disabled = false;\n\t\t\t\tlet arr = this.selected_list.filter(item => {\n\t\t\t\t\treturn item.cost_price == '';\n\t\t\t\t})\n\t\t\t\tdisabled = arr.length > 0 || this.selected_list.length == 0;\n\t\t\t\treturn disabled;\n\t\t\t},\n\t\t\t//确认选择按钮是否可点击\n\t\t\tconfirmDisabled(){\n\t\t\t\treturn this.shop_code.length == 0 || this.demand_type.length == 0 || this.send_type.length == 0 || this.is_loading;\n\t\t\t}\n\t\t},\n\t\tmounted() {\n    \t\t//获取表格最大高度\n\t\t\tthis.onResize();\n\t\t\twindow.addEventListener(\"resize\", this.onResize());\n\t\t},\n\t\tmethods: {\n\t\t\taddTableIndex() {\n\t\t\t\tlet table = document.querySelector(\".el-table__body-wrapper\");\n\t\t\t\tlet tableSelect = table.getElementsByClassName(\n\t\t\t\t\t\"el-table-column--selection\"\n\t\t\t\t\t);\n\n\t\t\t\tvar arr = Array.from(tableSelect);\n\t\t\t\tarr.forEach((item, index) => {\n\t\t\t\t\tif (item.childNodes.length == 2) {\n\t\t\t\t\t\titem.removeChild(item.lastChild);\n\t\t\t\t\t}\n\t\t\t\t\tlet span = document.createElement(\"span\");\n\t\t\t\t\tspan.innerText = index + 1;\n\t\t\t\t\titem.appendChild(span);\n\t\t\t\t});\n\t\t\t},\n    \t\t//切换24小时内不提示\n\t\t\tcheckToast(type){\n\t\t\t\tresource.twoFourTitle({type:type}).then(res => {\n\t\t\t\t\tif(res.data.code != 1){\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n    \t\t//监听屏幕大小变化\n\t\t\tonResize() {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tlet card_box_height = document.getElementById(\"card_box\").offsetHeight;\n\t\t\t\t\tlet all_title_height = document.getElementById(\"all_title\").offsetHeight;\n\t\t\t\t\tlet bottom_row_height = document.getElementById(\"bottom_row\").offsetHeight;\n\t\t\t\t\tthis.max_height =\n\t\t\t\t\tcard_box_height -\n\t\t\t\t\tall_title_height -\n\t\t\t\t\tbottom_row_height -\n\t\t\t\t\t30 +\n\t\t\t\t\t\"px\";\n\t\t\t\t});\n\t\t\t},\n    \t\t//获取购物车列表数量\n\t\t\tgetCarList(){\n\t\t\t\tthis.loading = true;\n\t\t\t\tresource.getCarList().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\tlet car_goods = res.data.data.data;\n\t\t\t\t\t\tconsole.log(car_goods)\n\t\t\t\t\t\tcar_goods.map(item => {\n\t\t\t\t\t\t\tlet images = [];\n\t\t\t\t\t\t\tif(item.img){\n\t\t\t\t\t\t\t\titem.img.map(i => {\n\t\t\t\t\t\t\t\t\timages.push(this.domain + i);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem.images = images;\n\t\t\t\t\t\t\tif(item.i_id){\n\t\t\t\t\t\t\t\titem.new_i_id = item.i_id.split(',')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(item.bd_i_id){\n\t\t\t\t\t\t\t\titem.new_bd_i_id = item.bd_i_id.split(',')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(item.supplier_ksbm){\n\t\t\t\t\t\t\t\titem.new_supplier_ksbm = item.supplier_ksbm.split(',')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.car_goods = car_goods;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message,warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n    \t\t//判断是否可以选中\n\t\t\tsetStatus(row){\n\t\t\t\tif (row.status == '0') { \n\t\t\t\t\treturn true;  \n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t//切换选中\n\t\t\tchangeSelected(val) {\n\t\t\t\tthis.selected_list = val;\n\t\t\t},\n\t\t\t//点击去选中\n\t\t\tselectFn(){\n\t\t\t\t//获取店铺列表\n\t\t\t\tthis.ajaxViewShop();\n\t\t\t\t//获取所有需求/发货类型\n\t\t\t\tthis.getAllDemandSendType();\n\t\t\t\tthis.show_select = true;\n\t\t\t},\n\t\t\t//关闭选款弹窗\n\t\t\tcloseSelectDialog(){\n\t\t\t\tthis.shop_code = [];\t\t\t//选中的店铺\n\t\t\t\tthis.demand_type = [];\t\t\t//选中的需求类型\n\t\t\t\tthis.send_type = [];\t\t\t//选中的发货类型\n\t\t\t\tthis.demand_date = \"\";\t\t\t//需求日期\n\t\t\t\tthis.selling_price = \"\";\t\t//售卖价格\n\t\t\t\tthis.remark = \"\";\t\t\t\t//备注\n\t\t\t},\n\t\t\t//提交选款\n\t\t\tconfirmSelect(go_on){\n\t\t\t\tif(this.shop_code.length == 0){\n\t\t\t\t\tthis.$message.warning('请选择店铺!');\n\t\t\t\t}else if(this.demand_type.length == 0){\n\t\t\t\t\tthis.$message.warning('请选择需求类型!');\n\t\t\t\t}else if(this.send_type.length == 0){\n\t\t\t\t\tthis.$message.warning('请选择发货类型!');\n\t\t\t\t}else if(this.selling_price < 0){\n\t\t\t\t\tthis.$message.warning('售卖价格应大于0!');\n\t\t\t\t}else{\n\t\t\t\t\tvar shop_code_arr = [];\n\t\t\t\t\tvar shop_name_arr = [];\n\t\t\t\t\tthis.shop_code.map(item => {\n\t\t\t\t\t\tthis.store_list.map(i => {\n\t\t\t\t\t\t\tif(item == i.shop_code){\n\t\t\t\t\t\t\t\tshop_code_arr.push(i.shop_code);\n\t\t\t\t\t\t\t\tshop_name_arr.push(i.shop_name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t\t//商品ID\n\t\t\t\t\tlet style_id_arr = [];\n\t\t\t\t\tlet select_id_arr = [];\n\t\t\t\t\tthis.selected_list.map(item => {\n\t\t\t\t\t\tstyle_id_arr.push(item.style_id);\n\t\t\t\t\t\tselect_id_arr.push(item.select_cart_id);\n\t\t\t\t\t})\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tselect_id:select_id_arr.join(','),\n\t\t\t\t\t\tstyle_id_arr:style_id_arr.join(','),\n\t\t\t\t\t\tshop_code:shop_code_arr.join(','),\n\t\t\t\t\t\tshop_name:shop_name_arr.join(','),\n\t\t\t\t\t\tdemand_type:this.demand_type.join(','),\n\t\t\t\t\t\tdemand_date:this.demand_date?this.demand_date:\"\",\n\t\t\t\t\t\tsend_type:this.send_type.join(','),\n\t\t\t\t\t\tselling_price:this.selling_price,\n\t\t\t\t\t\tremark:this.remark,\n\t\t\t\t\t\tgo_on:go_on\n\t\t\t\t\t}\n\t\t\t\t\tthis.is_loading = true;\n\t\t\t\t\tresource.addSelected(arg).then(res => {\n\t\t\t\t\t\tthis.is_loading = false;\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\tthis.show_select = false;\n\t\t\t\t\t\t\tthis.toast_dialog = false;\n\t\t\t\t\t\t\t//缓存选款的店铺、需求类型、发货类型参数\n\t\t\t\t\t\t\tthis.changeSelectForm();\n\t\t\t\t\t\t\t//获取购物车列表数量\n\t\t\t\t\t\t\tthis.getCarList();\n\t\t\t\t\t\t}else if(res.data.code == 5){\n\t\t\t\t\t\t\tthis.toast_content = res.data.msg;\n\t\t\t\t\t\t\tthis.toast_dialog = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//缓存选款的店铺、需求类型、发货类型参数\n\t\t\tchangeSelectForm(){\t\n\t\t\t\tlet form = {\n\t\t\t\t\tshop_code:this.shop_code,\n\t\t\t\t\tdemand_type:this.demand_type,\n\t\t\t\t\tsend_type:this.send_type\n\t\t\t\t}\n\t\t\t\tsessionStorage.setItem(\"selectedForm\",JSON.stringify(form))\n\t\t\t},\n\t\t\t//获取店铺列表\n\t\t\tajaxViewShop(){\n\t\t\t\tlet arg = {\n\t\t\t\t\ttype:3,\n\t\t\t\t}\n\t\t\t\tcommonResource.ajaxViewShop(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.store_list = res.data.data;\n\t\t\t\t\t\tlet selectedForm = sessionStorage.getItem(\"selectedForm\");\n\t\t\t\t\t\tif(selectedForm){\n\t\t\t\t\t\t\tlet new_selected_form = JSON.parse(sessionStorage.getItem(\"selectedForm\"));\n\t\t\t\t\t\t\tthis.shop_code = [];\n\t\t\t\t\t\t\tnew_selected_form.shop_code.map(item => {\n\t\t\t\t\t\t\t\tlet arr = this.store_list.filter(i => {\n\t\t\t\t\t\t\t\t\treturn i.shop_code == item;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tif(arr.length > 0){\n\t\t\t\t\t\t\t\t\tthis.shop_code.push(arr[0].shop_code)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//获取所有需求/发货类型\n\t\t\tgetAllDemandSendType(){\n\t\t\t\tcommonResource.getAllDemandSendType().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\t//需求类型\n\t\t\t\t\t\tthis.need_type = data.filter(item => {\n\t\t\t\t\t\t\treturn item.type == 1;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t//发货类型\n\t\t\t\t\t\tthis.delivery_type_list = data.filter(item => {\n\t\t\t\t\t\t\treturn item.type == 2;\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tthis.demand_type = [];\n\t\t\t\t\t\tthis.send_type = [];\n\n\t\t\t\t\t\tlet selectedForm = sessionStorage.getItem(\"selectedForm\");\n\t\t\t\t\t\tif(selectedForm){\n\t\t\t\t\t\t\tlet new_selected_form = JSON.parse(sessionStorage.getItem(\"selectedForm\"));\n\n\t\t\t\t\t\t\tnew_selected_form.demand_type.map(item => {\n\t\t\t\t\t\t\t\tlet arr = this.need_type.filter(i => {\n\t\t\t\t\t\t\t\t\treturn i.name == item;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tif(arr.length > 0){\n\t\t\t\t\t\t\t\t\tthis.demand_type.push(arr[0].name)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tif(this.delivery_type_list.length == 1){\n\t\t\t\t\t\t\t\tthis.send_type.push(this.delivery_type_list[0].name);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnew_selected_form.send_type.map(item => {\n\t\t\t\t\t\t\t\t\tlet arr = this.delivery_type_list.filter(i => {\n\t\t\t\t\t\t\t\t\t\treturn i.name == item;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tif(arr.length > 0){\n\t\t\t\t\t\t\t\t\t\tthis.send_type.push(arr[0].name)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(this.delivery_type_list.length == 1){\n\t\t\t\t\t\t\t\tthis.send_type.push(this.delivery_type_list[0].name);\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//监听富文本编辑器内容变化\n\t\t\tgetEditor(v){\n\t\t\t\tthis.remark = v;\n\t\t\t},\n\t\t\t//点击删除\n\t\t\tdeleteFn(type,style_id){\n\t\t\t\tthis.$confirm('确认删除商品图?', '提示', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\t//商品ID\n\t\t\t\t\tlet style_id_arr = [];\n\t\t\t\t\tthis.selected_list.map(item => {\n\t\t\t\t\t\tstyle_id_arr.push(item.select_cart_id);\n\t\t\t\t\t})\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tselect_cart_id:type == '1'?style_id:style_id_arr.join(',')\n\t\t\t\t\t}\n\t\t\t\t\tresource.removeCarGoods(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t//获取列表\n\t\t\t\t\t\t\tthis.getCarList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t});          \n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t\tcomponents:{\n\t\t\tPageTitle,\n\t\t\tQuillEditor\n\t\t}\n\t}\n</script>\n<style lang=\"less\" scoped>\n\t.padding_page_content{\n\t\twidth: 1440rem;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\t.card_box{\n\t\t\tflex:1;\n\t\t\t.all_title{\n\t\t\t\tpadding-bottom: 8rem;\n\t\t\t\tfont-size: 14rem;\n\t\t\t\tcolor: #333333;\n\t\t\t}\n\t\t\t.sx{\n\t\t\t\tbackground: #D8D8D8;\n\t\t\t\tborder:1px solid #979797;\n\t\t\t\twidth: 40px;\n\t\t\t\ttext-align: center;\n\t\t\t\theight: 16px;\n\t\t\t\tline-height: 16px;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: -12px;\n\t\t\t\ttop: 45%;\n\t\t\t\ttransform: translate(-50%,0);\n\t\t\t\tz-index: 999;\n\t\t\t\tfont-size: 12px;\n\t\t\t\tcolor: #333333;\n\t\t\t}\n\t\t\t.image{\n\t\t\t\twidth: 100px;\n\t\t\t\theight: 100px;\n\t\t\t}\n\t\t\t.item_row{\n\t\t\t\tdisplay: flex;\n\t\t\t\t.item_label{\n\t\t\t\t\twidth: 48px;\n\t\t\t\t\ttext-align:end;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.record_title{\n\t\t\tfont-size:12rem;\n\t\t\tcolor: var(--color);\n\t\t}\n\t\t.bottom_row{\n\t\t\tpadding-top: 18rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\t.all_selected{\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\t.selcted_num{\n\t\t\t\t\tmargin-right: 12rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.select_content{\n\t\tpadding: 18rem 20rem;\n\t\t.info_title{\n\t\t\tmargin-bottom: 14rem;\n\t\t\tfont-size:14rem;\n\t\t\tcolor: #333333;\n\t\t}\n\t\t.form_box{\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\t.form_content{\n\t\t\t\t.form_item{\n\t\t\t\t\tmargin-bottom: 20rem;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\t.lable{\n\t\t\t\t\t\twidth: 80rem;\n\t\t\t\t\t\tfont-size:14rem;\n\t\t\t\t\t\tcolor: #333333;\n\t\t\t\t\t\tspan{\n\t\t\t\t\t\t\tcolor: red;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.toast_content{\n\t\tpadding: 10rem 20rem;\n\t\t.toast_text{\n\t\t\tmargin-bottom: 15rem;\n\t\t}\n\t}\n</style>"]}]}