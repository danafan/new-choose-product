{"remainingRequest":"/Users/fanyulong/project/2022/new-choose-product/node_modules/babel-loader/lib/index.js!/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fanyulong/project/2022/new-choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/new-choose-product/src/components/screening_widget.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/new-choose-product/src/components/screening_widget.vue","mtime":1680595855000},{"path":"/Users/fanyulong/project/2022/new-choose-product/babel.config.js","mtime":1662529345000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.number.constructor\";\nimport { getNowDate, getCurrentDate } from \"../api/date.js\";\nimport commonResource from \"../api/common_resource.js\";\nimport pinyin from \"../../node_modules/js-pinyin/index.js\";\nexport default {\n  data: function data() {\n    return {\n      supplier_index: -1,\n      //选中的供应商下标\n      supplier_list: [],\n      //供应商列表\n      market_index: 0,\n      //选中的市场下标\n      market_list: [],\n      //市场列表\n      category_index: 0,\n      //选中的类目下标\n      category_list: [],\n      //类目列表\n      class_index: 0,\n      //选中的分类下标\n      class_list: [],\n      //分类列表\n      style_index: 0,\n      //选中的拍摄风格下标\n      style_list: [],\n      //拍摄风格列表\n      rating_index: 0,\n      //选中的供应商评级下标\n      rating_list: [],\n      //供应商评级列表\n      season_index: 0,\n      //选中的季节下标\n      season_list: [],\n      //季节列表\n      sort_list: [{\n        name: '30天销量',\n        key: 'sales',\n        val: 'sales_num_all',\n        sort: 'default'\n      }, {\n        name: '选中量',\n        key: 'select',\n        val: 'select_num',\n        sort: 'default'\n      }, {\n        name: '浏览量',\n        key: 'views',\n        val: 'views_num',\n        sort: 'default'\n      }],\n      //排序列表\n      cate_style_list: [{\n        name: '深度库存',\n        is_selected: 0\n      }, {\n        name: '视频款',\n        is_selected: 0\n      }, {\n        name: '爆款',\n        is_selected: 0\n      }, {\n        name: '主推款',\n        is_selected: 0\n      }, {\n        name: '独家款',\n        is_selected: 0\n      }, {\n        name: '自主款',\n        is_selected: 0\n      }],\n      //款式列表\n      up_type: [],\n      //上新类型\n      date: [],\n      //上新日期 \n      start_price: \"\",\n      end_price: \"\",\n      FristPin: [\"全部\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", \"M\", \"N\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"W\", \"X\", \"Y\", \"Z\"],\n      a_item: \"全部\",\n      cityjson: {},\n      open_more: false //是否更多\n\n    };\n  },\n  props: {\n    //index:首页；supplier:供应商；gys_supplier:供应商来源\n    page_type: {\n      type: String,\n      default: \"index\"\n    },\n    //商品总数量\n    total_num: {\n      type: Number,\n      default: 0\n    }\n  },\n  created: function created() {\n    if (this.page_type == 'gys_supplier') {\n      //获取筛选条件列表\n      this.supplierScreenList();\n    } else {\n      var o = {\n        name: '7天销量',\n        key: 'sales_seven',\n        val: 'sales_seven',\n        sort: 'default'\n      };\n      this.sort_list.unshift(o); //获取筛选条件列表\n\n      this.getScreenList();\n    }\n  },\n  computed: {\n    screen_open: function screen_open() {\n      return this.$store.state.screen_open;\n    }\n  },\n  watch: {\n    a_item: function a_item(n, o) {\n      if (n != '') {\n        this.supplier_list = this.cityjson[n];\n        this.supplier_index = -1;\n\n        if (n == '全部') {\n          //获取当前条件并传递\n          this.callbackFn();\n        }\n      } else {}\n    }\n  },\n  methods: {\n    //切换上新类型\n    upTypeChange: function upTypeChange(value) {\n      if (this.up_type.length > 1) {\n        this.up_type.splice(0, 1);\n      }\n\n      if (this.up_type.length > 0) {\n        switch (this.up_type[0]) {\n          case 1:\n            this.date = [getNowDate(), getNowDate()]; //获取当前条件并传递\n\n            this.callbackFn();\n            break;\n\n          case 3:\n            this.date = [getCurrentDate(3), getNowDate()]; //获取当前条件并传递\n\n            this.callbackFn();\n            break;\n\n          case 7:\n            this.date = [getCurrentDate(7), getNowDate()]; //获取当前条件并传递\n\n            this.callbackFn();\n            break;\n\n          default:\n            return;\n        }\n      } else {\n        this.date = []; //获取当前条件并传递\n\n        this.callbackFn();\n      }\n    },\n    //获取筛选条件列表\n    getScreenList: function getScreenList() {\n      var _this = this;\n\n      commonResource.getScreenList().then(function (res) {\n        if (res.data.code == 1) {\n          var data = res.data.data;\n          var supplier_list = data.supplier;\n\n          var _pinyin = require('js-pinyin');\n\n          _pinyin.setOptions({\n            checkPolyphone: false,\n            charCase: 0\n          });\n\n          var cityArr = [];\n\n          for (var i = 0; i < supplier_list.length; i++) {\n            //遍历数组,拿到城市名称\n            var cityName = supplier_list[i].supplier_name; //取全部城市的首字母\n\n            var fristName = _pinyin.getCamelChars(cityName).substring(0, 1); //\t这里截取首字母的第一位\n            //给原json添加首字母键值对\n\n\n            supplier_list[i].first = fristName; //放入新数组\n\n            cityArr.push(supplier_list[i]);\n          }\n\n          var cityJson = {}; //根据首字母键值对给原数据按首字母分类\n\n          var _loop = function _loop(_i) {\n            if (_i == 0) {\n              cityJson[_this.FristPin[_i]] = cityArr;\n            } else {\n              //这里的FirstPin是一个写入了所有字母的数组,见data中\n              cityJson[_this.FristPin[_i]] = cityArr.filter(function (value) {\n                return value.first === _this.FristPin[_i];\n              });\n            }\n          };\n\n          for (var _i = 0; _i < _this.FristPin.length; _i++) {\n            _loop(_i);\n          }\n\n          _this.cityjson = cityJson;\n          _this.supplier_list = _this.cityjson[\"全部\"];\n          var market_list = data.market;\n          market_list.unshift({\n            market_name: '全部',\n            market_id: ''\n          });\n          _this.market_list = market_list;\n          var category_list = data.category;\n          category_list.unshift({\n            category_name: '全部',\n            category_id: ''\n          });\n          _this.category_list = category_list;\n          var class_list = data.classification;\n          class_list.unshift({\n            classification_name: '全部',\n            classification_id: ''\n          });\n          _this.class_list = class_list;\n          var style_list = data.shooting_style;\n          style_list.unshift({\n            shooting_style_name: '全部',\n            shooting_style_id: ''\n          });\n          _this.style_list = style_list;\n          var rating_list = data.grade;\n          rating_list.unshift({\n            grade_name: '全部',\n            grade_id: ''\n          });\n          _this.rating_list = rating_list; //季节\n\n          var season_list = data.season;\n          season_list.unshift({\n            season_name: '全部',\n            season_id: ''\n          });\n          _this.season_list = season_list;\n        } else {\n          _this.$message.warning(res.data.msg);\n        }\n      });\n    },\n    //供应商筛选项列表\n    supplierScreenList: function supplierScreenList() {\n      var _this2 = this;\n\n      commonResource.supplierScreenList().then(function (res) {\n        if (res.data.code == 1) {\n          var data = res.data.data;\n          var market_list = data.market;\n          market_list.unshift({\n            market_name: '全部',\n            market_id: ''\n          });\n          _this2.market_list = market_list;\n          var category_list = data.category;\n          category_list.unshift({\n            category_name: '全部',\n            category_id: ''\n          });\n          _this2.category_list = category_list;\n          var class_list = data.classification;\n          class_list.unshift({\n            classification_name: '全部',\n            classification_id: ''\n          });\n          _this2.class_list = class_list;\n          var style_list = data.shooting_style;\n          style_list.unshift({\n            shooting_style_name: '全部',\n            shooting_style_id: ''\n          });\n          _this2.style_list = style_list;\n        } else {\n          _this2.$message.warning(res.data.msg);\n        }\n      });\n    },\n    resetFn: function resetFn() {\n      this.supplier_index = -1;\n      this.market_index = 0;\n      this.category_index = 0;\n      this.class_index = 0;\n      this.style_index = 0;\n      this.rating_index = 0;\n      this.season_index = 0; //获取当前条件并传递\n\n      this.callbackFn();\n    },\n    //点击展开或收起\n    checkFn: function checkFn() {\n      this.$store.commit(\"setScreen\", !this.screen_open);\n    },\n    // 切换下拉框筛选条件\n    checkIndex: function checkIndex(type, index) {\n      switch (type) {\n        case 'supplier':\n          this.a_item = \"\";\n          this.supplier_index = index;\n          break;\n\n        case 'market':\n          this.market_index = index;\n          break;\n\n        case 'category':\n          this.category_index = index;\n          break;\n\n        case 'class':\n          this.class_index = index;\n          break;\n\n        case 'style':\n          this.style_index = index;\n          break;\n\n        case 'season':\n          this.season_index = index;\n          break;\n\n        case 'rating':\n          this.rating_index = index;\n          break;\n      } //获取当前条件并传递\n\n\n      this.callbackFn();\n    },\n    //点击切换排序条件\n    sortFn: function sortFn(index) {\n      this.sort_list.map(function (item, i) {\n        if (index == i) {\n          switch (item.sort) {\n            case 'default':\n              item.sort = 'desc';\n              break;\n\n            case 'desc':\n              item.sort = 'default';\n              break;\n          }\n        } else {\n          item.sort = 'default';\n        }\n      }); //获取当前条件并传递\n\n      this.callbackFn();\n    },\n    //点击切换款式\n    checkStyle: function checkStyle(index) {\n      this.cate_style_list.map(function (item, i) {\n        if (index == i) {\n          item.is_selected = item.is_selected == 1 ? 0 : 1;\n        }\n      }); //获取当前条件并传递\n\n      this.callbackFn();\n    },\n    //切换上新时间筛选器\n    changeDate: function changeDate() {\n      this.up_type = []; //获取当前条件并传递\n\n      this.callbackFn();\n    },\n    //点击查询价格区间\n    searchPrice: function searchPrice() {\n      if (this.start_price != '' && !this.isPrice.test(parseFloat(this.start_price))) {\n        this.$message.warning('价格必须大于0且最多两位小数');\n        return;\n      } else if (this.end_price != '' && !this.isPrice.test(parseFloat(this.end_price))) {\n        this.$message.warning('价格必须大于0且最多两位小数');\n        return;\n      } else if (parseFloat(this.start_price) > parseFloat(this.end_price)) {\n        this.$message.warning('起始价格不能高于结束金额');\n        return;\n      } //获取当前条件并传递\n\n\n      this.callbackFn();\n    },\n    //获取当前条件并传递\n    callbackFn: function callbackFn() {\n      var arg = {\n        start_time: this.date && this.date.length > 0 ? this.date[0] : \"\",\n        end_time: this.date && this.date.length > 0 ? this.date[1] : \"\",\n        start_price: this.start_price ? parseFloat(this.start_price) : '',\n        end_price: this.end_price ? parseFloat(this.end_price) : ''\n      }; //处理排序\n\n      var sort_arr = this.sort_list.filter(function (item) {\n        return item.sort != 'default';\n      });\n\n      if (sort_arr.length > 0) {\n        arg[sort_arr[0].key] = sort_arr[0].val + '-' + sort_arr[0].sort;\n      } //处理款式分类\n\n\n      if (this.page_type != 'gys_supplier') {\n        arg.depth_inventory = this.cate_style_list[0].is_selected;\n        arg.video_style = this.cate_style_list[1].is_selected;\n        arg.hot_style = this.cate_style_list[2].is_selected;\n        arg.data_style = this.cate_style_list[3].is_selected;\n        arg.sole_style = this.cate_style_list[4].is_selected;\n        arg.again_style = this.cate_style_list[5].is_selected;\n      } //处理供应商\n\n\n      if (this.page_type == 'index' && this.supplier_index >= 0) {\n        arg.supplier_id = this.supplier_list[this.supplier_index].supplier_id;\n      } //处理市场\n\n\n      if (this.market_index > 0) {\n        arg.market_id = this.market_list[this.market_index].market_id;\n      } //处理类目\n\n\n      if (this.category_index > 0) {\n        arg.category_id = this.category_list[this.category_index].category_id;\n      } //处理分类\n\n\n      if (this.class_index > 0) {\n        arg.classification_id = this.class_list[this.class_index].classification_id;\n      } //处理风格\n\n\n      if (this.style_index > 0) {\n        arg.shooting_style_id = this.style_list[this.style_index].shooting_style_id;\n      } //处理季节\n\n\n      if (this.page_type == 'index' && this.season_index > 0) {\n        arg.season_id = this.season_list[this.season_index].season_id;\n      } //处理评级\n\n\n      if (this.page_type != 'gys_supplier' && this.rating_index > 0) {\n        arg.grade_id = this.rating_list[this.rating_index].grade_id;\n      }\n\n      this.$emit('callback', arg);\n    }\n  }\n};",{"version":3,"mappings":";;AA2HA;AAEA;AAEA;AACA;EACAA,IADA,kBACA;IACA;MACAC,kBADA;MACA;MACAC,iBAFA;MAEA;MACAC,eAHA;MAGA;MACAC,eAJA;MAIA;MACAC,iBALA;MAKA;MACAC,iBANA;MAMA;MACAC,cAPA;MAOA;MACAC,cARA;MAQA;MACAC,cATA;MASA;MACAC,cAVA;MAUA;MACAC,eAXA;MAWA;MACAC,eAZA;MAYA;MACAC,eAbA;MAaA;MACAC,eAdA;MAcA;MACAC;QACAC,aADA;QAEAC,YAFA;QAGAC,oBAHA;QAIAC;MAJA,GAKA;QACAH,WADA;QAEAC,aAFA;QAGAC,iBAHA;QAIAC;MAJA,CALA,EAUA;QACAH,WADA;QAEAC,YAFA;QAGAC,gBAHA;QAIAC;MAJA,CAVA,CAfA;MA8BA;MACAC;QACAJ,YADA;QAEAK;MAFA,GAGA;QACAL,WADA;QAEAK;MAFA,CAHA,EAMA;QACAL,UADA;QAEAK;MAFA,CANA,EASA;QACAL,WADA;QAEAK;MAFA,CATA,EAYA;QACAL,WADA;QAEAK;MAFA,CAZA,EAeA;QACAL,WADA;QAEAK;MAFA,CAfA,CA/BA;MAiDA;MACAC,WAlDA;MAkDA;MACAC,QAnDA;MAmDA;MACAC,eApDA;MAqDAC,aArDA;MAsDAC,8HAtDA;MAuDAC,YAvDA;MAwDAC,YAxDA;MAyDAC,gBAzDA,CAyDA;;IAzDA;EA2DA,CA7DA;EA8DAC;IACA;IACAC;MACAC,YADA;MAEAC;IAFA,CAFA;IAMA;IACAC;MACAF,YADA;MAEAC;IAFA;EAPA,CA9DA;EA0EAE,OA1EA,qBA0EA;IACA;MACA;MACA;IACA,CAHA,MAGA;MACA;QACAnB,YADA;QAEAC,kBAFA;QAGAC,kBAHA;QAIAC;MAJA;MAMA,0BAPA,CAQA;;MACA;IACA;EACA,CAzFA;EA0FAiB;IACAC,WADA,yBACA;MACA;IACA;EAHA,CA1FA;EA+FAC;IACAX;MACA;QACA;QACA;;QACA;UACA;UACA;QACA;MACA,CAPA,MAOA,CAEA;IACA;EAZA,CA/FA;EA6GAY;IACA;IACAC,YAFA,wBAEAC,KAFA,EAEA;MACA;QACA;MACA;;MACA;QACA;UACA;YACA,yCADA,CAEA;;YACA;YACA;;UACA;YACA,8CADA,CAEA;;YACA;YACA;;UACA;YACA,8CADA,CAEA;;YACA;YACA;;UACA;YACA;QAjBA;MAmBA,CApBA,MAoBA;QACA,eADA,CAEA;;QACA;MACA;IACA,CA/BA;IAgCA;IACAC,aAjCA,2BAiCA;MAAA;;MACAC;QACA;UACA;UACA;;UACA;;UACAC;YAAAC;YAAAC;UAAA;;UACA;;UACA;YACA;YACA,8CAFA,CAGA;;YACA,gEAJA,CAKA;YACA;;;YACA5C,mCAPA,CAQA;;YACA6C;UACA;;UACA,kBAjBA,CAkBA;;UAlBA,2BAmBAC,EAnBA;YAoBA;cACAC;YACA,CAFA,MAEA;cACA;cACAA;gBACA;cACA,CAFA;YAGA;UA3BA;;UAmBA;YAAA;UAUA;;UACA;UACA;UAEA;UACA7C;YACA8C,iBADA;YAEAC;UAFA;UAIA;UACA;UACA7C;YACA8C,mBADA;YAEAC;UAFA;UAIA;UACA;UACA7C;YACA8C,yBADA;YAEAC;UAFA;UAIA;UACA;UACA7C;YACA8C,yBADA;YAEAC;UAFA;UAIA;UACA;UACA7C;YACA8C,gBADA;YAEAC;UAFA;UAIA,gCA9DA,CA+DA;;UACA;UACA7C;YACA8C,iBADA;YAEAC;UAFA;UAIA;QACA,CAtEA,MAsEA;UACA;QACA;MACA,CA1EA;IA2EA,CA7GA;IA8GA;IACAC,kBA/GA,gCA+GA;MAAA;;MACAnB;QACA;UACA;UACA;UACAvC;YACA8C,iBADA;YAEAC;UAFA;UAIA;UACA;UACA7C;YACA8C,mBADA;YAEAC;UAFA;UAIA;UACA;UACA7C;YACA8C,yBADA;YAEAC;UAFA;UAIA;UACA;UACA7C;YACA8C,yBADA;YAEAC;UAFA;UAIA;QACA,CA1BA,MA0BA;UACA;QACA;MACA,CA9BA;IA+BA,CA/IA;IAgJAM,OAhJA,qBAgJA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,sBAPA,CAQA;;MACA;IACA,CA1JA;IA2JA;IACAC,OA5JA,qBA4JA;MACA;IACA,CA9JA;IA+JA;IACAC,UAhKA,sBAgKAjC,IAhKA,EAgKAkC,KAhKA,EAgKA;MACA;QACA;UACA;UACA;UACA;;QACA;UACA;UACA;;QACA;UACA;UACA;;QACA;UACA;UACA;;QACA;UACA;UACA;;QACA;UACA;UACA;;QACA;UACA;UACA;MAtBA,CADA,CAyBA;;;MACA;IACA,CA3LA;IA4LA;IACAC,MA7LA,kBA6LAD,KA7LA,EA6LA;MACA;QACA;UACA;YACA;cACAE;cACA;;YACA;cACAA;cACA;UANA;QAQA,CATA,MASA;UACAA;QACA;MACA,CAbA,EADA,CAeA;;MACA;IACA,CA9MA;IA+MA;IACAC,UAhNA,sBAgNAH,KAhNA,EAgNA;MACA;QACA;UACAE;QACA;MACA,CAJA,EADA,CAMA;;MACA;IACA,CAxNA;IAyNA;IACAE,UA1NA,wBA0NA;MACA,kBADA,CAEA;;MACA;IACA,CA9NA;IA+NA;IACAC,WAhOA,yBAgOA;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;MACA,CAVA,CAWA;;;MACA;IACA,CA7OA;IA8OA;IACAC,UA/OA,wBA+OA;MACA;QACAC,iEADA;QAEAC,+DAFA;QAGAlD,iEAHA;QAIAC;MAJA,EADA,CAQA;;MACA;QACA;MACA,CAFA;;MAGA;QACAkD;MACA,CAdA,CAgBA;;;MACA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;MACA,CAxBA,CA0BA;;;MACA;QACAA;MACA,CA7BA,CA8BA;;;MACA;QACAA;MACA,CAjCA,CAkCA;;;MACA;QACAA;MACA,CArCA,CAsCA;;;MACA;QACAA;MACA,CAzCA,CA0CA;;;MACA;QACAA;MACA,CA7CA,CA8CA;;;MACA;QACAA;MACA,CAjDA,CAkDA;;;MACA;QACAA;MACA;;MACA;IACA;EAtSA;AA7GA","names":["data","supplier_index","supplier_list","market_index","market_list","category_index","category_list","class_index","class_list","style_index","style_list","rating_index","rating_list","season_index","season_list","sort_list","name","key","val","sort","cate_style_list","is_selected","up_type","date","start_price","end_price","FristPin","a_item","cityjson","open_more","props","page_type","type","default","total_num","created","computed","screen_open","watch","methods","upTypeChange","value","getScreenList","commonResource","pinyin","checkPolyphone","charCase","cityArr","i","cityJson","market_name","market_id","category_name","category_id","classification_name","classification_id","shooting_style_name","shooting_style_id","grade_name","grade_id","season_name","season_id","supplierScreenList","resetFn","checkFn","checkIndex","index","sortFn","item","checkStyle","changeDate","searchPrice","callbackFn","start_time","end_time","arg"],"sourceRoot":"src/components","sources":["screening_widget.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"total_num\">共有{{total_num}}件相关商品</div>\n\t\t<div class=\"selected_box\" @click.stop=\"checkFn\">\n\t\t\t<div class=\"selected_left\">\n\t\t\t\t<div>已选条件</div>\n\t\t\t\t<div class=\"tj_row\" v-if=\"supplier_index == -1 && market_index == 0 && category_index == 0 && class_index == 0 && style_index == 0 && rating_index == 0 && season_index == 0\">\n\t\t\t\t\t<img class=\"right_arrow\" src=\"../static/down_arrow.png\">\n\t\t\t\t\t<div>全部</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tj_row\" v-else>\n\t\t\t\t\t<img class=\"right_arrow\" src=\"../static/down_arrow.png\" v-if=\"page_type == 'index'\">\n\t\t\t\t\t<div v-if=\"supplier_list.length > 0 && page_type == 'index'\">供应商（{{supplier_index == -1?'全部':supplier_list[supplier_index].supplier_name}}）</div>\n\t\t\t\t\t<img class=\"right_arrow\" src=\"../static/down_arrow.png\" v-if=\"page_type == 'index'\">\n\t\t\t\t\t<div v-if=\"market_list.length > 0 && page_type == 'index'\">市场（{{market_list[market_index].market_name}}）</div>\n\t\t\t\t\t<img class=\"right_arrow\" src=\"../static/down_arrow.png\">\n\t\t\t\t\t<div v-if=\"category_list.length > 0\">类目（{{category_list[category_index].category_name}}）</div>\n\t\t\t\t\t<img class=\"right_arrow\" src=\"../static/down_arrow.png\">\n\t\t\t\t\t<div v-if=\"class_list.length > 0\">分类（{{class_list[class_index].classification_name}}）</div>\n\t\t\t\t\t<img class=\"right_arrow\" src=\"../static/down_arrow.png\">\n\t\t\t\t\t<div v-if=\"style_list.length > 0\">拍摄风格（{{style_list[style_index].shooting_style_name}}）</div>\n\n\t\t\t\t\t<img class=\"right_arrow\" src=\"../static/down_arrow.png\" v-if=\"page_type == 'index'\">\n\t\t\t\t\t<div v-if=\"season_list.length > 0 && page_type == 'index'\">季节（{{season_list[season_index].season_name}}）</div>\n\n\t\t\t\t\t<img class=\"right_arrow\" src=\"../static/down_arrow.png\">\n\t\t\t\t\t<div v-if=\"rating_list.length > 0 && page_type != 'gys_supplier'\">等级（{{rating_list[rating_index].grade_name}}）</div>\n\t\t\t\t\t<div class=\"reset_button\" @click.stop=\"resetFn\">重置选择</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"selected_right\">\n\t\t\t\t<div>{{screen_open?'收起':'展开'}}</div>\n\t\t\t\t<img class=\"down_arrow\" :class=\"{'rotate':screen_open == true}\" src=\"../static/down_arrow.png\">\n\t\t\t</div>\n\t\t</div>\n\t\t<el-card class=\"conditions_box\" v-if=\"screen_open\">\n\t\t\t<div class=\"conditions_row\" v-if=\"page_type == 'index'\">\n\t\t\t\t<div class=\"lable\">供应商：</div>\n\t\t\t\t<div style=\"flex:1\">\n\t\t\t\t\t<div class=\"list\">\n\t\t\t\t\t\t<div v-for=\"item in FristPin\" class=\"item\" :class=\"{'active_item':item == a_item}\" @click.stop=\"a_item = item\">{{item}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex as\">\n\t\t\t\t\t\t<div class=\"list\" :class=\"{'supplier_list':!open_more}\">\n\t\t\t\t\t\t\t<div class=\"item\" :class=\"{'active_item':supplier_index == index}\" v-for=\"(item,index) in supplier_list\" @click.stop=\"checkIndex('supplier',index)\">{{item.supplier_name}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex ac pointer\" @click.stop=\"open_more = !open_more\">\n\t\t\t\t\t\t\t<div class=\"more_text\">{{open_more?'收起':'更多'}}</div>\n\t\t\t\t\t\t\t<img class=\"more_arrow\" :class=\"{'up_rotate':open_more == true}\" src=\"../static/down_arrow.png\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"conditions_row\" v-if=\"page_type == 'index'\">\n\t\t\t\t<div class=\"lable\">市场：</div>\n\t\t\t\t<div class=\"list\">\n\t\t\t\t\t<div class=\"item\" :class=\"{'active_item':market_index == index}\" v-for=\"(item,index) in market_list\" @click.stop=\"checkIndex('market',index)\">{{item.market_name}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"conditions_row\">\n\t\t\t\t<div class=\"lable\">类目：</div>\n\t\t\t\t<div class=\"list\">\n\t\t\t\t\t<div class=\"item\" :class=\"{'active_item':category_index == index}\" v-for=\"(item,index) in category_list\" @click.stop=\"checkIndex('category',index)\">{{item.category_name}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"conditions_row\">\n\t\t\t\t<div class=\"lable\">分类：</div>\n\t\t\t\t<div class=\"list\">\n\t\t\t\t\t<div class=\"item\" :class=\"{'active_item':class_index == index}\" v-for=\"(item,index) in class_list\" @click.stop=\"checkIndex('class',index)\">{{item.classification_name}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"conditions_row\">\n\t\t\t\t<div class=\"lable\">拍摄风格：</div>\n\t\t\t\t<div class=\"list\">\n\t\t\t\t\t<div class=\"item\" :class=\"{'active_item':style_index == index}\" v-for=\"(item,index) in style_list\" @click.stop=\"checkIndex('style',index)\">{{item.shooting_style_name}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"conditions_row\" v-if=\"page_type == 'index'\">\n\t\t\t\t<div class=\"lable\">季节：</div>\n\t\t\t\t<div class=\"list\">\n\t\t\t\t\t<div class=\"item\" :class=\"{'active_item':season_index == index}\" v-for=\"(item,index) in season_list\" @click.stop=\"checkIndex('season',index)\">{{item.season_name}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"conditions_row none_border\" v-if=\"page_type != 'gys_supplier'\">\n\t\t\t\t<div class=\"lable\">供应商评级：</div>\n\t\t\t\t<div class=\"list\">\n\t\t\t\t\t<div class=\"item\" :class=\"{'active_item':rating_index == index}\" v-for=\"(item,index) in rating_list\" @click.stop=\"checkIndex('rating',index)\">{{item.grade_name}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</el-card>\n\t\t<div class=\"cate_box\">\n\t\t\t<div class=\"sort_row\">\n\t\t\t\t<div class=\"sort_item\" :class=\"{'active_color':item.sort != 'default'}\" v-for=\"(item,index) in sort_list\" @click=\"sortFn(index)\">\n\t\t\t\t\t<div>{{item.name}}</div>\n\t\t\t\t\t<img class=\"sort_icon\" src=\"../static/sort_asc.png\" v-if=\"item.sort == 'asc'\">\n\t\t\t\t\t<img class=\"sort_icon\" src=\"../static/sort_default.png\" v-if=\"item.sort == 'default'\">\n\t\t\t\t\t<img class=\"sort_icon\" src=\"../static/sort_desc.png\" v-if=\"item.sort == 'desc'\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"style_row\" v-if=\"page_type != 'gys_supplier'\">\n\t\t\t\t<div class=\"style_item\" :class=\"{'active_color':item.is_selected === 1}\" v-for=\"(item,index) in cate_style_list\" @click=\"checkStyle(index)\">{{item.name}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"price_row\" v-if=\"page_type != 'gys_supplier'\">\n\t\t\t\t<div>价格：</div>\n\t\t\t\t<el-input style=\"width: 50px;\" size=\"mini\" type=\"number\" v-model=\"start_price\"></el-input>&nbsp~&nbsp\n\t\t\t\t<el-input style=\"width: 50px;\" size=\"mini\" type=\"number\" v-model=\"end_price\"></el-input>\n\t\t\t\t&nbsp\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"searchPrice\">查询</el-button>\n\t\t\t</div>\n\t\t\t<el-checkbox-group v-model=\"up_type\" @change=\"upTypeChange\">\n\t\t\t\t<el-checkbox :label=\"1\">今日上新</el-checkbox>\n\t\t\t\t<el-checkbox :label=\"3\">三日上新</el-checkbox>\n\t\t\t\t<el-checkbox :label=\"7\">七日上新</el-checkbox>\n\t\t\t</el-checkbox-group>\n\t\t\t<div class=\"date_row\">\n\t\t\t\t<el-date-picker v-model=\"date\" size=\"mini\" type=\"daterange\" unlink-panels value-format=\"yyyy-MM-dd\" range-separator=\"至\" start-placeholder=\"上新时间\" end-placeholder=\"上新时间\" @change=\"changeDate\">\n\t\t\t\t</el-date-picker>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t</div>\n</template>\n<script>\n\timport { getNowDate,getCurrentDate } from \"../api/date.js\";\n\n\timport commonResource from '../api/common_resource.js'\n\n\timport pinyin from '../../node_modules/js-pinyin/index.js'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tsupplier_index:-1,\t\t//选中的供应商下标\n\t\t\t\tsupplier_list:[],\t\t//供应商列表\n\t\t\t\tmarket_index:0,\t\t\t//选中的市场下标\n\t\t\t\tmarket_list:[],\t\t\t//市场列表\n\t\t\t\tcategory_index:0,\t\t//选中的类目下标\n\t\t\t\tcategory_list:[],\t\t//类目列表\n\t\t\t\tclass_index:0,\t\t\t//选中的分类下标\n\t\t\t\tclass_list:[],\t\t\t//分类列表\n\t\t\t\tstyle_index:0,\t\t\t//选中的拍摄风格下标\n\t\t\t\tstyle_list:[],\t\t\t//拍摄风格列表\n\t\t\t\trating_index:0,\t\t\t//选中的供应商评级下标\n\t\t\t\trating_list:[],\t\t\t//供应商评级列表\n\t\t\t\tseason_index:0,\t\t\t//选中的季节下标\n\t\t\t\tseason_list:[],\t\t\t//季节列表\n\t\t\t\tsort_list:[{\n\t\t\t\t\tname:'30天销量',\n\t\t\t\t\tkey:'sales',\n\t\t\t\t\tval:'sales_num_all',\n\t\t\t\t\tsort:'default'\n\t\t\t\t},{\n\t\t\t\t\tname:'选中量',\n\t\t\t\t\tkey:'select',\n\t\t\t\t\tval:'select_num',\n\t\t\t\t\tsort:'default'\n\t\t\t\t},{\n\t\t\t\t\tname:'浏览量',\n\t\t\t\t\tkey:'views',\n\t\t\t\t\tval:'views_num',\n\t\t\t\t\tsort:'default'\n\t\t\t\t}],\t\t\t\t\t\t\t\t//排序列表\n\t\t\t\tcate_style_list:[{\n\t\t\t\t\tname:'深度库存',\n\t\t\t\t\tis_selected:0\n\t\t\t\t},{\n\t\t\t\t\tname:'视频款',\n\t\t\t\t\tis_selected:0\n\t\t\t\t},{\n\t\t\t\t\tname:'爆款',\n\t\t\t\t\tis_selected:0\n\t\t\t\t},{\n\t\t\t\t\tname:'主推款',\n\t\t\t\t\tis_selected:0\n\t\t\t\t},{\n\t\t\t\t\tname:'独家款',\n\t\t\t\t\tis_selected:0\n\t\t\t\t},{\n\t\t\t\t\tname:'自主款',\n\t\t\t\t\tis_selected:0\n\t\t\t\t}],\t\t\t\t\t\t\t\t//款式列表\n\t\t\t\tup_type:[],\t\t\t\t\t//上新类型\n\t\t\t\tdate:[],\t\t\t\t\t\t//上新日期 \n\t\t\t\tstart_price:\"\",\n\t\t\t\tend_price:\"\",\n\t\t\t\tFristPin: [\"全部\",\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"J\", \"K\", \"L\", \"M\", \"N\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"W\", \"X\", \"Y\", \"Z\"],\n\t\t\t\ta_item:\"全部\",\n\t\t\t\tcityjson: {},\n\t\t\t\topen_more:false,\t\t//是否更多\n\t\t\t}\n\t\t},\n\t\tprops:{\n\t\t\t//index:首页；supplier:供应商；gys_supplier:供应商来源\n\t\t\tpage_type:{\n\t\t\t\ttype:String,\n\t\t\t\tdefault:\"index\"\n\t\t\t},\n\t\t\t//商品总数量\n\t\t\ttotal_num:{\n\t\t\t\ttype:Number,\n\t\t\t\tdefault:0\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tif(this.page_type == 'gys_supplier'){\n\t\t\t\t//获取筛选条件列表\n\t\t\t\tthis.supplierScreenList();\n\t\t\t}else{\n\t\t\t\tlet o = {\n\t\t\t\t\tname:'7天销量',\n\t\t\t\t\tkey:'sales_seven',\n\t\t\t\t\tval:'sales_seven',\n\t\t\t\t\tsort:'default'\n\t\t\t\t}\n\t\t\t\tthis.sort_list.unshift(o);\n\t\t\t\t//获取筛选条件列表\n\t\t\t\tthis.getScreenList();\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tscreen_open() {\n\t\t\t\treturn this.$store.state.screen_open;\n\t\t\t},\n\t\t},\n\t\twatch:{\n\t\t\ta_item:function(n,o){\n\t\t\t\tif(n != ''){\n\t\t\t\t\tthis.supplier_list = this.cityjson[n];\n\t\t\t\t\tthis.supplier_index = -1;\n\t\t\t\t\tif(n == '全部'){\n\t\t\t\t\t\t//获取当前条件并传递\n\t\t\t\t\t\tthis.callbackFn();\n\t\t\t\t\t}\n\t\t\t\t}else{\n\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\t//切换上新类型\n\t\t\tupTypeChange(value){\n\t\t\t\tif(this.up_type.length > 1){\n\t\t\t\t\tthis.up_type.splice(0,1)\n\t\t\t\t}\n\t\t\t\tif(this.up_type.length > 0){\n\t\t\t\t\tswitch(this.up_type[0]){\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\tthis.date = [getNowDate(),getNowDate()];\n\t\t\t\t\t\t//获取当前条件并传递\n\t\t\t\t\t\tthis.callbackFn();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\tthis.date = [getCurrentDate(3),getNowDate()];\n\t\t\t\t\t\t//获取当前条件并传递\n\t\t\t\t\t\tthis.callbackFn();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 7:\n\t\t\t\t\t\tthis.date = [getCurrentDate(7),getNowDate()];\n\t\t\t\t\t\t//获取当前条件并传递\n\t\t\t\t\t\tthis.callbackFn();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.date = [];\n\t\t\t\t\t//获取当前条件并传递\n\t\t\t\t\tthis.callbackFn();\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取筛选条件列表\n\t\t\tgetScreenList(){\n\t\t\t\tcommonResource.getScreenList().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\tlet supplier_list = data.supplier;\n\t\t\t\t\t\tlet pinyin = require('js-pinyin');\n\t\t\t\t\t\tpinyin.setOptions({checkPolyphone: false, charCase: 0});\n\t\t\t\t\t\tlet cityArr = [];\n\t\t\t\t\t\tfor (let i = 0; i < supplier_list.length; i++) {\n            \t\t\t\t//遍历数组,拿到城市名称\n            \t\t\t\tlet cityName = supplier_list[i].supplier_name;\n            \t\t\t\t//取全部城市的首字母\n            \t\t\t\tlet fristName = pinyin.getCamelChars(cityName).substring(0, 1);    \n            \t\t\t\t//\t这里截取首字母的第一位\n            \t\t\t\t//给原json添加首字母键值对\n            \t\t\t\tsupplier_list[i].first = fristName;\n            \t\t\t\t//放入新数组\n            \t\t\t\tcityArr.push(supplier_list[i]);\n            \t\t\t}\n            \t\t\tlet cityJson = {};\n        \t\t\t\t//根据首字母键值对给原数据按首字母分类\n        \t\t\t\tfor (let i = 0; i < this.FristPin.length; i++) { \n        \t\t\t\t\tif(i == 0){\n        \t\t\t\t\t\tcityJson[this.FristPin[i]] = cityArr;\n        \t\t\t\t\t} else{\n        \t\t\t\t\t\t//这里的FirstPin是一个写入了所有字母的数组,见data中\n        \t\t\t\t\t\tcityJson[this.FristPin[i]] = cityArr.filter( (value) => {\n        \t\t\t\t\t\t\treturn value.first === this.FristPin[i];\n        \t\t\t\t\t\t})\n        \t\t\t\t\t}\n\n        \t\t\t\t}\n        \t\t\t\tthis.cityjson = cityJson;\n        \t\t\t\tthis.supplier_list = this.cityjson[\"全部\"];\n\n        \t\t\t\tlet market_list = data.market;\n        \t\t\t\tmarket_list.unshift({\n        \t\t\t\t\tmarket_name:'全部',\n        \t\t\t\t\tmarket_id:''\n        \t\t\t\t})\n        \t\t\t\tthis.market_list = market_list;\n        \t\t\t\tlet category_list = data.category;\n        \t\t\t\tcategory_list.unshift({\n        \t\t\t\t\tcategory_name:'全部',\n        \t\t\t\t\tcategory_id:''\n        \t\t\t\t})\n        \t\t\t\tthis.category_list = category_list;\n        \t\t\t\tlet class_list = data.classification;\n        \t\t\t\tclass_list.unshift({\n        \t\t\t\t\tclassification_name:'全部',\n        \t\t\t\t\tclassification_id:''\n        \t\t\t\t})\n        \t\t\t\tthis.class_list = class_list;\n        \t\t\t\tlet style_list = data.shooting_style;\n        \t\t\t\tstyle_list.unshift({\n        \t\t\t\t\tshooting_style_name:'全部',\n        \t\t\t\t\tshooting_style_id:''\n        \t\t\t\t})\n        \t\t\t\tthis.style_list = style_list;\n        \t\t\t\tlet rating_list = data.grade;\n        \t\t\t\trating_list.unshift({\n        \t\t\t\t\tgrade_name:'全部',\n        \t\t\t\t\tgrade_id:''\n        \t\t\t\t})\n        \t\t\t\tthis.rating_list = rating_list;\n\t\t\t\t\t\t//季节\n\t\t\t\t\t\tlet season_list = data.season;\n\t\t\t\t\t\tseason_list.unshift({\n\t\t\t\t\t\t\tseason_name:'全部',\n\t\t\t\t\t\t\tseason_id:''\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.season_list = season_list;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//供应商筛选项列表\n\t\t\tsupplierScreenList(){\n\t\t\t\tcommonResource.supplierScreenList().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\tlet market_list = data.market;\n\t\t\t\t\t\tmarket_list.unshift({\n\t\t\t\t\t\t\tmarket_name:'全部',\n\t\t\t\t\t\t\tmarket_id:''\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.market_list = market_list;\n\t\t\t\t\t\tlet category_list = data.category;\n\t\t\t\t\t\tcategory_list.unshift({\n\t\t\t\t\t\t\tcategory_name:'全部',\n\t\t\t\t\t\t\tcategory_id:''\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.category_list = category_list;\n\t\t\t\t\t\tlet class_list = data.classification;\n\t\t\t\t\t\tclass_list.unshift({\n\t\t\t\t\t\t\tclassification_name:'全部',\n\t\t\t\t\t\t\tclassification_id:''\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.class_list = class_list;\n\t\t\t\t\t\tlet style_list = data.shooting_style;\n\t\t\t\t\t\tstyle_list.unshift({\n\t\t\t\t\t\t\tshooting_style_name:'全部',\n\t\t\t\t\t\t\tshooting_style_id:''\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.style_list = style_list;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tresetFn(){\n\t\t\t\tthis.supplier_index = -1;\n\t\t\t\tthis.market_index = 0;\n\t\t\t\tthis.category_index = 0;\n\t\t\t\tthis.class_index = 0;\n\t\t\t\tthis.style_index = 0;\n\t\t\t\tthis.rating_index = 0;\n\t\t\t\tthis.season_index = 0;\n\t\t\t\t//获取当前条件并传递\n\t\t\t\tthis.callbackFn();\n\t\t\t},\n\t\t\t//点击展开或收起\n\t\t\tcheckFn(){\n\t\t\t\tthis.$store.commit(\"setScreen\", !this.screen_open);\n\t\t\t},\n\t\t\t// 切换下拉框筛选条件\n\t\t\tcheckIndex(type,index){\n\t\t\t\tswitch(type){\n\t\t\t\t\tcase 'supplier':\n\t\t\t\t\tthis.a_item = \"\";\n\t\t\t\t\tthis.supplier_index = index;\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'market':\n\t\t\t\t\tthis.market_index = index;\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'category':\n\t\t\t\t\tthis.category_index = index;\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'class':\n\t\t\t\t\tthis.class_index = index;\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'style':\n\t\t\t\t\tthis.style_index = index;\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'season':\n\t\t\t\t\tthis.season_index = index;\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'rating':\n\t\t\t\t\tthis.rating_index = index;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t//获取当前条件并传递\n\t\t\t\tthis.callbackFn();\n\t\t\t},\n\t\t\t//点击切换排序条件\n\t\t\tsortFn(index){\n\t\t\t\tthis.sort_list.map((item,i) => {\n\t\t\t\t\tif(index == i){\n\t\t\t\t\t\tswitch(item.sort){\n\t\t\t\t\t\t\tcase 'default':\n\t\t\t\t\t\t\titem.sort = 'desc';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'desc':\n\t\t\t\t\t\t\titem.sort = 'default';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\titem.sort = 'default';\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t//获取当前条件并传递\n\t\t\t\tthis.callbackFn();\n\t\t\t},\n\t\t\t//点击切换款式\n\t\t\tcheckStyle(index){\n\t\t\t\tthis.cate_style_list.map((item,i) => {\n\t\t\t\t\tif(index == i){\n\t\t\t\t\t\titem.is_selected = item.is_selected == 1?0:1;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t//获取当前条件并传递\n\t\t\t\tthis.callbackFn();\n\t\t\t},\n\t\t\t//切换上新时间筛选器\n\t\t\tchangeDate(){\n\t\t\t\tthis.up_type = [];\n\t\t\t\t//获取当前条件并传递\n\t\t\t\tthis.callbackFn();\n\t\t\t},\n\t\t\t//点击查询价格区间\n\t\t\tsearchPrice(){\n\t\t\t\tif(this.start_price != '' && !this.isPrice.test(parseFloat(this.start_price))){\n\t\t\t\t\tthis.$message.warning('价格必须大于0且最多两位小数');\n\t\t\t\t\treturn;\n\t\t\t\t}else if(this.end_price != '' && !this.isPrice.test(parseFloat(this.end_price))){\n\t\t\t\t\tthis.$message.warning('价格必须大于0且最多两位小数');\n\t\t\t\t\treturn;\n\t\t\t\t}else if(parseFloat(this.start_price) > parseFloat(this.end_price)){\n\t\t\t\t\tthis.$message.warning('起始价格不能高于结束金额');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//获取当前条件并传递\n\t\t\t\tthis.callbackFn();\n\t\t\t},\n\t\t\t//获取当前条件并传递\n\t\t\tcallbackFn(){\t\n\t\t\t\tvar arg = {\n\t\t\t\t\tstart_time:this.date && this.date.length > 0?this.date[0]:\"\",\n\t\t\t\t\tend_time:this.date && this.date.length > 0?this.date[1]:\"\",\n\t\t\t\t\tstart_price:this.start_price?parseFloat(this.start_price):'',\n\t\t\t\t\tend_price:this.end_price?parseFloat(this.end_price):'',\n\t\t\t\t}\n\n\t\t\t\t//处理排序\n\t\t\t\tlet sort_arr = this.sort_list.filter(item => {\n\t\t\t\t\treturn item.sort != 'default';\n\t\t\t\t})\n\t\t\t\tif(sort_arr.length > 0){\n\t\t\t\t\targ[sort_arr[0].key] = sort_arr[0].val + '-' + sort_arr[0].sort;\n\t\t\t\t}\n\n\t\t\t\t//处理款式分类\n\t\t\t\tif(this.page_type != 'gys_supplier'){\n\t\t\t\t\targ.depth_inventory = this.cate_style_list[0].is_selected;\n\t\t\t\t\targ.video_style = this.cate_style_list[1].is_selected;\n\t\t\t\t\targ.hot_style = this.cate_style_list[2].is_selected;\n\t\t\t\t\targ.data_style = this.cate_style_list[3].is_selected;\n\t\t\t\t\targ.sole_style = this.cate_style_list[4].is_selected;\n\t\t\t\t\targ.again_style = this.cate_style_list[5].is_selected;\n\t\t\t\t}\n\n\t\t\t\t//处理供应商\n\t\t\t\tif(this.page_type == 'index' && this.supplier_index >= 0){\n\t\t\t\t\targ.supplier_id = this.supplier_list[this.supplier_index].supplier_id;\n\t\t\t\t}\n\t\t\t\t//处理市场\n\t\t\t\tif(this.market_index > 0){\n\t\t\t\t\targ.market_id = this.market_list[this.market_index].market_id;\n\t\t\t\t}\n\t\t\t\t//处理类目\n\t\t\t\tif(this.category_index > 0){\n\t\t\t\t\targ.category_id = this.category_list[this.category_index].category_id;\n\t\t\t\t}\n\t\t\t\t//处理分类\n\t\t\t\tif(this.class_index > 0){\n\t\t\t\t\targ.classification_id = this.class_list[this.class_index].classification_id;\n\t\t\t\t}\n\t\t\t\t//处理风格\n\t\t\t\tif(this.style_index > 0){\n\t\t\t\t\targ.shooting_style_id = this.style_list[this.style_index].shooting_style_id;\n\t\t\t\t}\n\t\t\t\t//处理季节\n\t\t\t\tif(this.page_type == 'index' && this.season_index > 0){\n\t\t\t\t\targ.season_id = this.season_list[this.season_index].season_id;\n\t\t\t\t}\n\t\t\t\t//处理评级\n\t\t\t\tif(this.page_type != 'gys_supplier' && this.rating_index > 0){\n\t\t\t\t\targ.grade_id = this.rating_list[this.rating_index].grade_id;\n\t\t\t\t}\n\t\t\t\tthis.$emit('callback',arg);\n\t\t\t}\n\t\t}\n\t}\n</script>\n<style lang=\"less\" scoped>\n.total_num{\n\tmargin-bottom: 10rem;\n\ttext-align: end;\n\tfont-size: 12rem;\n\tcolor: #666666;\n}\n.selected_box{\n\tborder: 1px solid #E8E8E8;\n\tpadding-left: 26rem;\n\tpadding-right: 26rem;\n\tbackground: #F5F5F5;\n\theight: 26rem;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tcolor: #666666;\n\tfont-size: 12rem;\n\t.selected_left{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.tj_row{\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t.reset_button{\n\t\t\t\tcursor: pointer;\n\t\t\t\tmargin-left: 30rem;\n\t\t\t\tborder-radius: 10rem;\n\t\t\t\tborder: 1px solid #F37605;\n\t\t\t\twidth: 74rem;\n\t\t\t\ttext-align: center;\n\t\t\t\theight: 22rem;\n\t\t\t\tline-height: 21rem;\n\t\t\t\tcolor: #F37605;\n\t\t\t\tfont-size: 14rem;\n\t\t\t}\n\t\t}\n\t\t.right_arrow{\n\t\t\tmargin-left: 5rem;\n\t\t\tmargin-right: 5rem;\n\t\t\ttransform: rotate(-90deg);\n\t\t\twidth: 7rem;\n\t\t\theight: 4rem;\n\t\t}\n\t}\n\t.selected_right{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcursor:pointer;\n\t\t\n\t}\n}\n.down_arrow{\n\tmargin-left: 5rem;\n\ttransform: rotate(-90deg);\n\twidth: 7rem;\n\theight: 4rem;\n}\n.more_arrow{\n\tmargin-left: 5rem;\n\twidth: 7rem;\n\theight: 4rem;\n}\n.rotate{\n\ttransform: rotate(0deg);\n}\n.up_rotate{\n\ttransform: rotate(180deg);\n}\n.conditions_box{\n\tbackground: #ffffff;\n\tfont-size: 12rem;\n\t.conditions_row{\n\t\tborder-bottom: 1px dashed #DEDEDE;\n\t\tdisplay: flex;\n\t\t.lable{\n\t\t\twhite-space:normal;\n\t\t\twidth: 110rem;\n\t\t\tcolor: #999999;\n\t\t}\n\t\t.szm_row{\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t.szm_item{\n\t\t\t\tmargin-right: 20px;\n\t\t\t\tfont-size: 12px;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\t.active_index{\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: var(--color);\n\t\t\t}\n\t\t}\n\t\t\n\t\t.list{\n\t\t\tflex:1;\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\t\t\t.item{\n\t\t\t\tcursor:pointer;\n\t\t\t\tpadding: 4px 12px;\n\t\t\t\tcolor: #333333;\n\t\t\t}\n\t\t\t.item:hover{\n\t\t\t\tcolor:var(--color);\n\t\t\t}\n\t\t\t.active_item{\n\t\t\t\tcolor: var(--color);\n\t\t\t}\n\t\t}\n\t\t.supplier_list{\n\t\t\tmax-height: 50px;\n\t\t\toverflow: hidden;\n\t\t}\n\t\t.more_text{\n\t\t\tfont-size: 12px;\n\t\t\tcolor: #666666;\n\t\t}\n\t}\n\t.none_border{\n\t\tborder:none;\n\t}\n}\n.cate_box{\n\tmargin-top: 8rem;\n\tmargin-bottom: 10rem;\n\tborder:1px solid #E8E8E8;\n\tbackground: #F5F5F5;\n\twidth: 100%;\n\theight: 40rem;\n\tpadding-left: 26rem;\n\tpadding-right: 26rem;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tfont-size: 12rem;\n\tcolor: #666666;\n\t.sort_row{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.sort_item{\n\t\t\tborder-left:1px solid #F5F5F5;\n\t\t\tborder-right:1px solid #F5F5F5;\n\t\t\theight: 40rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tmargin-right: 25rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tpadding-left: 3rem;\n\t\t\tpadding-right: 3rem;\n\t\t\tcursor:pointer;\n\t\t\t.sort_icon{\n\t\t\t\tmargin-left: 2rem;\n\t\t\t\twidth: 9rem;\n\t\t\t\theight: 12rem;\n\t\t\t}\n\t\t}\n\t\t.sort_item:hover{\n\t\t\tborder:1px solid #e8e8e8;\n\t\t\tbackground: #ffffff;\n\t\t\tcolor:var(--color);\n\t\t}\n\t}\n\t.style_row{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.style_item{\n\t\t\tborder-left:1px solid #F5F5F5;\n\t\t\tborder-right:1px solid #F5F5F5;\n\t\t\theight: 40rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tmargin-right: 25rem;\n\t\t\tpadding-left: 3rem;\n\t\t\tpadding-right: 3rem;\n\t\t\tcursor:pointer;\n\t\t}\n\t\t.style_item:hover{\n\t\t\tborder:1px solid #e8e8e8;\n\t\t\tbackground: #ffffff;\n\t\t\tcolor:var(--color);\n\t\t}\n\t}\n\t.price_row{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.date_row{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.active_color{\n\t\tborder:1px solid #e8e8e8;\n\t\tbackground: #ffffff;\n\t\tcolor:var(--color);\n\t}\n}\n</style>"]}]}