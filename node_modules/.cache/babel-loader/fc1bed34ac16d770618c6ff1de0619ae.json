{"remainingRequest":"/Users/fanyulong/project/2022/new-choose-product/node_modules/thread-loader/dist/cjs.js!/Users/fanyulong/project/2022/new-choose-product/node_modules/babel-loader/lib/index.js!/Users/fanyulong/project/2022/new-choose-product/node_modules/eslint-loader/index.js??ref--13-0!/Users/fanyulong/project/2022/new-choose-product/src/api/request.js","dependencies":[{"path":"/Users/fanyulong/project/2022/new-choose-product/src/api/request.js","mtime":1686893385533},{"path":"/Users/fanyulong/project/2022/new-choose-product/babel.config.js","mtime":1662529345000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/Users/fanyulong/project/2022/new-choose-product/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport axios from \"./index\";\nimport md5 from \"js-md5\";\nimport store from \"../store/index.js\"; //中间处理\n\nexport function middleWare(params, type) {\n  for (var k in params) {\n    if (typeof params[k] == \"string\" && params[k] != \"\") {\n      //去掉两边\n      params[k] = params[k].toString().replace(/(^\\s*)|(\\s*$)/g, \"\"); //去掉#\n\n      params[k] = params[k].toString().replace(/[#]/g, \"\");\n    }\n\n    if (type == 'get' && params[k].toString().indexOf('+') > -1) {\n      params[k] = params[k].split('+').join('%2B');\n    }\n  }\n\n  var ding_user_id = store.state.ding_user_id;\n  var login_token = store.state.login_token;\n  var secret_key = store.state.secret_key; // 生成签名\n\n  var sign_target = {\n    ding_user_id: ding_user_id,\n    login_token: login_token,\n    secret_key: secret_key,\n    timestamp: (new Date().getTime() / 1000).toString().split(\".\")[0]\n  };\n\n  var create_sign = _objectSpread(_objectSpread({}, params), sign_target);\n\n  var keys = []; // 所有键名\n\n  var sort_obj = {}; // 排好序的参数对象\n  // 键名数组\n\n  for (var _i = 0, _Object$keys = Object.keys(create_sign); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    keys.push(key);\n  } // 键名排序\n\n\n  var sort_keys = keys.sort();\n  sort_keys.map(function (item) {\n    var val = create_sign[item];\n    sort_obj[item] = val;\n  });\n  var sign_arr = [];\n\n  for (var _key in sort_obj) {\n    if (_key != \"image\" && _key != \"file\" && _key.indexOf(\"remark\") == -1 && _key != \"notice_content\" && _key != \"feedback_content\" && _key != \"err_msg\" && _key != \"msg\" && _key != \"refuse_remark\" && _key != \"fabric\" && _key != \"size\" && _key != \"color\" && _key != \"mode\" && _key != \"net_disk_address\" && _key != \"search\" && _key != \"description\" && _key != \"off_reason\") {\n      sign_arr.push(\"\".concat(_key, \"=\").concat(sort_obj[_key]));\n    }\n  } //sign\n\n\n  var sign = md5(sign_arr.join(\"&\")); //token\n\n  var token_target = {\n    login_token: login_token,\n    secret_key: secret_key,\n    timestamp: (new Date().getTime() / 1000).toString().split(\".\")[0]\n  };\n\n  var Base64 = require(\"js-base64\").Base64;\n\n  var token_obj = _objectSpread(_objectSpread({}, token_target), {\n    sign: sign\n  });\n\n  var token = Base64.encode(JSON.stringify(token_obj)); //组织参数\n\n  var req = _objectSpread(_objectSpread({}, params), {\n    sign: sign,\n    token: token\n  }); // var req = { ...params, ...{ admin_id: \"8318\",utype:'1' } };\n  // var req = { ...params, ...{ admin_id: \"014017496357903146\" } }; //测试\n  // var req = { ...params, ...{ admin_id: \"16161349938228000\" } }; //陈鑫杰\n\n\n  var get_arr = []; //post请求参数\n\n  var form = new FormData();\n\n  for (var _key2 in req) {\n    form.append(_key2, req[_key2]);\n    get_arr.push(\"\".concat(_key2, \"=\").concat(req[_key2]));\n  } //get请求参数\n\n\n  var get_str = get_arr.join(\"&\");\n  return type == \"get\" ? get_str : form;\n}\nexport default {\n  post: function post(path) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var form = middleWare(params, \"post\");\n    return axios.post(\"\".concat(path), form);\n  },\n  get: function get(path) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var str = middleWare(params, \"get\");\n    return axios.get(\"\".concat(path, \"?\").concat(str));\n  },\n  //下载专用\n  downLoad: function downLoad(path) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var str = middleWare(params, \"get\");\n    window.open(\"\".concat(location.origin, \"/api/\").concat(path, \"?\").concat(str));\n  }\n};",{"version":3,"names":["axios","md5","store","middleWare","params","type","k","toString","replace","indexOf","split","join","ding_user_id","state","login_token","secret_key","sign_target","timestamp","Date","getTime","create_sign","keys","sort_obj","Object","key","push","sort_keys","sort","map","item","val","sign_arr","sign","token_target","Base64","require","token_obj","token","encode","JSON","stringify","req","get_arr","form","FormData","append","get_str","post","path","get","str","downLoad","window","open","location","origin"],"sources":["/Users/fanyulong/project/2022/new-choose-product/src/api/request.js"],"sourcesContent":["import axios from \"./index\";\nimport md5 from \"js-md5\";\nimport store from '../store/index.js'\n\n//中间处理\nexport function middleWare(params, type) {\n  for (let k in params) {\n    if (typeof params[k] == \"string\" && params[k] != \"\") {\n      //去掉两边\n      params[k] = params[k].toString().replace(/(^\\s*)|(\\s*$)/g,\"\");\n      //去掉#\n      params[k] = params[k].toString().replace(/[#]/g, \"\");\n    }\n\n    if (type == 'get' && params[k].toString().indexOf('+') > -1) {\n      params[k] = params[k].split('+').join('%2B')\n    }\n  }\n\n  var ding_user_id = store.state.ding_user_id;\n  var login_token = store.state.login_token;\n  var secret_key = store.state.secret_key;\n\n  // 生成签名\n  var sign_target = {\n    ding_user_id: ding_user_id,\n    login_token: login_token,\n    secret_key: secret_key,\n    timestamp: (new Date().getTime() / 1000).toString().split(\".\")[0],\n  };\n  var create_sign = { ...params, ...sign_target };\n  var keys = []; // 所有键名\n  var sort_obj = {}; // 排好序的参数对象\n\n  // 键名数组\n  for (let key of Object.keys(create_sign)) {\n    keys.push(key);\n  }\n  // 键名排序\n  var sort_keys = keys.sort();\n  sort_keys.map((item) => {\n    var val = create_sign[item];\n    sort_obj[item] = val;\n  });\n  var sign_arr = [];\n\n  for (let key in sort_obj) {\n    if (\n      key != \"image\" &&\n      key != \"file\" &&\n      key.indexOf(\"remark\") == -1 &&\n      key != \"notice_content\" &&\n      key != \"feedback_content\" &&\n      key != \"err_msg\" &&\n      key != \"msg\" &&\n      key != \"refuse_remark\" &&\n      key != \"fabric\" &&\n      key != \"size\" &&\n      key != \"color\" &&\n      key != \"mode\" &&\n      key != \"net_disk_address\" &&\n      key != \"search\" &&\n      key != \"description\" &&\n      key != \"off_reason\"\n      ) {\n      sign_arr.push(`${key}=${sort_obj[key]}`);\n  }\n}\n  //sign\n  var sign = md5(sign_arr.join(\"&\"));\n\n  //token\n  var token_target = {\n    login_token: login_token,\n    secret_key: secret_key,\n    timestamp: (new Date().getTime() / 1000).toString().split(\".\")[0],\n  };\n  var Base64 = require(\"js-base64\").Base64;\n  var token_obj = { ...token_target, ...{ sign: sign } };\n  var token = Base64.encode(JSON.stringify(token_obj));\n  //组织参数\n  var req = { ...params, ...{ sign: sign, token: token } };\n  // var req = { ...params, ...{ admin_id: \"8318\",utype:'1' } };\n  // var req = { ...params, ...{ admin_id: \"014017496357903146\" } }; //测试\n  // var req = { ...params, ...{ admin_id: \"16161349938228000\" } }; //陈鑫杰\n  var get_arr = [];\n  //post请求参数\n  var form = new FormData();\n  for (let key in req) {\n    form.append(key, req[key]);\n    get_arr.push(`${key}=${req[key]}`);\n  }\n  //get请求参数\n  var get_str = get_arr.join(\"&\");\n  return type == \"get\" ? get_str : form;\n}\nexport default {\n  post(path, params = {}) {\n    var form = middleWare(params, \"post\");\n    return axios.post(`${path}`, form);\n  },\n  get(path, params = {}) {\n    var str = middleWare(params, \"get\");\n    return axios.get(`${path}?${str}`);\n  },\n  //下载专用\n  downLoad(path, params = {}) {\n    var str = middleWare(params, \"get\");\n    window.open(`${location.origin}/api/${path}?${str}`);\n  },\n};\n"],"mappings":"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"}]}