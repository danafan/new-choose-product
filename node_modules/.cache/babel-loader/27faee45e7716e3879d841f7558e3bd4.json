{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/thread-loader/dist/cjs.js!/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js!/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/pages/tab_menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/pages/tab_menu.vue","mtime":1664951334557},{"path":"/Users/fanyulong/project/2022/choose-product/babel.config.js","mtime":1662529345111},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport resource from \"../api/resource.js\";\nexport default {\n  data: function data() {\n    return {\n      username: \"\" //用户名\n\n    };\n  },\n  created: function created() {\n    this.username = localStorage.getItem(\"ding_user_name\");\n    this.$router.push(this.active_path);\n  },\n  computed: {\n    //导航列表\n    menu_list: function menu_list() {\n      return this.$store.state.menu_list;\n    },\n    //公告列表\n    notice_list: function notice_list() {\n      return this.$store.state.notice_list;\n    },\n    //当前路由\n    active_path: function active_path() {\n      return this.$store.state.active_path;\n    },\n    //当前高亮下标\n    active_index: function active_index() {\n      return this.$store.state.active_index;\n    }\n  },\n  methods: {\n    //点击切换导航\n    checkIndex: function checkIndex(index) {\n      this.$store.commit(\"setIndex\", index);\n      localStorage.setItem(\"active_index\", index);\n      var active_path = this.menu_list[index].web_url;\n      localStorage.setItem(\"active_path\", active_path);\n      this.$store.commit(\"setPath\", active_path);\n      this.$router.push(active_path);\n    },\n    //查看公告\n    noticeDetail: function noticeDetail(row, column, event) {\n      var active_path = \"/notice_page?notice_id=\".concat(row.notice_id);\n      localStorage.setItem(\"active_path\", active_path);\n      this.$store.commit(\"setPath\", active_path);\n      var routeData = this.$router.resolve(active_path);\n      window.open(routeData.href);\n    },\n    loginOut: function loginOut() {\n      var _this = this;\n\n      var user_id = localStorage.getItem(\"ding_user_id\");\n      var arg = {\n        user_id: user_id\n      };\n      resource.loginOut(arg).then(function (res) {\n        if (res.data.code == 1) {\n          _this.$message.success(res.data.msg);\n\n          localStorage.clear();\n\n          _this.$router.replace('/login');\n        } else {\n          _this.$message.warning(res.data.msg);\n        }\n      });\n      console.log(\"asd\");\n    }\n  }\n};",{"version":3,"mappings":";AAkLA;AACA;EACAA,IADA,kBACA;IACA;MACAC,YADA,CACA;;IADA;EAGA,CALA;EAMAC,OANA,qBAMA;IACA;IACA;EACA,CATA;EAUAC;IACA;IACAC,SAFA,uBAEA;MACA;IACA,CAJA;IAKA;IACAC,WANA,yBAMA;MACA;IACA,CARA;IASA;IACAC,WAVA,yBAUA;MACA;IACA,CAZA;IAaA;IACAC,YAdA,0BAcA;MACA;IACA;EAhBA,CAVA;EA4BAC;IACA;IACAC,UAFA,sBAEAC,KAFA,EAEA;MACA;MACAC;MACA;MACAA;MACA;MACA;IACA,CATA;IAUA;IACAC,YAXA,wBAWAC,GAXA,EAWAC,MAXA,EAWAC,KAXA,EAWA;MACA;MACAJ;MACA;MACA;MACAK;IACA,CAjBA;IAkBAC,QAlBA,sBAkBA;MAAA;;MACA;MACA;QACAC;MADA;MAGAC;QACA;UACA;;UACAR;;UACA;QACA,CAJA,MAIA;UACA;QACA;MACA,CARA;MASAS;IACA;EAjCA;AA5BA","names":["data","username","created","computed","menu_list","notice_list","active_path","active_index","methods","checkIndex","index","localStorage","noticeDetail","row","column","event","window","loginOut","user_id","resource","console"],"sourceRoot":"src/pages","sources":["tab_menu.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"page_header\">\n      <!-- logo -->\n      <img class=\"logo_icon\" src=\"../static/logo_icon.png\" v-if=\"active_path == '/supply_chain' || notice_list.length == 0\">\n      <!-- 公告 -->\n      <el-popover placement=\"bottom-end\" width=\"420\" trigger=\"hover\" v-else>\n        <el-table :data=\"notice_list\" size=\"mini\" :show-header=\"false\" @row-click=\"noticeDetail\">\n          <el-table-column width=\"248\" property=\"notice_content\" label=\"内容\">\n            <template slot-scope=\"scope\">\n              <div class=\"table_notice content\">{{scope.row.notice_title}}</div>\n            </template>\n          </el-table-column>\n          <el-table-column property=\"add_time\" label=\"时间\">\n            <template slot-scope=\"scope\">\n              <div class=\"table_notice time\">{{scope.row.add_time}}</div>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"message_box\" slot=\"reference\">\n          <div class=\"message_icon_box\">\n            <img class=\"message_icon\" src=\"../static/message_icon.png\">\n            <div class=\"num\">{{notice_list.length}}</div>\n          </div>\n          <div class=\"message_content\">{{notice_list[0].notice_title}}</div>\n        </div>\n      </el-popover>\n      <div class=\"header_right\">\n        <div class=\"tab_item\" :class=\"{'active_tab':active_index == index}\" v-for=\"(item,index) in menu_list\" @click=\"checkIndex(index)\">{{item.menu_name}}</div>\n        <img class=\"user_img\" src=\"../static/user_img.png\">\n        <div class=\"user_name\">{{username}}</div>\n        <div class=\"line\"></div>\n        <el-popconfirm\n        title=\"确认退出？\"\n        @confirm=\"loginOut\"\n        >\n        <div slot=\"reference\" class=\"login_out\">退出</div>\n      </el-popconfirm>\n    </div>\n  </div>\n  <div class=\"content\">\n    <keep-alive>\n      <router-view v-if=\"$route.meta.keepAlive\">\n      </router-view>\n    </keep-alive>\n    <router-view v-if=\"!$route.meta.keepAlive\"></router-view>\n  </div>\n  <div class=\"page_foot\"></div>\n</div>\n</template>\n\n<style lang=\"less\" scoped>\n.container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  .page_header {\n    border-bottom: 1px solid #F3F3F3;\n    background: #ffffff;\n    width: 100%;\n    padding-left: 60rem;\n    padding-right: 60rem;\n    height: 48rem;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    .logo_icon{\n      width: 90rem;\n      height: 34rem;\n    }\n    .message_box{\n      position: relative;\n      width: 300rem;\n      height: 48rem;\n      display: flex;\n      align-items: center;\n      .message_icon_box{\n        margin-right: 8rem;\n        position: relative;\n        width: 13rem;\n        height: 12rem;\n        .message_icon{\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n        }\n        .num{\n          position: absolute;\n          top: -10rem;\n          right: -10rem;\n          border-radius:50%;\n          background: #F22E00;\n          height: 14rem;\n          line-height: 14rem;\n          padding-left: 3rem;\n          padding-right: 3rem;\n          font-size: 12rem;\n          color: #ffffff;\n        }\n      }\n    }\n    \n    .message_content{\n      flex: 1;\n      font-size: 12rem;\n      color: var(--color);\n      word-break: break-all;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      display: -webkit-box;\n      -webkit-line-clamp: 1;\n      -webkit-box-orient: vertical;\n    }\n    .header_right{\n      display: flex;\n      align-items: center;\n      font-size: 14rem;\n      color: #333333;\n      .tab_item{\n        margin-right: 30rem;\n        cursor:pointer;\n      }\n      .active_tab{\n        color: var(--color);\n      }\n      .user_img{\n        margin-left: 14rem;\n        margin-right: 10rem;\n        width: 24rem;\n        height: 24rem;\n      }\n      .line{\n        margin-left: 8rem;\n        margin-right: 8rem;\n        width: 1px;\n        height: 14rem;\n        background: var(--color);\n      }\n      .login_out{\n        cursor:pointer;\n      }\n    }\n  }\n  .content {\n    background-color: #f6f6f6;\n    width: 100%;\n    flex: 1;\n    position: relative;\n  }\n  .page_foot {\n    background-color: #ffffff;\n    width: 100%;\n    height: 30px;\n  }\n}\n.table_notice{\n  font-size: 12rem;\n  word-break: break-all;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n}\n.content{\n  color: #666666;\n}\n.time{\n  color: #999999;\n}\n</style>\n<script>\n  import resource from '../api/resource.js'\n  export default {\n    data() {\n      return {\n        username: \"\", //用户名\n      };\n    },\n    created() {\n      this.username = localStorage.getItem(\"ding_user_name\");\n      this.$router.push(this.active_path)\n    },\n    computed: {\n      //导航列表\n      menu_list() {\n        return this.$store.state.menu_list;\n      },\n      //公告列表\n      notice_list() {\n        return this.$store.state.notice_list;\n      },\n      //当前路由\n      active_path() {\n        return this.$store.state.active_path;\n      },\n      //当前高亮下标\n      active_index() {\n        return this.$store.state.active_index;\n      },\n    },\n    methods: {\n      //点击切换导航\n      checkIndex(index){\n        this.$store.commit(\"setIndex\", index);\n        localStorage.setItem(\"active_index\",index);\n        let active_path = this.menu_list[index].web_url;\n        localStorage.setItem(\"active_path\",active_path);\n        this.$store.commit(\"setPath\", active_path);\n        this.$router.push(active_path);\n      },\n      //查看公告\n      noticeDetail(row, column, event){\n        let active_path = `/notice_page?notice_id=${row.notice_id}`;\n        localStorage.setItem(\"active_path\",active_path);\n        this.$store.commit(\"setPath\", active_path);\n        const routeData = this.$router.resolve(active_path);\n        window.open(routeData.href);\n      },\n      loginOut(){\n        let user_id = localStorage.getItem(\"ding_user_id\");\n        let arg = {\n          user_id:user_id\n        }\n        resource.loginOut(arg).then(res => {\n          if(res.data.code == 1){\n            this.$message.success(res.data.msg);\n            localStorage.clear();\n            this.$router.replace('/login');\n          }else{\n            this.$message.warning(res.data.msg);\n          }\n        })\n        console.log(\"asd\")\n      }\n    }\n  };\n</script>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}]}