{"remainingRequest":"/Users/fanyulong/project/2022/new-choose-product/node_modules/thread-loader/dist/cjs.js!/Users/fanyulong/project/2022/new-choose-product/node_modules/babel-loader/lib/index.js!/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fanyulong/project/2022/new-choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/new-choose-product/src/pages/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/new-choose-product/src/pages/login.vue","mtime":1686893086976},{"path":"/Users/fanyulong/project/2022/new-choose-product/babel.config.js","mtime":1662529345000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport resource from \"../api/resource.js\";\nexport default {\n  data: function data() {\n    return {\n      user_name: \"\",\n      //用户名\n      password: \"\" //密码\n\n    };\n  },\n  methods: {\n    //点击登录\n    login: function login() {\n      var _this = this;\n\n      if (this.user_name == '') {\n        this.$message.warning('请输入用户名');\n        return;\n      } else if (this.password == '') {\n        this.$message.warning('请输入密码');\n        return;\n      }\n\n      var arg = {\n        username: this.user_name,\n        password: this.password\n      };\n      resource.merchantLogin(arg).then(function (res) {\n        if (res.data.code == \"1\") {\n          sessionStorage.setItem(\"cache\", true);\n          var data = res.data.data;\n          sessionStorage.setItem(\"user_type\", data.user_type);\n          sessionStorage.setItem(\"ding_user_id\", data.ding_user_id);\n          sessionStorage.setItem(\"ding_user_name\", data.ding_user_name);\n          sessionStorage.setItem(\"secret_key\", data.secret_key);\n          sessionStorage.setItem(\"login_token\", data.login_token);\n          var user_info = {\n            user_type: data.user_type,\n            ding_user_id: data.ding_user_id,\n            ding_user_name: data.ding_user_name,\n            login_token: data.login_token,\n            secret_key: data.secret_key\n          };\n\n          _this.$store.commit('setToken', user_info);\n\n          var domain = data.img_domain;\n\n          _this.$store.commit('setDomain', domain);\n\n          sessionStorage.setItem(\"domain\", domain); //获取导航\n\n          _this.getMenuNotice();\n        } else {\n          _this.$message.warning(res.data.msg);\n        }\n      });\n    },\n    //获取导航\n    getMenuNotice: function getMenuNotice() {\n      var _this2 = this;\n\n      resource.getMenuNotice().then(function (res) {\n        if (res.data.code == 1) {\n          var data = res.data.data;\n          var menu_list = data.menu_list;\n\n          _this2.$store.commit(\"setMenuList\", menu_list);\n\n          sessionStorage.setItem(\"menu_list\", JSON.stringify(menu_list));\n\n          _this2.$router.replace('/tab_menu');\n        } else {\n          _this2.$message.warning(res.data.msg);\n        }\n      });\n    }\n  }\n};",{"version":3,"mappings":";AAuJA;AACA;EACAA,IADA,kBACA;IACA;MACAC,aADA;MACA;MACAC,YAFA,CAEA;;IAFA;EAIA,CANA;EAOAC;IACA;IACAC,KAFA,mBAEA;MAAA;;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;MACA;;MACA;QACAC,wBADA;QAEAH;MAFA;MAIAI;QACA;UACAC;UACA;UACAA;UACAA;UACAA;UACAA;UACAA;UACA;YACAC,yBADA;YAEAC,+BAFA;YAGAC,mCAHA;YAIAC,6BAJA;YAKAC;UALA;;UAOA;;UACA;;UACA;;UACAL,yCAlBA,CAmBA;;UACA;QACA,CArBA,MAqBA;UACA;QACA;MACA,CAzBA;IA0BA,CAxCA;IAyCA;IACAM,aA1CA,2BA0CA;MAAA;;MACAP;QACA;UACA;UACA;;UACA;;UACAC;;UACA;QACA,CANA,MAMA;UACA;QACA;MACA,CAVA;IAWA;EAtDA;AAPA","names":["data","user_name","password","methods","login","username","resource","sessionStorage","user_type","ding_user_id","ding_user_name","login_token","secret_key","getMenuNotice"],"sourceRoot":"src/pages","sources":["login.vue"],"sourcesContent":["<template>\n\t<div class=\"login_container\">\n\t\t<img class=\"login_page_back\" src=\"../static/login_page_back.png\">\n\t\t<div class=\"login_content\">\n\t\t\t<div class=\"content_left\">\n\t\t\t\t<img class=\"login_big_back\" src=\"../static/login_big_back.png\">\n\t\t\t\t<img class=\"login_small_back\" src=\"../static/login_small_back.png\">\n\t\t\t</div>\n\t\t\t<div class=\"content_right\">\n\t\t\t\t<div class=\"content\">\n          <div class=\"text\">用户名密码登录</div>\n          <div class=\"gys_box\">\n            <input class=\"login_input\" ref=\"userName\" autofocus v-model=\"user_name\" placeholder=\"请输入用户名称\" maxlength=\"20\" @keyup.enter=\"login\">\n            <input class=\"login_input\" type=\"password\" v-model=\"password\" placeholder=\"请输入登录密码\" maxlength=\"20\" @keyup.enter=\"login\">\n            <div class=\"login\" @click=\"login\">登录</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"less\" scoped>\n  .login_container{\n   position: absolute;\n   top: 0;\n   left: 0;\n   width: 100%;\n   height: 100%;\n   display: flex;\n   align-items: center;\n   justify-content: center;\n   .login_page_back{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n  .login_content{\n    width: 1510rem;\n    height: 780rem;\n    background: #FFFFFF;\n    border-radius: 8rem;\n    z-index: 9;\n    display: flex;\n    .content_left{\n     position: relative;\n     height: 780rem;\n     flex:1;\n     display: flex;\n     align-items: center;\n     padding-left: 48rem;\n     .login_big_back{\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 10;\n    }\n    .login_small_back{\n      width: 713rem;\n      height: 632rem;\n      z-index: 11;\n    }\n  }\n  .content_right{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 780rem;\n    padding-right: 70rem;\n    .content{\n      background: #FFFFFF;\n      border-radius: 8rem;\n      border: 1px solid #EBEBEB;\n      width: 478rem;\n      height: 532rem;\n      padding-top:30rem;\n      .gys_box{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        .login_input{\n          box-sizing: border-box;\n          margin-top: 32rem;\n          outline: none;\n          border:none;\n          width: 380rem;\n          height: 52rem;\n          background: #FFF8EE;\n          border-radius: 6rem;\n          padding: 0 22rem;\n          font-size: 16rem;\n        }\n        .login{\n          margin-top: 60px;\n          width: 380rem;\n          text-align: center;\n          height: 42rem;\n          line-height: 42rem;\n          background: #F37605;\n          border-radius: 4rem;\n          font-size: 14px;\n          color: #ffffff;\n          cursor: pointer;\n        }\n      }\n      .tab_row{\n        margin-bottom: 36rem;\n        display: flex;\n        align-items: center;\n        justify-content:space-around;\n        .tab_item{\n          cursor: pointer;\n          height: 40rem;\n          display: flex;\n          align-items: center;\n          justify-content:center;\n          position: relative;\n          .tab_text{\n            font-size: 18px;\n            font-weight: bold;\n            color: #666666;\n          }\n          .active_tab_text{\n            color: #333333;\n          }\n          .active_line{\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 4rem;\n            background: var(--color);\n          }\n        }\n      }\n      .text{\n       color: var(--color);\n       font-size: 24rem;\n       font-weight: 500;\n       width: 100%;\n       text-align: center;\n     }\n   }\n }\n}\n}\n</style>\n<script>\n\timport resource from '../api/resource.js'\n\texport default{\n\t\tdata() {\n\t\t\treturn {\n        user_name:\"\",         //用户名\n        password:\"\",          //密码\n      };\n    },\n    methods: {\n     //点击登录\n     login(){\n      if(this.user_name == ''){\n        this.$message.warning('请输入用户名');\n        return;\n      }else if(this.password == ''){\n        this.$message.warning('请输入密码');\n        return;\n      }\n      let arg = {\n        username:this.user_name,\n        password:this.password\n      }\n      resource.merchantLogin(arg).then(res => {\n        if (res.data.code == \"1\") {\n          sessionStorage.setItem(\"cache\",true);\n          let data = res.data.data;\n          sessionStorage.setItem(\"user_type\", data.user_type);\n          sessionStorage.setItem(\"ding_user_id\", data.ding_user_id);\n          sessionStorage.setItem(\"ding_user_name\", data.ding_user_name);\n          sessionStorage.setItem(\"secret_key\", data.secret_key);\n          sessionStorage.setItem(\"login_token\", data.login_token);\n          let user_info = {\n            user_type:data.user_type,\n            ding_user_id:data.ding_user_id,\n            ding_user_name:data.ding_user_name,\n            login_token:data.login_token,\n            secret_key:data.secret_key,\n          }\n          this.$store.commit('setToken',user_info);\n          let domain = data.img_domain;\n          this.$store.commit('setDomain',domain);\n          sessionStorage.setItem(\"domain\",domain);\n           //获取导航\n          this.getMenuNotice();\n        } else {\n          this.$message.warning(res.data.msg);\n        }\n      })\n    },\n    //获取导航\n    getMenuNotice(){\n      resource.getMenuNotice().then(res => {\n        if(res.data.code == 1){\n          let data = res.data.data;\n          let menu_list = data.menu_list;\n          this.$store.commit(\"setMenuList\", menu_list);\n          sessionStorage.setItem(\"menu_list\",JSON.stringify(menu_list))\n          this.$router.replace('/tab_menu')\n        }else{\n          this.$message.warning(res.data.msg);\n        }\n      })\n    },\n\n  },\n}\n</script>\n"]}]}