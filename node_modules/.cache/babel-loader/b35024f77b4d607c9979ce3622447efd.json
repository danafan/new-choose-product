{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js!/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/pages/Supplier/supplier_detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/pages/Supplier/supplier_detail.vue","mtime":1686819444769},{"path":"/Users/fanyulong/project/2022/choose-product/babel.config.js","mtime":1662529345000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.search\";\nimport _defineProperty from \"/Users/fanyulong/project/2022/choose-product/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport resource from \"../../api/resource.js\";\nimport SearchWidget from \"../../components/search_widget.vue\";\nimport ScreeningWidget from \"../../components/screening_widget.vue\";\nimport GoodsItem from \"../../components/goods_item.vue\";\nimport PaginationWidget from \"../../components/pagination_widget.vue\";\nimport CarWidget from \"../../components/car_widget.vue\";\nimport EmptyPage from \"../../components/empty_page.vue\";\nexport default {\n  data: function data() {\n    return {\n      supplier_id: \"\",\n      //供应商ID\n      supplier_info: {},\n      //基本信息\n      loading: true,\n      goods_list: [],\n      //商品列表\n      total: 0,\n      //总数量\n      page: 1,\n      //页码\n      pagesize: 30,\n      search: \"\",\n      show_screen: true,\n      arg: {}\n    };\n  },\n  created: function created() {\n    this.supplier_id = this.$route.query.supplier_id; //供应商基本信息\n\n    this.supplierInfo();\n    var arg = {\n      page: this.page,\n      pagesize: this.pagesize\n    }; //获取列表\n\n    this.getList(arg);\n  },\n  methods: {\n    //供应商基本信息\n    supplierInfo: function supplierInfo() {\n      var _this = this;\n\n      var arg = {\n        supplier_id: this.supplier_id\n      };\n      resource.supplierInfo(arg).then(function (res) {\n        if (res.data.code == 1) {\n          _this.supplier_info = res.data.data;\n        } else {\n          _this.$message.warning(res.data.msg);\n        }\n      });\n    },\n    //搜索\n    searchFn: function searchFn(value) {\n      var _this2 = this;\n\n      this.page = 1;\n      this.search = value;\n      this.arg = {\n        page: this.page\n      }; //获取列表\n\n      this.getList(this.arg); //重新加载筛选条件\n\n      this.show_screen = false;\n      this.$nextTick(function () {\n        _this2.show_screen = true;\n      });\n    },\n    //查询条件回调\n    screenFn: function screenFn(arg) {\n      this.page = 1;\n      this.arg = arg;\n\n      var obj = _objectSpread(_objectSpread({}, this.arg), {\n        page: this.page\n      }); //获取列表\n\n\n      this.getList(obj);\n    },\n    //翻页\n    checkPage: function checkPage(val) {\n      this.page = val;\n\n      var obj = _objectSpread(_objectSpread({}, this.arg), {\n        page: this.page\n      }); //获取列表\n\n\n      this.getList(obj);\n    },\n    //获取列表\n    getList: function getList(arg) {\n      var _this3 = this;\n\n      arg.pagesize = 30;\n      arg.search = this.search;\n      arg.supplier_id = this.supplier_id;\n      this.loading = true;\n      resource.supplierGoods(arg).then(function (res) {\n        if (res.data.code == 1) {\n          var data = res.data.data;\n          _this3.goods_list = data.data;\n          _this3.total = data.total;\n          _this3.loading = false;\n        } else {\n          _this3.$message.warning(res.data.msg);\n        }\n      });\n    },\n    //设置已加入\n    setStatus: function setStatus(style_id) {\n      this.goods_list.map(function (item) {\n        if (item.style_id == style_id) {\n          item.in_cart = 1;\n        }\n      });\n    }\n  },\n  components: {\n    SearchWidget: SearchWidget,\n    ScreeningWidget: ScreeningWidget,\n    GoodsItem: GoodsItem,\n    PaginationWidget: PaginationWidget,\n    CarWidget: CarWidget,\n    EmptyPage: EmptyPage\n  }\n};",{"version":3,"mappings":";;;;;;;;;;AA2FA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA,IADA,kBACA;IACA;MACAC,eADA;MACA;MACAC,iBAFA;MAEA;MACAC,aAHA;MAIAC,cAJA;MAIA;MACAC,QALA;MAKA;MACAC,OANA;MAMA;MACAC,YAPA;MAQAC,UARA;MASAC,iBATA;MAUAC;IAVA;EAYA,CAdA;EAeAC,OAfA,qBAeA;IACA,iDADA,CAEA;;IACA;IACA;MACAL,eADA;MAEAC;IAFA,EAJA,CAQA;;IACA;EACA,CAzBA;EA0BAK;IACA;IACAC,YAFA,0BAEA;MAAA;;MACA;QACAZ;MADA;MAGAa;QACA;UACA;QACA,CAFA,MAEA;UACA;QACA;MACA,CANA;IAOA,CAbA;IAcA;IACAC,QAfA,oBAeAC,KAfA,EAeA;MAAA;;MACA;MACA;MACA;QACAV;MADA,EAHA,CAMA;;MACA,uBAPA,CAQA;;MACA;MACA;QACA;MACA,CAFA;IAGA,CA5BA;IA6BA;IACAW,QA9BA,oBA8BAP,GA9BA,EA8BA;MACA;MACA;;MACA;QAAAJ;MAAA,GAHA,CAIA;;;MACA;IACA,CApCA;IAqCA;IACAY,SAtCA,qBAsCAC,GAtCA,EAsCA;MACA;;MACA;QAAAb;MAAA,GAFA,CAGA;;;MACA;IACA,CA3CA;IA4CA;IACAc,OA7CA,mBA6CAV,GA7CA,EA6CA;MAAA;;MACAA;MACAA;MACAA;MACA;MACAI;QACA;UACA;UACA;UACA;UACA;QACA,CALA,MAKA;UACA;QACA;MACA,CATA;IAUA,CA5DA;IA6DA;IACAO,SA9DA,qBA8DAC,QA9DA,EA8DA;MACA;QACA;UACAC;QACA;MACA,CAJA;IAKA;EApEA,CA1BA;EAgGAC;IACAC,0BADA;IAEAC,gCAFA;IAGAC,oBAHA;IAIAC,kCAJA;IAKAC,oBALA;IAMAC;EANA;AAhGA","names":["data","supplier_id","supplier_info","loading","goods_list","total","page","pagesize","search","show_screen","arg","created","methods","supplierInfo","resource","searchFn","value","screenFn","checkPage","val","getList","setStatus","style_id","item","components","SearchWidget","ScreeningWidget","GoodsItem","PaginationWidget","CarWidget","EmptyPage"],"sourceRoot":"src/pages/Supplier","sources":["supplier_detail.vue"],"sourcesContent":["<template>\n\t<div class=\"padding_page ddd\">\n\t\t<div class=\"supplier_detail_container\">\n\t\t\t<div class=\"padding_page_content\">\n\t\t\t\t<SearchWidget page_path=\"supplier_detai\" @callback=\"searchFn\" placeholder=\"供应商详情搜索\"/>\n\t\t\t\t<el-card class=\"card_box\" id=\"card_box\">\n\t\t\t\t\t<div class=\"top_content\" id=\"top_content\">\n\t\t\t\t\t\t<div class=\"info_row\">\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">供应商：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.supplier_name}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">供应商编码：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.supplier_code}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">核心供应商：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.is_core==1?'是':'否'}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">主营：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.main_business}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">结算方式：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.supply_monthly_settlement == 1?'月结':'现结'}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">介绍：</div>\n\t\t\t\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" :content=\"supplier_info.description\" placement=\"top-end\">\n\t\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.description}}</div>\n\t\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"info_line\"></div>\n\t\t\t\t\t\t<div class=\"info_row\">\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">代发：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.supply_replace_send == 1?'是':'否'}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">入仓：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.supply_warehousing == 1?'是':'否'}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">退货：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.supply_return_goods == 1?'是':'否'}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">拍照：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.supply_photograph == 1?'是':'否'}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">评级：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.grade_name}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">7天销量：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.sales_num_7}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">30天销量：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.sales_num_30}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">发货率：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.delivery_rate}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"info_item\">\n\t\t\t\t\t\t\t\t<div class=\"info_lable\">退货率：</div>\n\t\t\t\t\t\t\t\t<div class=\"info_value\">{{supplier_info.refund_rate}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ScreeningWidget id=\"screen_widget\" v-if=\"show_screen\" :total_num=\"total\" page_type=\"supplier\" @callback=\"screenFn\"/>\n\t\t\t\t\t<div class=\"scroll_view\" v-if=\"goods_list.length > 0\">\n\t\t\t\t\t\t<div class=\"goods_list\">\n\t\t\t\t\t\t\t<GoodsItem :info=\"item\" @setStatus=\"setStatus\" v-for=\"item in goods_list\"/>\n\t\t\t\t\t\t\t<div class=\"padding_item\" v-for=\"i in 6-(goods_list.length%6) == 6?0:6-(goods_list.length%6)\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<PaginationWidget :total=\"total\" :page=\"page\" :pagesize=\"pagesize\" @checkPage=\"checkPage\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<EmptyPage :is_loading=\"loading\" v-else/>\n\t\t\t\t</el-card>\n\t\t\t</div>\n\t\t\t<CarWidget :is_fixed=\"true\"/>\n\t\t</div>\n\t</div>\n</template>\n<script>\n\timport resource from '../../api/resource.js'\n\n\timport SearchWidget from '../../components/search_widget.vue'\n\timport ScreeningWidget from '../../components/screening_widget.vue'\n\timport GoodsItem from '../../components/goods_item.vue'\n\timport PaginationWidget from '../../components/pagination_widget.vue'\n\timport CarWidget from '../../components/car_widget.vue'\n\timport EmptyPage from '../../components/empty_page.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tsupplier_id:\"\",\t\t\t\t//供应商ID\n\t\t\t\tsupplier_info:{},\t\t\t//基本信息\n\t\t\t\tloading:true,\n\t\t\t\tgoods_list:[],\t//商品列表\n\t\t\t\ttotal:0,\t\t//总数量\n\t\t\t\tpage:1,\t\t\t//页码\n\t\t\t\tpagesize:30,\n\t\t\t\tsearch:\"\",\n\t\t\t\tshow_screen:true,\n\t\t\t\targ:{}\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tthis.supplier_id = this.$route.query.supplier_id;\n\t\t\t//供应商基本信息\n\t\t\tthis.supplierInfo();\n\t\t\tlet arg = {\n\t\t\t\tpage:this.page,\n\t\t\t\tpagesize:this.pagesize\n\t\t\t} \n\t\t\t//获取列表\n\t\t\tthis.getList(arg);\n\t\t},\n\t\tmethods:{\n\t\t\t//供应商基本信息\n\t\t\tsupplierInfo(){\n\t\t\t\tlet arg = {\n\t\t\t\t\tsupplier_id:this.supplier_id\n\t\t\t\t}\n\t\t\t\tresource.supplierInfo(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.supplier_info = res.data.data;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//搜索\n\t\t\tsearchFn(value){\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.search = value;\n\t\t\t\tthis.arg = {\n\t\t\t\t\tpage:this.page\n\t\t\t\t} \n\t\t\t\t//获取列表\n\t\t\t\tthis.getList(this.arg);\n\t\t\t\t//重新加载筛选条件\n\t\t\t\tthis.show_screen = false;\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.show_screen = true;\n\t\t\t\t})\n\t\t\t},\n\t\t\t//查询条件回调\n\t\t\tscreenFn(arg){\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.arg = arg;\n\t\t\t\tlet obj = {...this.arg,...{page:this.page}};\n\t\t\t\t//获取列表\n\t\t\t\tthis.getList(obj);\n\t\t\t},\n\t\t\t//翻页\n\t\t\tcheckPage(val) {\n\t\t\t\tthis.page = val;\n\t\t\t\tlet obj = {...this.arg,...{page:this.page}};\n\t\t\t\t//获取列表\n\t\t\t\tthis.getList(obj);\n\t\t\t},\n\t\t\t//获取列表\n\t\t\tgetList(arg){\n\t\t\t\targ.pagesize = 30;\n\t\t\t\targ.search = this.search;\n\t\t\t\targ.supplier_id = this.supplier_id;\n\t\t\t\tthis.loading = true;\n\t\t\t\tresource.supplierGoods(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\tthis.goods_list = data.data;\n\t\t\t\t\t\tthis.total = data.total;\n\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//设置已加入\n\t\t\tsetStatus(style_id){\n\t\t\t\tthis.goods_list.map(item => {\n\t\t\t\t\tif(item.style_id == style_id){\n\t\t\t\t\t\titem.in_cart = 1; \n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tSearchWidget,\n\t\t\tScreeningWidget,\n\t\t\tGoodsItem,\n\t\t\tPaginationWidget,\n\t\t\tCarWidget,\n\t\t\tEmptyPage\n\t\t}\n\t}\n</script>\n<style lang=\"less\" scoped>\n.ddd{\n\toverflow-y: scroll;\n}\n.supplier_detail_container{\n\tposition: relative;\n\twidth: 1725rem;\n\theight: 100%;\n}\n.supplier_detail_container::-webkit-scrollbar{display:none}\n.padding_page_content{\n\tposition: absolute;\n\ttop:0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\t// overflow-y: scroll;\n\t.card_box{\n\t\t.top_content{\n\t\t\tmargin-bottom: 20rem;\n\t\t\tborder: 1px solid #DEDEDE;\n\t\t\tpadding-left: 10rem;\n\t\t\tpadding-right: 10rem;\n\t\t\t.info_row{\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding-top: 8rem;\n\t\t\t\tpadding-bottom: 8rem;\n\t\t\t\t.info_item{\n\t\t\t\t\twidth: 220rem;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tfont-size: 12rem;\n\t\t\t\t\t.info_lable{\n\t\t\t\t\t\tcolor: #999999;\n\t\t\t\t\t}\n\t\t\t\t\t.info_value{\n\t\t\t\t\t\tflex:1;\n\t\t\t\t\t\tcolor: #333333;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.info_line{\n\t\t\t\twidth: 100%;\n\t\t\t\tborder-bottom: 1px solid #DEDEDE;\n\t\t\t}\n\t\t}\n\t\t.scroll_view{\n\t\t\t.goods_list{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\t.padding_item{\n\t\t\t\t\twidth: 265rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n.padding_page_content::-webkit-scrollbar{display:none}\n</style>\n\n\n\n\n\n\n\n\n\n\n"]}]}