{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/pages/GoodsDetail/goods_detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/pages/GoodsDetail/goods_detail.vue","mtime":1675853079655},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\n\timport resource from '../../api/resource.js'\n\n\timport PageTitle from '../../components/page_title.vue'\n\timport MainImage from './components/main_image.vue'\n\timport GoodsInfo from './components/goods_info.vue'\n\timport StoreInfo from './components/store_info.vue'\n\timport TabDetail from './components/tab_detail.vue'\n\timport TabRecord from './components/tab_record.vue'\n\timport CarWidget from '../../components/car_widget.vue'\n\timport FeekbackWidget from '../../components/feekback_widget.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tover_loading:false,\t//是否加载完成\n\t\t\t\tstyle_id:\"\",\t\t//商品ID\n\t\t\t\tgoods_info:{},\t\t//商品详情\n\t\t\t\tbanner_list:[],\t\t//所有图片列表\n\t\t\t\tactive_index:0,\t\t//详情或选中记录下标\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tthis.style_id = this.$route.query.style_id;\n\t\t\t//获取商品详情\n\t\t\tthis.getGoodsInfo();\n\t\t},\n\t\t\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\t//获取商品详情\n\t\t\tgetGoodsInfo(){\n\t\t\t\tlet arg = {\n\t\t\t\t\tstyle_id:this.style_id\n\t\t\t\t}\n\t\t\t\tresource.getGoodsInfo(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.goods_info = res.data.data;\n\t\t\t\t\t\t//处理banner图片\n\t\t\t\t\t\tlet banner = this.goods_info.banner;\n\t\t\t\t\t\tlet banner_list = [];\n\t\t\t\t\t\tbanner.map((item,index) => {\n\t\t\t\t\t\t\tlet img_obj = {\n\t\t\t\t\t\t\t\turl:this.domain + item,\n\t\t\t\t\t\t\t\tis_active:index == 0?true:false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbanner_list.push(img_obj);\n\t\t\t\t\t\t})\n\t\t\t\t\t\tlet newCardList = [];\n\t\t\t\t\t\tfor (var i = 0; i < banner_list.length; i += 5) {\n\t\t\t\t\t\t\tnewCardList.push(banner_list.slice(i, i + 5));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.banner_list = newCardList;\n\t\t\t\t\t\tthis.over_loading = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tPageTitle,\n\t\t\tMainImage,\n\t\t\tGoodsInfo,\n\t\t\tStoreInfo,\n\t\t\tTabDetail,\n\t\t\tTabRecord,\n\t\t\tCarWidget,\n\t\t\tFeekbackWidget\n\t\t}\n\t}\n",{"version":3,"sources":["goods_detail.vue"],"names":[],"mappings":";AA4BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"goods_detail.vue","sourceRoot":"src/pages/GoodsDetail","sourcesContent":["<template>\n\t<div class=\"padding_page white_back\" id=\"white_back\">\n\t\t<div class=\"padding_page_content\">\n\t\t\t<PageTitle title=\"选品详情\"/>\n\t\t\t<div class=\"detail_content\">\n\t\t\t\t<div class=\"detail_top_row\">\n\t\t\t\t\t<!-- 主图部分 -->\n\t\t\t\t\t<MainImage :image_list=\"banner_list\" v-if=\"over_loading\"/>\n\t\t\t\t\t<!-- 商品信息 -->\n\t\t\t\t\t<GoodsInfo :goods_info=\"goods_info\"/>\n\t\t\t\t\t<!-- 店铺信息 -->\n\t\t\t\t\t<StoreInfo :goods_info=\"goods_info\"/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bottom_content\">\n\t\t\t\t\t<div class=\"content_top_tab\">\n\t\t\t\t\t\t<div class=\"content_top_tab_item\" :class=\"{'active_content_top_tab_item':active_index == 0}\" @click=\"active_index = 0\">详情</div>\n\t\t\t\t\t\t<div class=\"content_top_tab_item\" :class=\"{'active_content_top_tab_item':active_index == 1}\" @click=\"active_index = 1\">选中记录</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<TabDetail :goods_info=\"goods_info\" v-if=\"active_index == 0 && over_loading\"/>\n\t\t\t\t\t<TabRecord :selected_record=\"goods_info.info_log\" v-if=\"active_index == 1\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<CarWidget :is_fixed=\"true\"/>\n\t\t\t<FeekbackWidget :style_id=\"style_id\" :is_fixed=\"true\"/>\n\t\t</div>\n\t</div>\n</template>\n<script>\n\timport resource from '../../api/resource.js'\n\n\timport PageTitle from '../../components/page_title.vue'\n\timport MainImage from './components/main_image.vue'\n\timport GoodsInfo from './components/goods_info.vue'\n\timport StoreInfo from './components/store_info.vue'\n\timport TabDetail from './components/tab_detail.vue'\n\timport TabRecord from './components/tab_record.vue'\n\timport CarWidget from '../../components/car_widget.vue'\n\timport FeekbackWidget from '../../components/feekback_widget.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tover_loading:false,\t//是否加载完成\n\t\t\t\tstyle_id:\"\",\t\t//商品ID\n\t\t\t\tgoods_info:{},\t\t//商品详情\n\t\t\t\tbanner_list:[],\t\t//所有图片列表\n\t\t\t\tactive_index:0,\t\t//详情或选中记录下标\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\tthis.style_id = this.$route.query.style_id;\n\t\t\t//获取商品详情\n\t\t\tthis.getGoodsInfo();\n\t\t},\n\t\t\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\t//获取商品详情\n\t\t\tgetGoodsInfo(){\n\t\t\t\tlet arg = {\n\t\t\t\t\tstyle_id:this.style_id\n\t\t\t\t}\n\t\t\t\tresource.getGoodsInfo(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.goods_info = res.data.data;\n\t\t\t\t\t\t//处理banner图片\n\t\t\t\t\t\tlet banner = this.goods_info.banner;\n\t\t\t\t\t\tlet banner_list = [];\n\t\t\t\t\t\tbanner.map((item,index) => {\n\t\t\t\t\t\t\tlet img_obj = {\n\t\t\t\t\t\t\t\turl:this.domain + item,\n\t\t\t\t\t\t\t\tis_active:index == 0?true:false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbanner_list.push(img_obj);\n\t\t\t\t\t\t})\n\t\t\t\t\t\tlet newCardList = [];\n\t\t\t\t\t\tfor (var i = 0; i < banner_list.length; i += 5) {\n\t\t\t\t\t\t\tnewCardList.push(banner_list.slice(i, i + 5));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.banner_list = newCardList;\n\t\t\t\t\t\tthis.over_loading = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tPageTitle,\n\t\t\tMainImage,\n\t\t\tGoodsInfo,\n\t\t\tStoreInfo,\n\t\t\tTabDetail,\n\t\t\tTabRecord,\n\t\t\tCarWidget,\n\t\t\tFeekbackWidget\n\t\t}\n\t}\n</script>\n<style lang=\"less\" scoped>\n.white_back{\n\tbackground: #ffffff;\n\toverflow-y: scroll;\n}\n.padding_page_content{\n\twidth: 1330rem;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\t.detail_content{\n\t\tflex:1;\n\t\tpadding-left: 100rem;\n\t\t.detail_top_row{\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t}\n\t\t.bottom_content{\n\t\t\tmargin-top: 20rem;\n\t\t\tborder:1px solid #E5E5E5;\n\t\t\t.content_top_tab{\n\t\t\t\tbackground: #F6F6F6;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 44rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\t.content_top_tab_item{\n\t\t\t\t\tborder-left:1px solid #E5E5E5;\n\t\t\t\t\tborder-right:1px solid #E5E5E5;\n\t\t\t\t\theight: 44rem;\n\t\t\t\t\tline-height: 44rem;\n\t\t\t\t\tpadding-left: 60rem;\n\t\t\t\t\tpadding-right: 60rem;\n\t\t\t\t\tfont-size: 12rem;\n\t\t\t\t\tcolor: #333333;\n\t\t\t\t\tcursor:pointer;\n\t\t\t\t}\n\t\t\t\t.active_content_top_tab_item{\n\t\t\t\t\tborder:1px solid var(--color);\n\t\t\t\t\tbackground: #ffffff;\n\t\t\t\t\tcolor: var(--color);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n.white_back::-webkit-scrollbar{display:none}\n</style>\n"]}]}