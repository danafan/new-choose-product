{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/pages/SupplyChain/pages/GysybkPages/gysybk_page.vue?vue&type=style&index=0&id=a1e82836&lang=less&scoped=true&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/pages/SupplyChain/pages/GysybkPages/gysybk_page.vue","mtime":1686814229208},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\n// .chain_page_content{\n// \tposition: absolute;\n// \ttop: 0;\n// \tleft: 0;\n// \twidth: 100%;\n// \theight: 100%;\n// \tpadding: 24rem;\n// \tdisplay: flex;\n// \tflex-direction: column;\n\t.form_card{\n\t\tmargin-bottom: 16rem;\n\t\t.form_item{\n\t\t\tmargin-bottom:0 !important;\n\t\t}\n\t}\n\t.card_box{\n\t\tflex:1;\n\t}\n\t.down_box{\n\t\tdisplay:flex;\n\t\tpadding:30rem;\n\t\t.upload_box{\n\t\t\tmargin-left: 10px;\n\t\t\tposition: relative;\n\t\t\t.upload_file{\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\topacity: 0;\n\t\t\t}\n\t\t}\n\t}\n// }\n",{"version":3,"sources":["gysybk_page.vue"],"names":[],"mappings":";AAkhCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gysybk_page.vue","sourceRoot":"src/pages/SupplyChain/pages/GysybkPages","sourcesContent":["<template>\n\t<div class=\"flex-1 flex fc height-100\">\n\t\t<el-card class=\"form_card\">\n\t\t\t<el-form :inline=\"true\" size=\"mini\">\n\t\t\t\t<el-form-item label=\"供应商名称：\">\n\t\t\t\t\t<el-input clearable v-model=\"supplier_name\" placeholder=\"名称/简称\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"开发员：\">\n\t\t\t\t\t<el-select v-model=\"developer\" clearable filterable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option v-for=\"item in user_list\" :key=\"item.user_id\" :label=\"item.real_name\" :value=\"item.real_name\">\n\t\t\t\t\t\t</el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"开发日期：\">\n\t\t\t\t\t<el-date-picker v-model=\"develop_date\" size=\"mini\" type=\"daterange\" unlink-panels value-format=\"yyyy-MM-dd\" range-separator=\"至\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\">\n\t\t\t\t\t</el-date-picker>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"分类：\">\n\t\t\t\t\t<el-select v-model=\"classification\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option :label=\"item\" :value=\"item\" v-for=\"item in classification_list\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"区域：\">\n\t\t\t\t\t<el-select v-model=\"area\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option :label=\"item\" :value=\"item\" v-for=\"item in area_list\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"主营：\">\n\t\t\t\t\t<el-input clearable v-model=\"main_business\" placeholder=\"主营\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"擅长品类：\">\n\t\t\t\t\t<el-input clearable v-model=\"scpl\" placeholder=\"擅长品类\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"是否自有工厂：\">\n\t\t\t\t\t<el-select v-model=\"supply_free_factory\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option label=\"是\" :value=\"1\"></el-option>\n\t\t\t\t\t\t<el-option label=\"否\" :value=\"0\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"是否自有设计能力：\">\n\t\t\t\t\t<el-select v-model=\"supply_design\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option label=\"是\" :value=\"1\"></el-option>\n\t\t\t\t\t\t<el-option label=\"否\" :value=\"0\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"结算方式：\">\n\t\t\t\t\t<el-select v-model=\"settlement_method\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option :label=\"item\" :value=\"item\" v-for=\"item in settlement_method_list\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"产品价位段：\">\n\t\t\t\t\t<el-input style=\"width: 50px;\" size=\"mini\" type=\"number\" v-model=\"start_price\"></el-input>&nbsp~&nbsp\n\t\t\t\t\t<el-input style=\"width: 50px;\" size=\"mini\" type=\"number\" v-model=\"end_price\"></el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"是否可退换货：\">\n\t\t\t\t\t<el-select v-model=\"supply_return_exchange\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option label=\"是\" :value=\"1\"></el-option>\n\t\t\t\t\t\t<el-option label=\"否\" :value=\"0\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"是否可代发：\">\n\t\t\t\t\t<el-select v-model=\"supply_replace_send\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option label=\"是\" :value=\"1\"></el-option>\n\t\t\t\t\t\t<el-option label=\"否\" :value=\"0\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"性价比：\">\n\t\t\t\t\t<el-select v-model=\"cost_performance\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option :label=\"item.name\" :value=\"item.id\" v-for=\"item in cost_performance_list\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"填报状态：\">\n\t\t\t\t\t<el-select v-model=\"filling_status\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option label=\"待处理\" :value=\"0\"></el-option>\n\t\t\t\t\t\t<el-option label=\"已通过\" :value=\"1\"></el-option>\n\t\t\t\t\t\t<el-option label=\"已拒绝\" :value=\"2\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"合作程度：\">\n\t\t\t\t\t<el-select v-model=\"cooperativeness\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option :label=\"item.name\" :value=\"item.id\" v-for=\"item in cooperativeness_list\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"合格状态：\">\n\t\t\t\t\t<el-select v-model=\"qualified_status\" clearable placeholder=\"全部\">\n\t\t\t\t\t\t<el-option label=\"待审核\" :value=\"3\"></el-option>\n\t\t\t\t\t\t<el-option label=\"已同意\" :value=\"4\"></el-option>\n\t\t\t\t\t\t<el-option label=\"已拒绝\" :value=\"5\"></el-option>\n\t\t\t\t\t</el-select>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item class=\"form_item\">\n\t\t\t\t\t<el-button type=\"primary\" @click=\"searchData\">查询</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t</el-card>\n\t\t<el-card class=\"card_box\" id=\"card_box\">\n\t\t\t<TableTitle title=\"数据列表\" id=\"table_title\">\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"import_dialog = true\">导入</el-button>\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"addFn('1')\" v-if=\"button_list.add == 1\">添加</el-button>\n\t\t\t</TableTitle>\n\t\t\t<el-table size=\"mini\" :data=\"data.data\" tooltip-effect=\"dark\" style=\"width: 100%\" :header-cell-style=\"{'background':'#f4f4f4','text-align': 'center'}\" :cell-style=\"{'text-align':'center'}\" :max-height=\"max_height\" v-loading=\"loading\">\n\t\t\t\t<el-table-column label=\"供应商名称\" prop=\"supplier_name\"></el-table-column>\n\t\t\t\t<el-table-column label=\"供应商简称\" prop=\"supplier_code\"></el-table-column>\n\t\t\t\t<el-table-column label=\"开发员\" prop=\"developer\"></el-table-column>\n\t\t\t\t<el-table-column label=\"开发日期\" prop=\"develop_date\"></el-table-column>\n\t\t\t\t<el-table-column label=\"分类\" prop=\"classification\"></el-table-column>\n\t\t\t\t<el-table-column label=\"区域\" prop=\"area\"></el-table-column>\n\t\t\t\t<el-table-column label=\"擅长品类\" prop=\"scpl\"></el-table-column>\n\t\t\t\t<el-table-column label=\"是否自有工厂\" prop=\"supply_free_factory\"></el-table-column>\n\t\t\t\t<el-table-column label=\"是否自有设计能力\" prop=\"supply_design\"></el-table-column>\n\t\t\t\t<el-table-column label=\"是否有外发能力\" prop=\"supply_out_send\"></el-table-column>\n\t\t\t\t<el-table-column label=\"结算方式\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t{{scope.row.supply_monthly_settlement == 1?'月结':'现结'}}\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"联系人\" width=\"120\" prop=\"contactor\"></el-table-column>\n\t\t\t\t<el-table-column label=\"联系电话\" width=\"120\" prop=\"contact_information\"></el-table-column>\n\t\t\t\t<el-table-column label=\"联系人职位\" width=\"120\" prop=\"contactor_position\"></el-table-column>\n\t\t\t\t<el-table-column label=\"联系人微信\" width=\"120\" prop=\"weixin\"></el-table-column>\n\t\t\t\t<el-table-column label=\"地址\" prop=\"address\"></el-table-column>\n\t\t\t\t<el-table-column label=\"供应商合作客户\" prop=\"supplier_cooperate_custom\"></el-table-column>\n\t\t\t\t<el-table-column label=\"产品价段位\" prop=\"price_range\"></el-table-column>\n\t\t\t\t<el-table-column label=\"是否可退换货\" prop=\"supply_return_exchange\"></el-table-column>\n\t\t\t\t<el-table-column label=\"是否可代发\" prop=\"supply_replace_send\"></el-table-column>\n\t\t\t\t<el-table-column label=\"性价比\" prop=\"cost_performance\"></el-table-column>\n\t\t\t\t<el-table-column label=\"合作程度\" prop=\"cooperativeness\"></el-table-column>\n\t\t\t\t<el-table-column label=\"备注\" prop=\"description\"></el-table-column>\n\t\t\t\t<el-table-column label=\"介绍人\" prop=\"introducer\"></el-table-column>\n\t\t\t\t<el-table-column label=\"填报状态\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<div>{{scope.row.status | status}}</div>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"是否合格\" width=\"120\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" v-if=\"scope.row.status == 1 && button_list.apply_qualified == 1\" @click=\"zhuanFn('1',scope.row.reserve_id)\">待转合格</el-button>\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" v-if=\"scope.row.status == 3 && button_list.qualified_check == 1\" @click=\"hgAuditFn(scope.row.reserve_id)\">合格待审核</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"操作\" width=\"180\" fixed=\"right\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" @click=\"checkInfo('3',scope.row.reserve_id)\" v-if=\"button_list.detail == 1\">查看</el-button>\n\t\t\t\t\t\t<!-- 填报编辑 -->\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" @click=\"addFn('2',scope.row.reserve_id)\" v-if=\"scope.row.status == 2 && button_list.info_edit == 1\">编辑</el-button>\n\t\t\t\t\t\t<!-- 转合格编辑 -->\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" @click=\"zhuanFn('2',scope.row.reserve_id)\" v-if=\"scope.row.status == 5 && button_list.qualified_edit == 1\">编辑</el-button>\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" v-if=\"scope.row.status != 0 && scope.row.status != 3\" @click=\"deleteFn(scope.row.reserve_id)\">删除</el-button>\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" v-if=\"scope.row.status == 0 && button_list.info_check == 1\" @click=\"checkInfo('4',scope.row.reserve_id)\">填报审核</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t\t<PaginationWidget id=\"bottom_row\" :total=\"data.total\" :page=\"page\" :pagesize=\"20\" @checkPage=\"checkPage\"/>\n\t\t</el-card>\n\t\t<!-- 导入 -->\n\t\t<el-dialog :visible.sync=\"import_dialog\" width=\"30%\">\n\t\t\t<div slot=\"title\" class=\"dialog_title\">\n\t\t\t\t<div>导入</div>\n\t\t\t\t<img class=\"close_icon\" src=\"../../../../static/close_icon.png\" @click=\"import_dialog = false\">\n\t\t\t</div>\n\t\t\t<div class=\"down_box\">\n\t\t\t\t<el-button type=\"primary\" plain size=\"small\" @click=\"downTemplate\">下载模版<i class=\"el-icon-download el-icon--right\"></i></el-button>\n\t\t\t\t<div class=\"upload_box\">\n\t\t\t\t\t<el-button type=\"primary\" size=\"small\">\n\t\t\t\t\t\t导入\n\t\t\t\t\t\t<i class=\"el-icon-upload el-icon--right\"></i>\n\t\t\t\t\t</el-button>\n\t\t\t\t\t<input type=\"file\" ref=\"csvUpload\" class=\"upload_file\" accept=\".csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" @change=\"uploadCsv\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div slot=\"footer\" class=\"dialog_footer\">\n\t\t\t\t<el-button size=\"small\" @click=\"import_dialog = false\">取消</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t\t<!-- 添加/编辑/审核/详情 -->\n\t\t<el-dialog :visible.sync=\"edit_dialog\" @close=\"closeEdit\" width=\"80%\">\n\t\t\t<div slot=\"title\" class=\"dialog_title\">\n\t\t\t\t<div>{{add_title}}</div>\n\t\t\t\t<img class=\"close_icon\" src=\"../../../../static/close_icon.png\" @click=\"edit_dialog = false\">\n\t\t\t</div>\n\t\t\t<!-- 内容 -->\n\t\t\t<div>\n\t\t\t\t<!-- 内容信息 -->\n\t\t\t\t<div class=\"flex jsa\">\n\t\t\t\t\t<el-form size=\"mini\" style=\"width: 360px;\" >\n\t\t\t\t\t\t<el-form-item label=\"供应商名称：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.supplier_name\" style=\"width: 120px;\" placeholder=\"供应商名称\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.supplier_name}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"供应商简称：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.supplier_code\" style=\"width: 120px;\" placeholder=\"供应商简称\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.supplier_code}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"开发员：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.developer\" style=\"width: 120px;\" clearable filterable placeholder=\"全部\" @change=\"changeUser\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in user_list\" :key=\"item.user_id\" :label=\"item.real_name\" :value=\"item.user_id\">\n\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.developer}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"开发日期：\">\n\t\t\t\t\t\t\t<el-date-picker v-model=\"info_arg.develop_date\" type=\"date\" clearable value-format=\"yyyy-MM-dd\" placeholder=\"选择日期\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t</el-date-picker>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.develop_date}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"介绍人：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.introducer\" style=\"width: 120px;\" placeholder=\"介绍人\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.introducer}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"分类：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.classification\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option :label=\"item\" :value=\"item\" v-for=\"item in classification_list\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.classification}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"区域：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.area\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option :label=\"item\" :value=\"item\" v-for=\"item in area_list\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.area}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"主营：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.main_business\" placeholder=\"主营\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.main_business}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"擅长品类：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.scpl\" placeholder=\"擅长品类\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.scpl}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-form>\n\t\t\t\t\t<el-form size=\"mini\" style=\"width: 360px;\">\n\t\t\t\t\t\t<el-form-item label=\"是否自有工厂：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.supply_free_factory\" style=\"width: 120px;\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option label=\"是\" :value=\"1\"></el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"否\" :value=\"0\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.supply_free_factory}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"是否自有设计能力：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.supply_design\" style=\"width: 120px;\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option label=\"是\" :value=\"1\"></el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"否\" :value=\"0\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.supply_design}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"是否有外发能力：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.supply_out_send\" style=\"width: 120px;\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option label=\"是\" :value=\"1\"></el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"否\" :value=\"0\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.supply_out_send}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"是否可退换货：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.supply_return_exchange\" style=\"width: 120px;\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option label=\"是\" :value=\"1\"></el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"否\" :value=\"0\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.supply_return_exchange}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"是否可代发：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.supply_replace_send\" style=\"width: 120px;\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option label=\"是\" :value=\"1\"></el-option>\n\t\t\t\t\t\t\t\t<el-option label=\"否\" :value=\"0\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.supply_replace_send}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"结算方式：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.settlement_method\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option :label=\"item\" :value=\"item\" v-for=\"item in settlement_method_list\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.settlement_method}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"联系人：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.contactor\" style=\"width: 120px;\" placeholder=\"联系人\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.contactor}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"联系电话：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.contact_information\" style=\"width: 120px;\" placeholder=\"联系电话\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.contact_information}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"联系人职位：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.contactor_position\" style=\"width: 120px;\" placeholder=\"联系人职位\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.contactor_position}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-form>\n\t\t\t\t\t<el-form size=\"mini\" style=\"width: 360px;\">\n\t\t\t\t\t\t<el-form-item label=\"联系人微信：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.weixin\" style=\"width: 120px;\" placeholder=\"联系人微信\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.weixin}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"产品价位段：\">\n\t\t\t\t\t\t\t<div v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-input style=\"width: 80px;\" size=\"mini\" type=\"number\" v-model=\"info_arg.start_price\"></el-input>&nbsp~&nbsp\n\t\t\t\t\t\t\t\t<el-input style=\"width: 80px;\" size=\"mini\" type=\"number\" v-model=\"info_arg.end_price\"></el-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.start_price}}~{{info_arg.end_price}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"性价比：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.cost_performance\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option :label=\"item.name\" :value=\"item.id\" v-for=\"item in cost_performance_list\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.cost_performance}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"合作程度：\">\n\t\t\t\t\t\t\t<el-select v-model=\"info_arg.cooperativeness\" clearable placeholder=\"全部\" v-if=\"add_type == '1' || add_type == '2'\">\n\t\t\t\t\t\t\t\t<el-option :label=\"item.name\" :value=\"item.id\" v-for=\"item in cooperativeness_list\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.cooperativeness}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"地址：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.address\" style=\"width: 120px;\" placeholder=\"地址\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.address}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"供应商合作客户：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.supplier_cooperate_custom\" style=\"width: 120px;\" placeholder=\"供应商合作客户\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.supplier_cooperate_custom}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"备注：\">\n\t\t\t\t\t\t\t<el-input clearable v-model=\"info_arg.description\" style=\"width: 120px;\" placeholder=\"备注\" v-if=\"add_type == '1' || add_type == '2'\"></el-input>\n\t\t\t\t\t\t\t<div v-else>{{info_arg.description}}</div>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-form>\n\t\t\t\t</div>\n\t\t\t\t<!-- 填报审核 -->\n\t\t\t\t<el-form size=\"mini\" v-if=\"add_type == '4'\">\n\t\t\t\t\t<el-form-item>\n\t\t\t\t\t\t<el-radio-group v-model=\"check_status\">\n\t\t\t\t\t\t\t<el-radio :label=\"1\">同意</el-radio>\n\t\t\t\t\t\t\t<el-radio :label=\"0\">拒绝</el-radio>\n\t\t\t\t\t\t</el-radio-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"拒绝原因：\" v-if=\"check_status == 0\" required>\n\t\t\t\t\t\t<el-input type=\"textarea\" :rows=\"3\" placeholder=\"拒绝原因\" v-model=\"remark\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t\t<!-- 转合格审核 -->\n\t\t\t\t<el-form size=\"mini\" v-if=\"add_type == '5'\">\n\t\t\t\t\t<el-form-item label=\"公司名称：\">\n\t\t\t\t\t\t<div>{{company_name}}</div>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"工商营业执照：\">\n\t\t\t\t\t\t<el-image style=\"width: 80px;height: 80px;margin-right: 10px;\" :z-index=\"99999\" :src=\"item\" :initial-index=\"index\" :preview-src-list=\"business_license_img\" v-for=\"(item,index) in business_license_img\">\n\t\t\t\t\t\t</el-image>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"公司照片：\">\n\t\t\t\t\t\t<el-image style=\"width: 80px;height: 80px;margin-right: 10px;\" :z-index=\"99999\" :src=\"item\" :initial-index=\"index\" :preview-src-list=\"company_img\" v-for=\"(item,index) in company_img\">\n\t\t\t\t\t\t</el-image>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item>\n\t\t\t\t\t\t<el-radio-group v-model=\"audit_status\">\n\t\t\t\t\t\t\t<el-radio :label=\"1\">同意</el-radio>\n\t\t\t\t\t\t\t<el-radio :label=\"0\">拒绝</el-radio>\n\t\t\t\t\t\t</el-radio-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"拒绝原因：\" v-if=\"audit_status == 0\" required>\n\t\t\t\t\t\t<el-input type=\"textarea\" :rows=\"3\" placeholder=\"拒绝原因\" v-model=\"audit_remark\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</div>\n\t\t\t<div slot=\"footer\" class=\"dialog_footer\">\n\t\t\t\t<el-button size=\"small\" @click=\"edit_dialog = false\">取消</el-button>\n\t\t\t\t<!-- 添加/编辑 -->\n\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"submitAddEdit\" v-if=\"add_type == '1' || add_type == '2'\">提交</el-button>\n\t\t\t\t<!-- 填报审核 -->\n\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"submitCheck\" v-if=\"add_type == '4'\">保存</el-button>\n\t\t\t\t<!-- 转合格审核 -->\n\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"zhgAudit\" v-if=\"add_type == '5'\">保存</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t\t<!-- 转合格 -->\n\t\t<el-dialog :visible.sync=\"zhuan_dialog\" @close=\"closeZhuan\">\n\t\t\t<div slot=\"title\" class=\"dialog_title\">\n\t\t\t\t<div>请{{zhuan_type == '1'?'填写':'编辑'}}转正资料</div>\n\t\t\t\t<img class=\"close_icon\" src=\"../../../../static/close_icon.png\" @click=\"zhuan_dialog = false\">\n\t\t\t</div>\n\t\t\t<!-- 内容 -->\n\t\t\t<div>\n\t\t\t\t<el-form size=\"mini\">\n\t\t\t\t\t<el-form-item label=\"公司名称：\">\n\t\t\t\t\t\t<el-input clearable v-model=\"company_name\" style=\"width: 120px;\" placeholder=\"公司名称\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"工商营业执照：\">\n\t\t\t\t\t\t<UploadFile :img_list=\"business_license_img\" :is_multiple=\"true\" :current_num=\"business_license_img.length\" :max_num=\"6\" @callbackFn=\"businessCallbackFn\"/>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"公司照片：\">\n\t\t\t\t\t\t<UploadFile :img_list=\"company_img\" :is_multiple=\"true\" :current_num=\"company_img.length\" :max_num=\"6\" @callbackFn=\"companyCallbackFn\"/>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</div>\n\t\t\t<div slot=\"footer\" class=\"dialog_footer\">\n\t\t\t\t<el-button size=\"small\" @click=\"zhuan_dialog = false\">取消</el-button>\n\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"commitZhuan\">提交</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t</div>\n</template>\n<style lang=\"less\" scoped>\n\t// .chain_page_content{\n\t// \tposition: absolute;\n\t// \ttop: 0;\n\t// \tleft: 0;\n\t// \twidth: 100%;\n\t// \theight: 100%;\n\t// \tpadding: 24rem;\n\t// \tdisplay: flex;\n\t// \tflex-direction: column;\n\t\t.form_card{\n\t\t\tmargin-bottom: 16rem;\n\t\t\t.form_item{\n\t\t\t\tmargin-bottom:0 !important;\n\t\t\t}\n\t\t}\n\t\t.card_box{\n\t\t\tflex:1;\n\t\t}\n\t\t.down_box{\n\t\t\tdisplay:flex;\n\t\t\tpadding:30rem;\n\t\t\t.upload_box{\n\t\t\t\tmargin-left: 10px;\n\t\t\t\tposition: relative;\n\t\t\t\t.upload_file{\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\topacity: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t// }\n</style>\n<script>\n\timport { exportPost } from \"../../../../api/export.js\";\n\n\timport { MessageBox, Message } from \"element-ui\";\n\timport resource from '../../../../api/chain_resource.js'\n\timport commonResource from '../../../../api/common_resource.js'\n\n\timport TableTitle from '../../components/table_title.vue'\n\timport PaginationWidget from '../../../../components/pagination_widget.vue'\n\timport UploadFile from '../../../../components/upload_file.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tloading:false,\n\t\t\t\tsupplier_name:\"\",\t\t\t\t//供应商名称\n\t\t\t\tuser_list:[],\t\t\t\t\t//所有用户列表\n\t\t\t\tdeveloper:\"\",\t\t\t\t\t//开发人员姓名\n\t\t\t\tdevelop_date:[],\t\t\t\t//开发日期\n\t\t\t\tclassification_list:[],\t\t\t\t//分类\n\t\t\t\tclassification:\"\",\t\t\t\t\t//选中的分类\n\t\t\t\tarea_list:[],\t\t\t\t\t\t//区域\n\t\t\t\tarea:\"\",\t\t\t\t\t\t\t//选中的区域\n\t\t\t\tmain_business:\"\",\t\t\t\t\t//选中的主营\n\t\t\t\tscpl:\"\",\t\t\t\t\t\t\t//选中的擅长品类\n\t\t\t\tsettlement_method_list:[],\t\t\t//结算方式\n\t\t\t\tsettlement_method:\"\",\t\t\t\t//选中的结算方式\n\t\t\t\tcost_performance_list:[],\t\t\t//性价比\n\t\t\t\tcost_performance:\"\",\t\t\t\t//选中的性价比\n\t\t\t\tcooperativeness_list:[],\t\t\t//合作程度\n\t\t\t\tcooperativeness:\"\",\t\t\t\t\t//选中的合作程度\n\t\t\t\tsupply_free_factory:\"\",\t\t\t//是否自有工厂\n\t\t\t\tsupply_design:\"\",\t\t\t\t//是否自有设计能力\n\t\t\t\tstart_price:\"\",\t\t\t\t\t//价格段开始\n\t\t\t\tend_price:\"\",\t\t\t\t\t//价格段结束\n\t\t\t\tsupply_return_exchange:\"\",\t\t//是否可退换货\n\t\t\t\tsupply_replace_send:\"\",\t\t\t//是否可代发\n\t\t\t\tfilling_status:\"\",\t\t\t\t//填报状态\n\t\t\t\tqualified_status:\"\",\t\t\t//合格状态\n\t\t\t\tmax_height:0,\t\n\t\t\t\tpage:1,\n\t\t\t\tdata:{},\t\t\t\t\t\t//获取的数据\n\t\t\t\tbutton_list:{},\n\t\t\t\timport_dialog:false,\t\t\t//导入弹窗\n\t\t\t\tedit_dialog:false,\t\t\t\t//填报添加/编辑/审核/详情弹窗\n\t\t\t\treserve_id:\"\",\t\t\t\t\t//点击的供应商ID\n\t\t\t\tadd_type:'1',\t//填报弹窗类型（1:添加；2:编辑；3:查看；4:填报审核；5:合格审核）\n\t\t\t\tadd_title:'',\t\t\t\t\t//填报弹窗标题\n\t\t\t\tinfo_arg:{\n\t\t\t\t\tsupplier_name:\"\",\n\t\t\t\t\tsupplier_code:\"\",\n\t\t\t\t\tdeveloper:\"\",\n\t\t\t\t\tdeveloper_id:\"\",\n\t\t\t\t\tclassification:\"\",\n\t\t\t\t\tarea:\"\",\n\t\t\t\t\tmain_business:\"\",\n\t\t\t\t\tscpl:\"\",\n\t\t\t\t\tsupply_free_factory:\"\",\n\t\t\t\t\tsupply_design:\"\",\n\t\t\t\t\tsettlement_method:\"\",\n\t\t\t\t\tstart_price:\"\",\n\t\t\t\t\tend_price:\"\",\n\t\t\t\t\tsupply_replace_send:\"\",\n\t\t\t\t\tcost_performance:\"\",\n\t\t\t\t\tcooperativeness:\"\",\n\t\t\t\t\tsupply_return_exchange:\"\",\n\t\t\t\t\tcontactor:\"\",\n\t\t\t\t\taddress:\"\",\n\t\t\t\t\tcontact_information:\"\",\n\t\t\t\t\tcontactor_position:\"\",\n\t\t\t\t\tweixin:\"\",\n\t\t\t\t\tdescription:\"\",\n\t\t\t\t\tsupplier_cooperate_custom:\"\",\n\t\t\t\t\tintroducer:\"\",\n\t\t\t\t\tsupply_out_send:\"\",\n\t\t\t\t\tdevelop_date:\"\"\n\t\t\t\t},\t\t\t\t  //填报阶段的详情\n\t\t\t\tcheck_status:1,\t\t\t\t\t//审核状态\n\t\t\t\tremark:\"\",\t\t\t\t\t\t//拒绝原因\n\t\t\t\tzhuan_dialog:false,\t\t\t\t//申请转合格\n\t\t\t\tzhuan_type:\"\",\t\t\t\t\t//申请转合格弹窗(1:填写；2:编辑)\n\t\t\t\tcompany_name:\"\",\t\t\t\t//公司名称\n\t\t\t\tbusiness_license_img:[],\t\t//工商营业执照\n\t\t\t\tcompany_img:[],\t\t\t\t\t//公司照片\n\t\t\t\taudit_status:1,\t\t\t\t\t//转合格审核（1:同意；2:拒绝）\n\t\t\t\taudit_remark:\"\",\t\t\t\t//转合格审核拒绝原因\n\t\t\t}\n\t\t},\n\t\t// beforeRouteLeave(to,from,next){\n\t\t// \tif(to.path == '/chain_supplier_detail' || to.path == '/add_edit_supplier' || to.path == '/account_list'){\t\n\t\t// \t\tfrom.meta.use_cache = true;\n\t\t// \t}else{\n\t\t// \t\tfrom.meta.use_cache = false;\n\t\t// \t}\n\t\t// \tnext();\n\t\t// },\n\t\t// activated(){\n\t\t// \tif(!this.$route.meta.use_cache){\n\t\t// \t\tthis.page = 1;\n\t\t// \t}\n\t\t// \t//获取供应商列表\n\t\t// \tthis.supplierManagerList();\n\t\t// \tthis.$route.meta.use_cache = false;\n\t\t// },\n\t\t// destroyed() {\n\t\t// \twindow.removeEventListener(\"resize\", () => {});\n\t\t// },\n\t\tcreated(){\n\t\t\t//获取用户列表\n\t\t\tthis.getUserList();\n\t\t\t//预备库下拉框筛选项\n\t\t\tthis.selectionMap();\n\t\t\t//获取供应商列表\n\t\t\tthis.supplierManagerList();\n\t\t},\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t}\n\t\t},\n\t\tmounted() {\n    \t\t//获取表格最大高度\n\t\t\tthis.onResize();\n\t\t\twindow.addEventListener(\"resize\", this.onResize());\n\t\t},\n\t\tmethods: {\n    \t\t//监听屏幕大小变化\n\t\t\tonResize() {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tlet card_box_height = document.getElementById(\"card_box\").offsetHeight;\n\t\t\t\t\tlet table_title_height = document.getElementById(\"table_title\").offsetHeight;\n\t\t\t\t\tlet bottom_row_height = document.getElementById(\"bottom_row\").offsetHeight;\n\t\t\t\t\tthis.max_height =\n\t\t\t\t\tcard_box_height -\n\t\t\t\t\ttable_title_height -\n\t\t\t\t\tbottom_row_height -\n\t\t\t\t\t60 +\n\t\t\t\t\t\"px\";\n\t\t\t\t});\n\t\t\t},\n\t\t\t//获取用户列表\n\t\t\tgetUserList(){\n\t\t\t\tresource.supplierAjaxUser().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.user_list = res.data.data;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//预备库下拉框筛选项\n\t\t\tselectionMap(){\n\t\t\t\tresource.selectionMap().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\tthis.classification_list = data.classification;\t//分类\n\t\t\t\t\t\tthis.area_list = data.area;\t\t\t\t\t\t//区域\n\t\t\t\t\t\tthis.settlement_method_list = data.settlement_method;//结算方式\n\t\t\t\t\t\tthis.cost_performance_list = data.cost_performance;//性价比\n\t\t\t\t\t\tthis.cooperativeness_list = data.cooperativeness;//合作程度\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//点击查询\n\t\t\tsearchData(){\n\t\t\t\tif(this.start_price != '' && !this.isPrice.test(parseFloat(this.start_price))){\n\t\t\t\t\tthis.$message.warning('价格必须大于0且最多两位小数');\n\t\t\t\t}else if(this.end_price != '' && !this.isPrice.test(parseFloat(this.end_price))){\n\t\t\t\t\tthis.$message.warning('价格必须大于0且最多两位小数');\n\t\t\t\t}else if(parseFloat(this.start_price) > parseFloat(this.end_price)){\n\t\t\t\t\tthis.$message.warning('起始价格不能高于结束金额');\n\t\t\t\t}else{\n\t\t\t\t\tthis.checkPage(1);\n\t\t\t\t}\n\t\t\t},\n    \t\t//获取供应商列表\n\t\t\tsupplierManagerList(){\n\t\t\t\tlet arg = {\n\t\t\t\t\tsupplier_name:this.supplier_name,\t\t\t\t//供应商名称\n\t\t\t\t\tdeveloper:this.developer,\t\t\t\t\t//开发人员姓名\n\t\t\t\t\tstart_time:this.develop_date && this.develop_date.length > 0?this.develop_date[0]:\"\",\n\t\t\t\t\tend_time:this.develop_date && this.develop_date.length > 0?this.develop_date[1]:\"\",\n\t\t\t\t\tclassification:this.classification,\t\t\t\t//分类\n\t\t\t\t\tarea:this.area,\t\t\t\t\t\t//区域\n\t\t\t\t\tmain_business:this.main_business,\t\t\t\t//主营\n\t\t\t\t\tscpl:this.scpl,\t\t\t\t\t\t//擅长品类\n\t\t\t\t\tsupply_free_factory:this.supply_free_factory,\t\t\t//是否自有工厂\n\t\t\t\t\tsupply_design:this.supply_design,\t\t\t\t//是否自有设计能力\n\t\t\t\t\tsettlement_method:this.settlement_method,\t\t\t//结算方式\n\t\t\t\t\tsupply_return_exchange:this.supply_return_exchange,\t\t//是否可退换货\n\t\t\t\t\tsupply_replace_send:this.supply_replace_send,\t\t\t//是否可代发\n\t\t\t\t\tcost_performance:this.cost_performance,\t\t\t//性价比\n\t\t\t\t\tfilling_status:this.filling_status,\t\t\t\t//填报状态\n\t\t\t\t\tcooperativeness:this.cooperativeness,\t\t\t\t//合作程度\n\t\t\t\t\tqualified_status:this.qualified_status,\t\t\t//合格状态\n\t\t\t\t\tpagesize:20,\n\t\t\t\t\tpage:this.page\n\t\t\t\t}\n\t\t\t\tif(this.start_price != '' || this.end_price != ''){\n\t\t\t\t\targ['price_range'] = `${this.start_price}_${this.end_price}`\n\t\t\t\t}\n\t\t\t\tthis.loading = true;\n\t\t\t\tresource.reserveIndex(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\tthis.data = res.data.data;\n\t\t\t\t\t\tthis.button_list =  res.data.data.button_list;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//切换开发人员\n\t\t\tchangeUser(e){\n\t\t\t\tlet maintainer_arr = this.user_list.filter(item => {\n\t\t\t\t\treturn item.user_id == e\n\t\t\t\t})\n\t\t\t\tthis.info_arg.developer = maintainer_arr.length > 0?maintainer_arr[0].real_name:\"\";\n\t\t\t},\n    \t\t//下载模版\n\t\t\tdownTemplate(){\n\t\t\t\twindow.open(`${this.downLoadUrl}/template/预备库供应商导入模板.xlsx`);\n\t\t\t},\n    \t\t//导入\n\t\t\tuploadCsv(){\n\t\t\t\tif (this.$refs.csvUpload.files.length > 0) {\n\t\t\t\t\tlet files = this.$refs.csvUpload.files;\n\t\t\t\t\tresource.reserveImport({file:files[0]}).then(res => {\n\t\t\t\t\t\tthis.$refs.csvUpload.value = null;\n\t\t\t\t\t\tthis.import_dialog = false;\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\tthis.page = 1;\n\t\t\t\t\t\t\t//获取列表\n\t\t\t\t\t\t\tthis.supplierManagerList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//切换页码\n\t\t\tcheckPage(v){\n\t\t\t\tthis.page = v;\n\t\t\t\t//获取供应商列表\n\t\t\t\tthis.supplierManagerList();\n\t\t\t},\n\t\t\t//填报点击添加或编辑\n\t\t\taddFn(type,reserve_id){\n\t\t\t\tthis.add_type = type;\n\t\t\t\tif(type == '1'){\n\t\t\t\t\tthis.add_title = '添加';\n\t\t\t\t\tthis.edit_dialog = true;\n\t\t\t\t}else if(type == '2'){\n\t\t\t\t\tthis.add_title = '编辑';\n\t\t\t\t\tthis.reserve_id = reserve_id;\n\t\t\t\t\tresource.reserveEditGet({reserve_id:this.reserve_id}).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\t\tfor(let k in this.info_arg){\n\t\t\t\t\t\t\t\tthis.info_arg[k] = data[k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tthis.edit_dialog = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\t//填报弹窗关闭\n\t\t\tcloseEdit(){\n\t\t\t\tfor(let k in this.info_arg){\n\t\t\t\t\tthis.info_arg[k] = \"\";\n\t\t\t\t}\n\t\t\t\tthis.check_status = 1;\t\t\t\t\t//审核状态\n\t\t\t\tthis.remark = \"\";\t\t\t\t\t\t//拒绝原因\n\t\t\t\tthis.company_name = \"\"\t\t\t\t//公司名称\n\t\t\t\tthis.business_license_img = [];\t\t//工商营业执照\n\t\t\t\tthis.company_img = [];\t\t\t\t\t//公司照片\n\t\t\t},\n\t\t\t//点击填报编辑或添加的提交\n\t\t\tsubmitAddEdit(){\n\t\t\t\tif(this.info_arg.start_price != '' && !this.isPrice.test(parseFloat(this.info_arg.start_price))){\n\t\t\t\t\tthis.$message.warning('价格必须大于0且最多两位小数');\n\t\t\t\t\treturn;\n\t\t\t\t}else if(this.info_arg.end_price != '' && !this.isPrice.test(parseFloat(this.info_arg.end_price))){\n\t\t\t\t\tthis.$message.warning('价格必须大于0且最多两位小数');\n\t\t\t\t\treturn;\n\t\t\t\t}else if(parseFloat(this.info_arg.start_price) > parseFloat(this.info_arg.end_price)){\n\t\t\t\t\tthis.$message.warning('起始价格不能高于结束金额');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(this.add_type == '1'){\n\t\t\t\t\tlet arg = JSON.parse(JSON.stringify(this.info_arg));\n\t\t\t\t\targ['price_range'] = `${arg.start_price}_${arg.end_price}`;\n\t\t\t\t\tdelete arg.start_price;\n\t\t\t\t\tdelete arg.end_price;\n\t\t\t\t\tresource.reserveAdd(this.info_arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\tthis.edit_dialog = false;\n\t\t\t\t\t\t\t//获取供应商列表\n\t\t\t\t\t\t\tthis.supplierManagerList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}else if(this.add_type == '2'){\n\t\t\t\t\tlet arg = JSON.parse(JSON.stringify(this.info_arg));\n\t\t\t\t\targ['price_range'] = `${arg.start_price}_${arg.end_price}`;\n\t\t\t\t\tdelete arg.start_price;\n\t\t\t\t\tdelete arg.end_price;\n\t\t\t\t\t\n\t\t\t\t\targ['reserve_id'] = this.reserve_id;\n\t\t\t\t\tresource.reserveEditPost(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\tthis.edit_dialog = false;\n\t\t\t\t\t\t\t//获取供应商列表\n\t\t\t\t\t\t\tthis.supplierManagerList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//点击填报阶段审核/查看\n\t\t\tcheckInfo(type,reserve_id){\n\t\t\t\tthis.add_type = type;\n\t\t\t\tthis.add_title = this.add_type == '3'?'详情':'审核';\n\t\t\t\tthis.reserve_id = reserve_id;\n\t\t\t\tresource.reserveInfo({reserve_id:this.reserve_id}).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\tfor(let k in this.info_arg){\n\t\t\t\t\t\t\tthis.info_arg[k] = data[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet price_range = data.price_range.split('~');\n\t\t\t\t\t\tthis.info_arg.start_price = price_range[0];\n\t\t\t\t\t\tthis.info_arg.end_price = price_range[1];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.edit_dialog = true;\n\t\t\t},\n\t\t\t//提交填报审核\n\t\t\tsubmitCheck(){\n\t\t\t\tif(this.check_status == 0 && this.remark == ''){\n\t\t\t\t\tthis.$message.warning('请输入拒绝原因');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet arg = {\n\t\t\t\t\treserve_id:this.reserve_id,\n\t\t\t\t\tstatus:this.check_status,\n\t\t\t\t\tremark:this.remark\n\t\t\t\t}\n\t\t\t\tresource.checkInfo(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\tthis.edit_dialog = false;\n\t\t\t\t\t\t//获取供应商列表\n\t\t\t\t\t\tthis.supplierManagerList();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//点击转合格编辑或添加\n\t\t\tzhuanFn(type,reserve_id){\n\t\t\t\tthis.reserve_id = reserve_id;\n\t\t\t\tthis.zhuan_type = type;\n\t\t\t\tif(type == '1'){\t\t\t\t//填写\n\t\t\t\t\tthis.zhuan_dialog = true;\n\t\t\t\t}else{\t\t\t\t\t\t\t//编辑\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\treserve_id:this.reserve_id\n\t\t\t\t\t}\n\t\t\t\t\tresource.reserveQualifiedEditGet(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\t\tthis.company_name = data.company_name;\t\t\t\t//公司名称\n\t\t\t\t\t\t\t//工商营业执照\n\t\t\t\t\t\t\tthis.business_license_img = [];\n\t\t\t\t\t\t\tif(data.business_license){\n\t\t\t\t\t\t\t\tlet business_license_img = data.business_license.split(',');\n\t\t\t\t\t\t\t\tbusiness_license_img.map(item => {\n\t\t\t\t\t\t\t\t\tlet business_img = {\n\t\t\t\t\t\t\t\t\t\turls:item,\n\t\t\t\t\t\t\t\t\t\tshow_icon:false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.business_license_img.push(business_img);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//公司照片\n\t\t\t\t\t\t\tthis.company_img = [];\n\t\t\t\t\t\t\tif(data.company_img){\n\t\t\t\t\t\t\t\tlet company_img = data.company_img.split(',');\n\t\t\t\t\t\t\t\tcompany_img.map(item => {\n\t\t\t\t\t\t\t\t\tlet company_img = {\n\t\t\t\t\t\t\t\t\t\turls:item,\n\t\t\t\t\t\t\t\t\t\tshow_icon:false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.company_img.push(company_img);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.zhuan_dialog = true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//监听工商营业执照图片列表回调\n\t\t\tbusinessCallbackFn(img_arr) {\n\t\t\t\tthis.business_license_img = img_arr;\n\t\t\t},\n\t\t\t//监听公司图片列表回调\n\t\t\tcompanyCallbackFn(img_arr) {\n\t\t\t\tthis.company_img = img_arr;\n\t\t\t},\n\t\t\t//提交/编辑转合格\n\t\t\tcommitZhuan(){\n\t\t\t\tif(this.company_name == ''){\n\t\t\t\t\tthis.$message.warning('请输入公司名称');\n\t\t\t\t\treturn;\n\t\t\t\t}else if(this.business_license_img.length == 0){\n\t\t\t\t\tthis.$message.warning('请上传营业执照');\n\t\t\t\t\treturn;\n\t\t\t\t}else if(this.company_img.length == 0){\n\t\t\t\t\tthis.$message.warning('请上传公司图片');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.zhuan_type == '1'){\t\t\t//添加\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\treserve_id:this.reserve_id,\n\t\t\t\t\t\tcompany_name:this.company_name,\n\t\t\t\t\t\tcompany_img:this.company_img.join(','),\n\t\t\t\t\t\tbusiness_license:this.business_license_img.join(',')\n\t\t\t\t\t}\n\t\t\t\t\tresource.qualified(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\tthis.zhuan_dialog = false;\n\t\t\t\t\t\t\t//获取供应商列表\n\t\t\t\t\t\t\tthis.supplierManagerList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}else{\t\t\t\t\t\t//编辑\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\treserve_id:this.reserve_id,\n\t\t\t\t\t\tcompany_name:this.company_name\n\t\t\t\t\t}\n\t\t\t\t\tlet company_img = [];\n\t\t\t\t\tthis.company_img.map(item => {\n\t\t\t\t\t\tcompany_img.push(item.urls?item.urls:item);\n\t\t\t\t\t})\n\t\t\t\t\targ['company_img'] = company_img.join(',');\n\n\t\t\t\t\tlet business_license = [];\n\t\t\t\t\tthis.business_license_img.map(item => {\n\t\t\t\t\t\tbusiness_license.push(item.urls?item.urls:item);\n\t\t\t\t\t})\n\t\t\t\t\targ['business_license'] = business_license.join(',');\n\t\t\t\t\tresource.reserveQualifiedEditPost(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\tthis.zhuan_dialog = false;\n\t\t\t\t\t\t\t//获取供应商列表\n\t\t\t\t\t\t\tthis.supplierManagerList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//关闭转合格弹窗\n\t\t\tcloseZhuan(){\n\t\t\t\tthis.company_name = \"\";\n\t\t\t\tthis.company_img = [];\n\t\t\t\tthis.business_license_img = [];\n\t\t\t},\n\t\t\t//点击删除\n\t\t\tdeleteFn(reserve_id){\n\t\t\t\tthis.$confirm('确认删除该供应商?', '提示', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\treserve_id:reserve_id\n\t\t\t\t\t}\n\t\t\t\t\tresource.reserveDel(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t//获取供应商列表\n\t\t\t\t\t\t\tthis.supplierManagerList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t});          \n\t\t\t\t});\n\t\t\t},\n\t\t\t//点击合格待审核\n\t\t\thgAuditFn(reserve_id){\n\t\t\t\tthis.add_type = '5';\n\t\t\t\tthis.add_title = '转合格审核';\n\t\t\t\tthis.reserve_id = reserve_id;\n\t\t\t\tresource.reserveInfo({reserve_id:this.reserve_id}).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\tfor(let k in this.info_arg){\n\t\t\t\t\t\t\tthis.info_arg[k] = data[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet price_range = data.price_range.split('~');\n\t\t\t\t\t\tthis.info_arg.start_price = price_range[0];\n\t\t\t\t\t\tthis.info_arg.end_price = price_range[1];\n\t\t\t\t\t\tthis.company_name = data.company_name;\t\t\t\t//公司名称\n\n\t\t\t\t\t\t//工商营业执照\n\t\t\t\t\t\tthis.business_license_img = [];\n\t\t\t\t\t\tlet business_license_img = data.business_license.split(',');\n\t\t\t\t\t\tbusiness_license_img.map(item => {\n\t\t\t\t\t\t\tthis.business_license_img.push(this.domain + item);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t//公司照片\n\t\t\t\t\t\tthis.company_img = [];\n\t\t\t\t\t\tlet company_img = data.company_img.split(',');\n\t\t\t\t\t\tcompany_img.map(item => {\n\t\t\t\t\t\t\tthis.company_img.push(this.domain + item);\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.edit_dialog = true;\n\t\t\t},\n\t\t\t//转合格审核提交\n\t\t\tzhgAudit(){\n\t\t\t\tif(this.audit_status == 0 && this.audit_remark == ''){\n\t\t\t\t\tthis.$message.warning('请输入拒绝原因');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet arg = {\n\t\t\t\t\treserve_id:this.reserve_id,\n\t\t\t\t\tstatus:this.audit_status,\n\t\t\t\t\tremark:this.audit_remark\n\t\t\t\t}\n\t\t\t\tresource.checkQualified(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\tthis.edit_dialog = false;\n\t\t\t\t\t\t//获取供应商列表\n\t\t\t\t\t\tthis.supplierManagerList();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tfilters:{\n\t\t\tstatus:function(v){\n\t\t\t\tswitch(v){\n\t\t\t\tcase 0:\n\t\t\t\t\treturn '填报后待审核';\n\t\t\t\tcase 1:\n\t\t\t\t\treturn '填报后审核通过(待转合格) '\n\t\t\t\tcase 2:\n\t\t\t\t\treturn '填报后审核拒绝'\n\t\t\t\tcase 3:\n\t\t\t\t\treturn '转合格待审核'\n\t\t\t\tcase 4:\n\t\t\t\t\treturn '转合格同意'\n\t\t\t\tcase 5:\n\t\t\t\t\treturn '转合格拒绝'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tTableTitle,\n\t\t\tPaginationWidget,\n\t\t\tUploadFile\n\t\t}\n\t}\n</script>\n\n\n\n\n\n\n"]}]}