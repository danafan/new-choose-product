{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/components/quill_editor.vue?vue&type=style&index=0&id=da400712&lang=css&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/components/quill_editor.vue","mtime":1665653525292},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\n.ql-container {\n    height: 260px;\n}\n\n",{"version":3,"sources":["quill_editor.vue"],"names":[],"mappings":";AAQA;AACA;AACA","file":"quill_editor.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div>\n\t\t<quill-editor v-model=\"editor_val\" :options=\"editorOption\" ref=\"quill_editor\">\n\t\t</quill-editor>\n\t\t<input type=\"file\" ref=\"imgUpload\" class=\"upload_files\" @change=\"uploadFn\">\n\t</div>\n</template>\n<style type=\"text/css\">\n.ql-container {\n    height: 260px;\n}\n\n</style>\n<style lang=\"less\" scoped>\n.upload_files {\n\tdisplay: none;\n}\n</style>\n<script>\n// 工具栏配置\nconst toolbarOptions = [\n['bold', 'italic', 'underline', 'strike'],        \n['blockquote', 'code-block'],\n[{'header': 1}, {'header': 2}],               \n[{'list': 'ordered'}, {'list': 'bullet'}],\n[{'script': 'sub'}, {'script': 'super'}],      \n[{'indent': '-1'}, {'indent': '+1'}],         \n[{'direction': 'rtl'}],                        \n[{'size': ['small', false, 'large', 'huge']}],  \n[{'header': [1, 2, 3, 4, 5, 6, false]}],\n[{'color': []}, {'background': []}],          \n[{'font': []}],\n[{'align': []}],\n['link', 'image'],\n['clean']                                         \n]\nexport default{\n\tdata(){\n\t\treturn {\n\t\t\teditorOption: {\n\t\t\t\tplaceholder: \"请输入店家要求\",\n\t\t\t\tmodules: {\n\t\t\t\t\ttoolbar: {\n                    \tcontainer: toolbarOptions,  // 工具栏\n                    \thandlers: {\n                    \t\t'image': function (value) {\n                    \t\t\tif (value) {\n                                \t// 调用iview图片上传\n                                \tdocument.querySelector('.upload_files').click()\n                                } else {\n                                \tthis.quill.format('image', false);\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            editor_val:\"\",\t\t\t//富文本编辑器内容\n        }\n    },\n    watch:{\n    \teditor_val:function(n,o){\n    \t\tthis.$emit('callback',n);\n    \t}\n    },\n    methods:{\n\t\t// 富文本上传图片\n\t\tuploadFn(){\n\t\t\tif (this.$refs.imgUpload.files.length > 0) {\n\t\t\t\tvar files = this.$refs.imgUpload.files;\n\t\t\t\tconsole.log(files)\n\t\t\t\t// let obj = files[0];\n\t\t\t\t// resource.uploadFile({image:obj,type:1}).then(res => {\n\t\t\t\t// \tif(res.data.code == \"1\"){\n\t\t\t\t// \t\t// 获取富文本组件实例\n\t\t\t\t// \t\tvar quill = this.$refs.quill_editor.quill;\n    //         \t\t\t// 获取光标所在位置\n    //         \t\t\tlet length = quill.getSelection().index;\n    //         \t\t\t// 插入图片，res为服务器返回的图片链接地址\n    //         \t\t\tlet url = res.data.data.domain + res.data.data.urls[0];\n    //         \t\t\tquill.insertEmbed(length, 'image', url);\n    //         \t\t\t// 调整光标到最后\n    //         \t\t\tquill.setSelection(length + 1);\n    //         \t\t}else{\n    //         \t\t\tthis.$message.error(res.data.msg);\n    //         \t\t};\n    //         \t});\n}\n}\n}\n}\n</script>"]}]}