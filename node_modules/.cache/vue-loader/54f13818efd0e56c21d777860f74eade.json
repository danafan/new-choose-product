{"remainingRequest":"/Users/fanyulong/project/2022/new-choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/new-choose-product/src/pages/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/new-choose-product/src/pages/login.vue","mtime":1686963897224},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/new-choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\n  import resource from '../api/resource.js'\n  export default{\n    created(){\n      this.getAppKey();\n    },\n    methods: {\n      getAppKey() {\n        resource.getAppKey().then((res) => {\n         if (res.data.code == \"1\") {\n          let appKey = res.data.data.appkey;\n          this.ddLoginInit(appKey);\n        } else {\n          this.$message.warning(res.data.msg);\n        }\n      });\n      },\n      ddLoginInit(appKey) {\n        let url = `${location.origin}/api/scancodes/ewmlogin`;\n        const goto = encodeURIComponent(\n         `https://oapi.dingtalk.com/connect/oauth2/sns_authorize?appid=${appKey}&response_type=code&scope=snsapi_login&state=STATE&redirect_uri=${url}`\n         );\n        window.DDLogin({\n         id: \"container\",\n         goto: goto,\n         style: \"border:none;background-color:#FFFFFF;margin:0 auto;\",\n            width: \"100%\", //官方参数 365\n            height: \"300\", //官方参数 400\n          });\n        let handleMessage = (event) => {\n         let origin = event.origin;\n         if (origin == \"https://login.dingtalk.com\") {\n          const loginTmpCode = event.data;\n          window.location.href = `https://oapi.dingtalk.com/connect/oauth2/sns_authorize?appid=${appKey}&response_type=code&scope=snsapi_login&state=STATE&redirect_uri=${url}&loginTmpCode=${loginTmpCode}`;\n        }\n      };\n      if (typeof window.addEventListener != \"undefined\") {\n       window.addEventListener(\"message\", handleMessage, false);\n     } else if (typeof window.attachEvent != \"undefined\") {\n       window.attachEvent(\"onmessage\", handleMessage);\n     }\n   }\n\n }\n\n\n \n}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA","file":"login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"login_container\">\n    <img class=\"login_page_back\" src=\"../static/login_page_back.png\">\n    <div class=\"login_content\">\n      <div class=\"content_left\">\n        <img class=\"login_big_back\" src=\"../static/login_big_back.png\">\n        <img class=\"login_small_back\" src=\"../static/login_small_back.png\">\n      </div>\n      <div class=\"content_right\">\n        <div class=\"content\">\n          <div class=\"text\">钉钉扫码一键登录</div>\n          <div id=\"container\"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"less\" scoped>\n  .login_container{\n   position: absolute;\n   top: 0;\n   left: 0;\n   width: 100%;\n   height: 100%;\n   display: flex;\n   align-items: center;\n   justify-content: center;\n   .login_page_back{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n  .login_content{\n    width: 1510rem;\n    height: 780rem;\n    background: #FFFFFF;\n    border-radius: 8rem;\n    z-index: 9;\n    display: flex;\n    .content_left{\n     position: relative;\n     height: 780rem;\n     flex:1;\n     display: flex;\n     align-items: center;\n     padding-left: 48rem;\n     .login_big_back{\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 10;\n    }\n    .login_small_back{\n      width: 713rem;\n      height: 632rem;\n      z-index: 11;\n    }\n  }\n  .content_right{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 780rem;\n    padding-right: 70rem;\n    .content{\n      background: #FFFFFF;\n      border-radius: 8rem;\n      border: 1px solid #EBEBEB;\n      width: 478rem;\n      height: 532rem;\n      padding-top:30rem;\n      .gys_box{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        .login_input{\n          box-sizing: border-box;\n          margin-top: 32rem;\n          outline: none;\n          border:none;\n          width: 380rem;\n          height: 52rem;\n          background: #FFF8EE;\n          border-radius: 6rem;\n          padding: 0 22rem;\n          font-size: 16rem;\n        }\n        .login{\n          margin-top: 60px;\n          width: 380rem;\n          text-align: center;\n          height: 42rem;\n          line-height: 42rem;\n          background: #F37605;\n          border-radius: 4rem;\n          font-size: 14px;\n          color: #ffffff;\n          cursor: pointer;\n        }\n      }\n      .tab_row{\n        margin-bottom: 36rem;\n        display: flex;\n        align-items: center;\n        justify-content:space-around;\n        .tab_item{\n          cursor: pointer;\n          height: 40rem;\n          display: flex;\n          align-items: center;\n          justify-content:center;\n          position: relative;\n          .tab_text{\n            font-size: 18px;\n            font-weight: bold;\n            color: #666666;\n          }\n          .active_tab_text{\n            color: #333333;\n          }\n          .active_line{\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            height: 4rem;\n            background: var(--color);\n          }\n        }\n      }\n      .text{\n       color: var(--color);\n       font-size: 24rem;\n       font-weight: 500;\n       width: 100%;\n       text-align: center;\n     }\n   }\n }\n}\n}\n</style>\n<script>\n  import resource from '../api/resource.js'\n  export default{\n    created(){\n      this.getAppKey();\n    },\n    methods: {\n      getAppKey() {\n        resource.getAppKey().then((res) => {\n         if (res.data.code == \"1\") {\n          let appKey = res.data.data.appkey;\n          this.ddLoginInit(appKey);\n        } else {\n          this.$message.warning(res.data.msg);\n        }\n      });\n      },\n      ddLoginInit(appKey) {\n        let url = `${location.origin}/api/scancodes/ewmlogin`;\n        const goto = encodeURIComponent(\n         `https://oapi.dingtalk.com/connect/oauth2/sns_authorize?appid=${appKey}&response_type=code&scope=snsapi_login&state=STATE&redirect_uri=${url}`\n         );\n        window.DDLogin({\n         id: \"container\",\n         goto: goto,\n         style: \"border:none;background-color:#FFFFFF;margin:0 auto;\",\n            width: \"100%\", //官方参数 365\n            height: \"300\", //官方参数 400\n          });\n        let handleMessage = (event) => {\n         let origin = event.origin;\n         if (origin == \"https://login.dingtalk.com\") {\n          const loginTmpCode = event.data;\n          window.location.href = `https://oapi.dingtalk.com/connect/oauth2/sns_authorize?appid=${appKey}&response_type=code&scope=snsapi_login&state=STATE&redirect_uri=${url}&loginTmpCode=${loginTmpCode}`;\n        }\n      };\n      if (typeof window.addEventListener != \"undefined\") {\n       window.addEventListener(\"message\", handleMessage, false);\n     } else if (typeof window.attachEvent != \"undefined\") {\n       window.attachEvent(\"onmessage\", handleMessage);\n     }\n   }\n\n }\n\n\n \n}\n</script>\n"]}]}