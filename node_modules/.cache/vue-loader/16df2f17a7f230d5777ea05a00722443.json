{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/pages/Selected/selected.vue?vue&type=style&index=1&id=a59eca24&prod&lang=less&scoped=true&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/pages/Selected/selected.vue","mtime":1686720033065},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\n.padding_page_content{\n\twidth: 1440rem;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\t.card_box{\n\t\tflex:1;\n\t\t.tab_row{\n\t\t\tborder:1px solid var(--color);\n\t\t\tborder-radius: 4rem;\n\t\t\tbackground: #FFFCFA;\n\t\t\theight: 64rem;\n\t\t\tdisplay: flex;\n\t\t\tpadding-left: 30rem;\n\t\t\tmargin-bottom: 15rem;\n\t\t\t.tab_item{\n\t\t\t\tcursor:pointer;\n\t\t\t\tmargin-right: 80rem;\n\t\t\t\tposition: relative;\n\t\t\t\theight: 64rem;\n\t\t\t\tline-height: 64rem;\n\t\t\t\tcolor: #333333;\n\t\t\t\tfont-size: 14rem;\n\t\t\t\tfont-weight: bold;\n\t\t\t\t.active_line{\n\t\t\t\t\tbackground: var(--color);\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: 2rem;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 2rem;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.active_item{\n\t\t\t\tcolor: var(--color);\n\t\t\t}\n\t\t}\n\t\t.image{\n\t\t\twidth: 100px;\n\t\t\theight: 100px;\n\t\t}\n\t\t.item_row{\n\t\t\tdisplay: flex;\n\t\t\t.item_label{\n\t\t\t\twidth: 48px;\n\t\t\t\ttext-align:end;\n\t\t\t}\n\t\t}\n\t}\n}\n.dialog_content{\n\tmax-height: 450px;\n\toverflow-y: scroll;\n\t.detail_row{\n\t\tborder-bottom:1px solid #F0F0F0;\n\t\tdisplay: flex;\n\t\tfont-size:14rem;\n\t\tcolor: #333333;\n\t\t.lable{\n\t\t\tborder-right:1px solid #F0F0F0;\n\t\t\twidth: 120rem;\n\t\t\tpadding:12rem 20rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\t\t.value{\n\t\t\tflex:1;\n\t\t\tpadding: 12rem 20rem;\n\t\t}\n\t}\n}\n",{"version":3,"sources":["selected.vue"],"names":[],"mappings":";AAsmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"selected.vue","sourceRoot":"src/pages/Selected","sourcesContent":["<template>\n\t<div class=\"padding_page\">\n\t\t<div class=\"padding_page_content\">\n\t\t\t<SearchWidget page_path=\"selected_history\" @callback=\"searchFn\" placeholder=\"款号 款式编码\"/>\n\t\t\t<el-card class=\"card_box\" id=\"card_box\">\n\t\t\t\t<div class=\"tab_row\" id=\"tab_row\">\n\t\t\t\t\t<div class=\"tab_item\" :class=\"{'active_item':active_index == index}\" v-for=\"(item,index) in tab_list\" @click=\"active_index = index\">\n\t\t\t\t\t\t<div>{{item.name}}</div>\n\t\t\t\t\t\t<div class=\"active_line\" v-if=\"active_index == index\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form_row\">\n\t\t\t\t\t<el-form :inline=\"true\" size=\"mini\">\n\t\t\t\t\t\t<el-form-item label=\"店铺：\">\n\t\t\t\t\t\t\t<el-select v-model=\"shop_code\" filterable clearable placeholder=\"全部\">\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in store_list\" :key=\"item.shop_code\" :label=\"item.shop_name\" :value=\"item.shop_code\">\n\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"需求人：\">\n\t\t\t\t\t\t\t<el-select v-model=\"search_user\" filterable clearable placeholder=\"全部\">\n\t\t\t\t\t\t\t\t<el-option v-for=\"item in user_list\" :key=\"item.search_user\" :label=\"item.search_user\" :value=\"item.search_user\">\n\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t<el-form-item label=\"时间：\">\n\t\t\t\t\t\t\t<el-date-picker\n\t\t\t\t\t\t\tv-model=\"date_time\"\n\t\t\t\t\t\t\ttype=\"datetimerange\"\n\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH\"\n\t\t\t\t\t\t\tformat=\"yyyy-MM-dd HH\"\n\t\t\t\t\t\t\trange-separator=\"至\"\n\t\t\t\t\t\t\tstart-placeholder=\"开始时间\"\n\t\t\t\t\t\t\tend-placeholder=\"结束时间\">\n\t\t\t\t\t\t</el-date-picker>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item class=\"form_item\">\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"checkPage(1)\">查询</el-button>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item class=\"form_item\">\n\t\t\t\t\t\t<el-checkbox :true-label=\"1\" :false-label=\"0\" v-model=\"only_self\" @change=\"checkPage(1)\">只看自己</el-checkbox>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</div>\n\t\t\t<TableTitle id=\"table_title\">\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"exportFn\">导出</el-button>\n\t\t\t</TableTitle>\n\t\t\t<el-table size=\"mini\" :data=\"data\" tooltip-effect=\"dark\" style=\"width: 100%\" :header-cell-style=\"{'background':'#f4f4f4','text-align': 'center'}\" :cell-style=\"{'text-align':'center'}\" :max-height=\"max_height\" v-loading=\"loading\">\n\t\t\t\t<el-table-column label=\"图片\" width=\"150\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<div v-if=\"scope.row.images.length == 0\">暂无</div>\n\t\t\t\t\t\t<el-carousel trigger=\"hover\" indicator-position=\"none\" :autoplay=\"false\" height=\"100px\" v-else>\n\t\t\t\t\t\t\t<el-carousel-item v-for=\"(item,index) in scope.row.images\" :key=\"index\">\n\t\t\t\t\t\t\t\t<el-image :z-index=\"2006\" class=\"image\" :src=\"item\" fit=\"scale-down\" :preview-src-list=\"scope.row.images\"></el-image>\n\t\t\t\t\t\t\t</el-carousel-item>\n\t\t\t\t\t\t</el-carousel>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"款号\" prop=\"style_name\"></el-table-column>\n\t\t\t\t<el-table-column label=\"款式编码\" width=\"140\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<div class=\"item_row\" v-if=\"scope.row.new_supplier_ksbm\">\n\t\t\t\t\t\t\t<div class=\"item_label\">供应商：</div>\n\t\t\t\t\t\t\t<div class=\"item_value\">\n\t\t\t\t\t\t\t\t<div v-for=\"item in scope.row.new_supplier_ksbm\">{{item}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"item_row\" v-if=\"scope.row.new_i_id\">\n\t\t\t\t\t\t\t<div class=\"item_label\">普通：</div>\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<div v-for=\"item in scope.row.new_i_id\">{{item}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"item_row\" v-if=\"scope.row.new_bd_i_id\">\n\t\t\t\t\t\t\t<div class=\"item_label\">BD：</div>\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<div v-for=\"item in scope.row.new_bd_i_id\">{{item}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"成本价\" prop=\"cost_price\"></el-table-column>\n\t\t\t\t<el-table-column label=\"售卖价\" prop=\"selling_price\"></el-table-column>\n\t\t\t\t<el-table-column label=\"需求部门\" prop=\"select_main_dept_name\"></el-table-column>\n\t\t\t\t<el-table-column label=\"需求店铺\" prop=\"shop_name\"></el-table-column>\n\t\t\t\t<el-table-column label=\"需求日期\" prop=\"demand_date\"></el-table-column>\n\t\t\t\t<el-table-column label=\"需求人\" prop=\"ding_user_name\"></el-table-column>\n\t\t\t\t<el-table-column label=\"需求类型\" prop=\"demand_type\">\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"对接推单\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<div v-if=\"scope.row.abutment_type == 1\">是</div>\n\t\t\t\t\t\t<div v-if=\"scope.row.abutment_type == 0\">否</div>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"当前状态\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<div v-if=\"scope.row.audit_status == 1\">待审核</div>\n\t\t\t\t\t\t<div v-if=\"scope.row.audit_status == 2\">已确认</div>\n\t\t\t\t\t\t<div v-if=\"scope.row.audit_status == 4\">已拒绝</div>\n\t\t\t\t\t\t<div v-if=\"scope.row.audit_status == 0\">已撤销</div>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t\t<el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" @click=\"undoSelected(scope.row.select_id)\" v-if=\"scope.row.audit_status == 1\">撤销</el-button>\n\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" @click=\"selectedInfo(scope.row.select_id)\">详情</el-button>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t\t<PaginationWidget id=\"bottom_row\" :total=\"total\" :page=\"page\" @checkPage=\"checkPage\"/>\n\t\t</el-card>\n\t\t<CarWidget/>\n\t</div>\n\t<!-- 详情弹窗 -->\n\t<el-dialog :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\" destroy-on-close :visible.sync=\"detail_dialog\">\n\t\t<div slot=\"title\" class=\"dialog_title\">\n\t\t\t<div>商品详情</div>\n\t\t\t<img class=\"close_icon\" src=\"../../static/close_icon.png\" @click=\"detail_dialog = false\">\n\t\t</div>\n\t\t<div class=\"dialog_content\">\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">标题</div>\n\t\t\t\t<div class=\"value\">{{goods_info.title}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">款号</div>\n\t\t\t\t<div class=\"value\">{{goods_info.style_name}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">款式编码</div>\n\t\t\t\t<div class=\"value\">\n\t\t\t\t\t<div>供应商：{{goods_info.supplier_ksbm}}</div>\n\t\t\t\t\t<div>普通：{{goods_info.i_id}}</div>\n\t\t\t\t\t<div>BD：{{goods_info.bd_i_id}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">供应商</div>\n\t\t\t\t<div class=\"value\">{{goods_info.supplier_name}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">市场</div>\n\t\t\t\t<div class=\"value\">{{goods_info.market_name}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">提供拍照</div>\n\t\t\t\t<div class=\"value\">{{goods_info.supply_photograph == 1?'是':'否'}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">提供退货</div>\n\t\t\t\t<div class=\"value\">{{goods_info.supply_return_goods == 1?'是':'否'}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">提供换货</div>\n\t\t\t\t<div class=\"value\">{{goods_info.supply_exchange_goods == 1?'是':'否'}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">提供代发</div>\n\t\t\t\t<div class=\"value\">{{goods_info.supply_replace_send == 1?'是':'否'}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">结算方式</div>\n\t\t\t\t<div class=\"value\">{{goods_info.supply_monthly_settlement == 1?'月结':'现结'}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">类目</div>\n\t\t\t\t<div class=\"value\">{{goods_info.category_name}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">分类</div>\n\t\t\t\t<div class=\"value\">{{goods_info.classification_name}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">拍摄风格</div>\n\t\t\t\t<div class=\"value\">{{goods_info.shooting_style_name}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">合作模式</div>\n\t\t\t\t<div class=\"value\">{{goods_info.mode}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">备注</div>\n\t\t\t\t<div class=\"value\">{{goods_info.remark}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">面料</div>\n\t\t\t\t<div class=\"value\">{{goods_info.fabric}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">尺码</div>\n\t\t\t\t<div class=\"value\">{{goods_info.size}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">成本价</div>\n\t\t\t\t<div class=\"value\">{{goods_info.cost_price}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">百度网盘</div>\n\t\t\t\t<div class=\"value\">{{goods_info.net_disk_address}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">店铺</div>\n\t\t\t\t<div class=\"value\">{{goods_info.shop_name}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">需求类型</div>\n\t\t\t\t<div class=\"value\">{{goods_info.demand_type}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">发货类型</div>\n\t\t\t\t<div class=\"value\">{{goods_info.send_type}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">需求日期</div>\n\t\t\t\t<div class=\"value\">{{goods_info.demand_date}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">售卖价格</div>\n\t\t\t\t<div class=\"value\">{{goods_info.selling_price}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">当前状态</div>\n\t\t\t\t<div class=\"value\" v-if=\"goods_info.audit_status == 0\">已撤销</div>\n\t\t\t\t<div class=\"value\" v-if=\"goods_info.audit_status == 1\">待审核</div>\n\t\t\t\t<div class=\"value\" v-if=\"goods_info.audit_status == 2\">已确认</div>\n\t\t\t\t<div class=\"value\" v-if=\"goods_info.audit_status == 4\">已拒绝</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\" v-if=\"goods_info.audit_status == 4\">\n\t\t\t\t<div class=\"lable\">拒绝原因</div>\n\t\t\t\t<div class=\"value\">{{goods_info.refund_reason}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"detail_row\">\n\t\t\t\t<div class=\"lable\">选款要求</div>\n\t\t\t\t<div class=\"value\" v-html=\"goods_info.demand_remark\"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div slot=\"footer\" class=\"dialog_footer\">\n\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"detail_dialog = false\">关闭</el-button>\n\t\t</div>\n\t</el-dialog>\n</div>\n</template>\n<script>\n\timport { MessageBox, Message } from \"element-ui\";\n\timport { exportPost } from \"../../api/export.js\";\n\timport resource from '../../api/resource.js'\n\timport commonResource from '../../api/common_resource.js'\n\n\timport SearchWidget from '../../components/search_widget.vue'\n\timport TableTitle from '../SupplyChain/components/table_title.vue'\n\timport PaginationWidget from '../../components/pagination_widget.vue'\n\timport CarWidget from '../../components/car_widget.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tloading:false,\t\n\t\t\t\tstore_list:[],\t\t\t//店铺列表\n\t\t\t\tshop_code:\"\",\t\t\t//选中的店铺\n\t\t\t\tuser_list:[],\t\t\t//需求人列表\n\t\t\t\tsearch_user:\"\",\t\t\t//需求人\n\t\t\t\tdate_time:[],\n\t\t\t\ttab_list:[{\n\t\t\t\t\tname:'全部',\n\t\t\t\t\tid:''\n\t\t\t\t},{\n\t\t\t\t\tname:'待确认',\n\t\t\t\t\tid:'1'\n\t\t\t\t},{\n\t\t\t\t\tname:'已确认',\n\t\t\t\t\tid:'2'\n\t\t\t\t},{\n\t\t\t\t\tname:'已拒绝',\n\t\t\t\t\tid:'4'\n\t\t\t\t},{\n\t\t\t\t\tname:'已撤销',\n\t\t\t\t\tid:'0'\n\t\t\t\t}],\t\t\t\t\t\t\t//tab列表\n\t\t\t\tactive_index:0,\t\t\t\t//当前选中的tab下标\n\t\t\t\tsearch:\"\",\t\t\t\t\t//搜索框的内容\n\t\t\t\tonly_self:0,\n\t\t\t\tpage:1,\n\t\t\t\tdata:[],\n\t\t\t\ttotal:0,\n\t\t\t\tmax_height:0,\t\n\t\t\t\tdetail_dialog:false,\t\t//详情弹窗\n\t\t\t\tgoods_info:{},\t\t\t\t//详情数据\n\t\t\t}\n\t\t},\n\t\tdestroyed() {\n\t\t\twindow.removeEventListener(\"resize\", () => {});\n\t\t},\n\t\twatch:{\n\t\t\tactive_index:function(n,o){\n\t\t\t\tthis.page = 1;\n\t\t\t\t//获取列表\n\t\t\t\tthis.getSelected();\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\t//获取所有店铺列表\n\t\t\tthis.ajaxViewShop();\n\t\t\t//获取所有需求人\n\t\t\tthis.getUserName();\n\t\t\t//获取列表\n\t\t\tthis.getSelected();\n\t\t},\n\t\tmounted() {\n    \t\t//获取表格最大高度\n\t\t\tthis.onResize();\n\t\t\twindow.addEventListener(\"resize\", this.onResize());\n\t\t},\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tfocus(){\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tdocument\n\t\t\t\t\t.getElementsByClassName('el-button--text')[0]\n\t\t\t\t\t.setAttribute('style', 'display:none')\n\t\t\t\t})\n\t\t\t},\n    \t\t//监听屏幕大小变化\n\t\t\tonResize() {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tlet card_box_height = document.getElementById(\"card_box\").offsetHeight;\n\t\t\t\t\tlet all_title_height = document.getElementById(\"tab_row\").offsetHeight;\n\t\t\t\t\tlet table_title_height = document.getElementById('table_title').offsetHeight;\n\t\t\t\t\tlet bottom_row_height = document.getElementById(\"bottom_row\").offsetHeight;\n\t\t\t\t\tthis.max_height =\n\t\t\t\t\tcard_box_height -\n\t\t\t\t\tall_title_height -\n\t\t\t\t\ttable_title_height - \n\t\t\t\t\tbottom_row_height -\n\t\t\t\t\t110 +\n\t\t\t\t\t\"px\";\n\t\t\t\t});\n\t\t\t},\n    \t\t//获取所有店铺列表\n\t\t\tajaxViewShop(){\n\t\t\t\tcommonResource.ajaxViewShop().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.store_list = res.data.data;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n    \t\t//获取所有需求人\n\t\t\tgetUserName(){\n\t\t\t\tresource.getUserName().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.user_list = res.data.data;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//搜索\n\t\t\tsearchFn(value){\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.search = value;\n\t\t\t\t//获取列表\n\t\t\t\tthis.getSelected();\n\t\t\t},\n\t\t\t//导出\n\t\t\texportFn() {\n\t\t\t\tMessageBox.confirm(\"确认导出?\", \"提示\", {\n\t\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\t\tcancelButtonText: \"取消\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tstatus:this.tab_list[this.active_index].id,\n\t\t\t\t\t\tsearch:this.search,\n\t\t\t\t\t\tshop_code:this.shop_code,\n\t\t\t\t\t\tsearch_user:this.search_user,\n\t\t\t\t\t\tonly_self:this.only_self,\n\t\t\t\t\t\tstart_time:this.date_time && this.date_time.length> 0?this.date_time[0]:\"\",\n\t\t\t\t\t\tend_time:this.date_time && this.date_time.length> 0?this.date_time[1]:\"\",\n\t\t\t\t\t};\n\t\t\t\t\tresource.selectedExport(arg).then((res) => {\n\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\texportPost(\"\\ufeff\" + res.data, \"已选商品\");\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tMessage({\n\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\tmessage: \"取消导出\",\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t//获取列表\n\t\t\tgetSelected(){\n\t\t\t\tlet arg = {\n\t\t\t\t\tstatus:this.tab_list[this.active_index].id,\n\t\t\t\t\tsearch:this.search,\n\t\t\t\t\tshop_code:this.shop_code,\n\t\t\t\t\tsearch_user:this.search_user,\n\t\t\t\t\tonly_self:this.only_self,\n\t\t\t\t\tstart_time:this.date_time && this.date_time.length> 0?this.date_time[0]:\"\",\n\t\t\t\t\tend_time:this.date_time && this.date_time.length> 0?this.date_time[1]:\"\",\n\t\t\t\t\tpage:this.page\n\t\t\t\t}\n\t\t\t\tthis.loading = true;\n\t\t\t\tresource.getSelected(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\tlet data_list = data.data;\n\t\t\t\t\t\tdata_list.map(item => {\n\t\t\t\t\t\t\tlet images = [];\n\t\t\t\t\t\t\titem.img.map(i => {\n\t\t\t\t\t\t\t\timages.push(this.domain + i);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\titem.images = images;\n\n\t\t\t\t\t\t\tif(item.i_id){\n\t\t\t\t\t\t\t\titem.new_i_id = item.i_id.split(',')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(item.bd_i_id){\n\t\t\t\t\t\t\t\titem.new_bd_i_id = item.bd_i_id.split(',')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(item.supplier_ksbm){\n\t\t\t\t\t\t\t\titem.new_supplier_ksbm = item.supplier_ksbm.split(',')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.data = data_list;\n\t\t\t\t\t\tthis.total = data.total;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//翻页\n\t\t\tcheckPage(val) {\n\t\t\t\tthis.page = val;\n\t\t\t\t//获取列表\n\t\t\t\tthis.getSelected();\n\t\t\t},\n\t\t\t//获取详情\n\t\t\tselectedInfo(select_id){\n\t\t\t\tlet arg = {\n\t\t\t\t\tselect_id:select_id,\n\t\t\t\t\tselect_type:1\n\t\t\t\t}\n\t\t\t\tresource.selectedInfo(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.goods_info = res.data.data;\n\t\t\t\t\t\tthis.detail_dialog = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//点击撤销\n\t\t\tundoSelected(select_id){\n\t\t\t\tthis.$confirm('确认撤销?', '提示', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\t//商品ID\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tselect_id:select_id\n\t\t\t\t\t}\n\t\t\t\t\tresource.undoSelected(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t//获取列表\n\t\t\t\t\t\t\tthis.getSelected();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t});          \n\t\t\t\t});\n\t\t\t},\n\t\t\t//点击取消\n\t\t\tcancelSelected(select_id){\n\t\t\t\tthis.$confirm('确认取消?', '提示', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\t//商品ID\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tselect_id:select_id\n\t\t\t\t\t}\n\t\t\t\t\tresource.cancelSelected(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t//获取列表\n\t\t\t\t\t\t\tthis.getSelected();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t});          \n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tSearchWidget,\n\t\t\tPaginationWidget,\n\t\t\tCarWidget,\n\t\t\tTableTitle\n\t\t}\n\t}\n</script>\n<style type=\"text/css\">\n\t.el-dialog__body{\n\t\tpadding: 0!important;\n\t}\n</style>\n<style lang=\"less\" scoped>\n\t.padding_page_content{\n\t\twidth: 1440rem;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tposition: relative;\n\t\t.card_box{\n\t\t\tflex:1;\n\t\t\t.tab_row{\n\t\t\t\tborder:1px solid var(--color);\n\t\t\t\tborder-radius: 4rem;\n\t\t\t\tbackground: #FFFCFA;\n\t\t\t\theight: 64rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\tpadding-left: 30rem;\n\t\t\t\tmargin-bottom: 15rem;\n\t\t\t\t.tab_item{\n\t\t\t\t\tcursor:pointer;\n\t\t\t\t\tmargin-right: 80rem;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\theight: 64rem;\n\t\t\t\t\tline-height: 64rem;\n\t\t\t\t\tcolor: #333333;\n\t\t\t\t\tfont-size: 14rem;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t.active_line{\n\t\t\t\t\t\tbackground: var(--color);\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbottom: 2rem;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 2rem;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.active_item{\n\t\t\t\t\tcolor: var(--color);\n\t\t\t\t}\n\t\t\t}\n\t\t\t.image{\n\t\t\t\twidth: 100px;\n\t\t\t\theight: 100px;\n\t\t\t}\n\t\t\t.item_row{\n\t\t\t\tdisplay: flex;\n\t\t\t\t.item_label{\n\t\t\t\t\twidth: 48px;\n\t\t\t\t\ttext-align:end;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.dialog_content{\n\t\tmax-height: 450px;\n\t\toverflow-y: scroll;\n\t\t.detail_row{\n\t\t\tborder-bottom:1px solid #F0F0F0;\n\t\t\tdisplay: flex;\n\t\t\tfont-size:14rem;\n\t\t\tcolor: #333333;\n\t\t\t.lable{\n\t\t\t\tborder-right:1px solid #F0F0F0;\n\t\t\t\twidth: 120rem;\n\t\t\t\tpadding:12rem 20rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\t\t\t.value{\n\t\t\t\tflex:1;\n\t\t\t\tpadding: 12rem 20rem;\n\t\t\t}\n\t\t}\n\t}\n</style>\n\n\n\n\n\n\n\n\n\n\n"]}]}