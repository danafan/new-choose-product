{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/components/gys_goods_item.vue?vue&type=style&index=1&id=97b7eeac&lang=less&scoped=true&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/components/gys_goods_item.vue","mtime":1677053763706},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1655715156000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\n.goods_item{\n\tmargin-bottom: 20rem;\n\tborder:1px solid #EDEDED;\n\twidth: 265rem;\n\tcursor:pointer;\n\t.image_box{\n\t\tposition: relative;\n\t\twidth: 263rem;\n\t\theight: 263rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t.goods_img{\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t}\n\t.goods_info{\n\t\tpadding: 8rem 10rem;\n\t\t.desc{\n\t\t\tmargin-top: 6rem;\n\t\t\tfont-size:12rem;\n\t\t\tcolor: #333333;\n\t\t\tword-break: break-all;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-line-clamp: 1;\n\t\t\t-webkit-box-orient: vertical;\n\t\t}\n\t\t.price_cate{\n\t\t\tmargin-top: 12rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tfont-size: 12rem;\n\t\t\t.time{\n\t\t\t\tcolor: #999999;\n\t\t\t}\n\t\t\t.cate{\n\t\t\t\tcolor: #333333;\n\t\t\t}\n\t\t}\n\t\t.num_row{\n\t\t\tmargin-top: 14rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tfont-size: 12rem;\n\t\t\tcolor: #999999;\n\t\t}\n\t\t.kh{\n\t\t\tword-break: break-all;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-line-clamp: 1;\n\t\t\t-webkit-box-orient: vertical;\n\t\t}\n\t\t.buts{\n\t\t\tdisplay: flex;\n\t\t\t.but{\n\t\t\t\tmargin-left: 10rem;\n\t\t\t\tborder-radius: 2rem;\n\t\t\t\tbackground: var(--color);\n\t\t\t\tpadding: 0 3rem;\n\t\t\t\theight: 20rem;\n\t\t\t\tline-height: 20rem;\n\t\t\t\tfont-size: 12rem;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t\t.drak_back{\n\t\t\t\tbackground-color: #999999;\n\t\t\t}\n\t\t}\n\t\t.img_list{\n\t\t\tmargin-top: 12rem;\n\t\t\tflex:1;\n\t\t\tdisplay: flex;\n\t\t\t.info_icon{\n\t\t\t\tmargin-right: 6rem;\n\t\t\t\twidth: 20rem;\n\t\t\t\theight: 20rem;\n\t\t\t}\n\t\t}\n\t}\n}\n",{"version":3,"sources":["gys_goods_item.vue"],"names":[],"mappings":";AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"gys_goods_item.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div class=\"goods_item\">\n\t\t<div class=\"image_box\" v-if=\"info.img != ''\">\n\t\t\t<el-image class=\"goods_img\" fit=\"scale-down\" :src=\"domain + info.img\"></el-image>\n\t\t</div>\n\t\t<img class=\"image_box\" src=\"../static/load_failure.png\" v-else>\n\t\t<div class=\"goods_info\">\n\t\t\t<div class=\"desc\">{{info.title}}</div>\n\t\t\t<div class=\"price_cate\">\n\t\t\t\t<div class=\"time\">{{info.new_time_name}}</div>\n\t\t\t\t<div class=\"cate\">{{info.style_name}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"num_row\">\n\t\t\t\t<div>浏览：{{info.views_num}}</div>\n\t\t\t\t<div>选中：{{info.select_num}}</div>\n\t\t\t\t<div>30天销量：{{info.sales_num_all}}</div>\n\t\t\t</div>\n\t\t\t<div class=\"num_row\">\n\t\t\t\t<div class=\"kh\">款号：{{info.p_style_name}}</div>\n\t\t\t\t<div class=\"buts\">\n\t\t\t\t\t<div class=\"but\" :class=\"{'drak_back':info.hot_style == 1}\" @click=\"sendFn(1,info.hot_style)\">推爆款</div>\n\t\t\t\t\t<div class=\"but\" :class=\"{'drak_back':info.data_style == 1}\" @click=\"sendFn(2,info.data_style)\">推主推</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"img_list\">\n\t\t\t\t<img class=\"info_icon\" src=\"../static/tui_icon.png\" v-if=\"info.supply_return_goods == 1\">\n\t\t\t\t<img class=\"info_icon\" src=\"../static/ru_icon.png\" v-if=\"info.supply_warehousing == 1\">\n\t\t\t\t<img class=\"info_icon\" src=\"../static/huan_icon.png\" v-if=\"info.supply_exchange_goods == 1\">\n\t\t\t\t<img class=\"info_icon\" src=\"../static/pai_icon.png\" v-if=\"info.supply_photograph == 1\">\n\t\t\t\t<img class=\"info_icon\" src=\"../static/dai_icon.png\" v-if=\"info.supply_replace_send == 1\">\n\t\t\t\t<img class=\"info_icon\" src=\"../static/xian_icon.png\" v-if=\"info.supply_monthly_settlement == 0\">\n\t\t\t\t<img class=\"info_icon\" src=\"../static/yue_icon.png\" v-if=\"info.supply_monthly_settlement == 1\">\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- 推爆款/主推 -->\n\t\t<el-dialog :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\" @close=\"closeSendDialog\" destroy-on-close :visible.sync=\"send_dialog\">\n\t\t\t<div slot=\"title\" class=\"dialog_title\">\n\t\t\t\t<div>{{type == 1?'爆款：':'主推款：'}}{{info.p_style_name}}</div>\n\t\t\t\t<img class=\"close_icon\" src=\"../static/close_icon.png\" @click=\"send_dialog = false\">\n\t\t\t</div>\n\t\t\t<el-form style=\"margin-top: 15px;\" size=\"small\" label-width=\"100px\">\n\t\t\t\t<el-form-item label=\"爆款链接：\" v-if=\"type == 1\" required>\n\t\t\t\t\t<div style=\"display: flex;flex-wrap: wrap\">\n\t\t\t\t\t\t<div :key=\"url\" v-for=\"url in link_urls\">\n\t\t\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" :content=\"url\" placement=\"top-start\">\n\t\t\t\t\t\t\t\t<el-tag size=\"small\" closable :disable-transitions=\"false\" @close=\"handleClose(url)\">\n\t\t\t\t\t\t\t\t\t{{url}}\n\t\t\t\t\t\t\t\t</el-tag>\n\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<el-input class=\"input-new-tag\" v-if=\"inputVisible\" v-model=\"inputValue\" ref=\"saveTagInput\" size=\"small\" @keyup.enter.native=\"handleInputConfirm\" @blur=\"handleInputConfirm\">\n\t\t\t\t\t</el-input>\n\t\t\t\t\t<el-button size=\"mini\" v-if=\"!inputVisible\" type=\"primary\" icon=\"el-icon-plus\" @click=\"showInput\">新增</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"爆款图片：\" v-if=\"type == 1\" required>\n\t\t\t\t\t<UploadFile :img_list=\"bk_img_list\" :is_multiple=\"true\" :current_num=\"bk_img.length\" :size=\"80\" :max_num=\"9\" @callbackFn=\"bkCallbackFn\"/>\n\t\t\t\t</el-form-item>\n\n\t\t\t\t<el-form-item label=\"库存数：\" v-if=\"type == 2\" required>\n\t\t\t\t\t<el-input type=\"number\" v-model=\"kcs\">\n\t\t\t\t\t</el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"调价：\" v-if=\"type == 2\">\n\t\t\t\t\t<el-input type=\"number\" v-model=\"tj\">\n\t\t\t\t\t</el-input>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item label=\"备注：\" v-if=\"type == 2\">\n\t\t\t\t\t<el-input type=\"textarea\" :rows=\"3\" placeholder=\"请输入备注\" v-model=\"bz\">\n\t\t\t\t\t</el-input>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t\t<div slot=\"footer\" class=\"dialog_footer\">\n\t\t\t\t<el-button size=\"small\" @click=\"send_dialog = false\">取消</el-button>\n\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"confirmSend\">提交</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t</div>\n</template>\n<style>\n.el-tag {\n\tposition: relative;\n\tmax-width: 300px;\n\tmargin-right: 10px;\n\tmargin-bottom: 0!important;\n\toverflow: hidden!important;\n\ttext-overflow: ellipsis!important;\n\twhite-space: nowrap!important;\n\tpadding-right: 18px;\n}\n.el-tag__close{\n\tposition: absolute!important;\n\tright: 1px!important;\n\ttop: 3px!important;\n}\n</style>\n<style lang=\"less\" scoped>\n.goods_item{\n\tmargin-bottom: 20rem;\n\tborder:1px solid #EDEDED;\n\twidth: 265rem;\n\tcursor:pointer;\n\t.image_box{\n\t\tposition: relative;\n\t\twidth: 263rem;\n\t\theight: 263rem;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t.goods_img{\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t}\n\t.goods_info{\n\t\tpadding: 8rem 10rem;\n\t\t.desc{\n\t\t\tmargin-top: 6rem;\n\t\t\tfont-size:12rem;\n\t\t\tcolor: #333333;\n\t\t\tword-break: break-all;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-line-clamp: 1;\n\t\t\t-webkit-box-orient: vertical;\n\t\t}\n\t\t.price_cate{\n\t\t\tmargin-top: 12rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tfont-size: 12rem;\n\t\t\t.time{\n\t\t\t\tcolor: #999999;\n\t\t\t}\n\t\t\t.cate{\n\t\t\t\tcolor: #333333;\n\t\t\t}\n\t\t}\n\t\t.num_row{\n\t\t\tmargin-top: 14rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tfont-size: 12rem;\n\t\t\tcolor: #999999;\n\t\t}\n\t\t.kh{\n\t\t\tword-break: break-all;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-line-clamp: 1;\n\t\t\t-webkit-box-orient: vertical;\n\t\t}\n\t\t.buts{\n\t\t\tdisplay: flex;\n\t\t\t.but{\n\t\t\t\tmargin-left: 10rem;\n\t\t\t\tborder-radius: 2rem;\n\t\t\t\tbackground: var(--color);\n\t\t\t\tpadding: 0 3rem;\n\t\t\t\theight: 20rem;\n\t\t\t\tline-height: 20rem;\n\t\t\t\tfont-size: 12rem;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t\t.drak_back{\n\t\t\t\tbackground-color: #999999;\n\t\t\t}\n\t\t}\n\t\t.img_list{\n\t\t\tmargin-top: 12rem;\n\t\t\tflex:1;\n\t\t\tdisplay: flex;\n\t\t\t.info_icon{\n\t\t\t\tmargin-right: 6rem;\n\t\t\t\twidth: 20rem;\n\t\t\t\theight: 20rem;\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n<script>\n\timport resource from '../api/resource.js'\n\n\timport UploadFile from '../components/upload_file.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tmore_image_dialog:false,\t\t//更多图片\n\t\t\t\timage_title_list:['风格图','封面图'],\t//更多图片类型\n\t\t\t\tactive_tab_index:0,\t\t//选中的下标\n\t\t\t\tstyle_data:[],\t\t\t//风格图数据\n\t\t\t\tcommodity_data:[],\t\t//封面图数据\n\t\t\t\tfirstTime: '', \t\t\t// mousedown的时间戳\n\t\t\t\tlastTime: '', \t\t\t// mouseup的时间戳\n\t\t\t\tisClick: false, \t\t// false--禁止点击，true--可点击\n\t\t\t\tsend_dialog:false,\n\t\t\t\ttype:null,\n\t\t\t\tlink_urls: [],\t\t\t\t//已填写的爆款链接列表\n\t\t\t\tinputVisible: false,\t\t//是否显示新建链接的输入框\n\t\t\t\tinputValue: '',\t\t\t\t//新建链接的输入框内容\n\t\t\t\tbk_img_list:[],\t\t\t\t//选中的爆款图片列表(可查看)\n\t\t\t\tbk_img:[],\t\t\t\t\t//选中的爆款图片列表（可传递）\n\t\t\t\tkcs:\"\",\t\t\t\t\t\t//库存数\n\t\t\t\ttj:\"\",\t\t\t\t\t\t//调价\n\t\t\t\tbz:\"\",\t\t\t\t\t\t//备注\n\t\t\t}\n\t\t},\n\t\tprops:{\n\t\t\t//单个商品\n\t\t\tinfo:{\n\t\t\t\ttype:Object,\n\t\t\t\tdefault:{}\n\t\t\t}\n\t\t},\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t}\n\t\t},\n\t\tmethods:{\n\t\t\t//点击推爆款或主推款\n\t\t\tsendFn(type,style){\n\t\t\t\tif(style == 0){\n\t\t\t\t\tthis.type = type;\n\t\t\t\t\tthis.send_dialog = true;\n\t\t\t\t}else{\n\t\t\t\t\tif(type == 1){\n\t\t\t\t\t\tthis.$message.warning('爆款已推！');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning('主推款已推！');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t//关闭推款弹窗\n\t\t\tcloseSendDialog(){\n\t\t\t\tthis.link_urls = [];\t\t\t\t//已填写的爆款链接列表\n\t\t\t\tthis.inputVisible = false;\t\t\t//是否显示新建链接的输入框\n\t\t\t\tthis.inputValue = '';\t\t\t\t//新建链接的输入框内容\n\t\t\t\tthis.bk_img_list = [];\t\t\t\t//选中的爆款图片列表(可查看)\n\t\t\t\tthis.bk_img = [];\t\t\t\t\t//选中的爆款图片列表（可传递）\n\t\t\t\tthis.kcs = \"\";\t\t\t\t\t\t//库存数\n\t\t\t\tthis.tj = \"\";\t\t\t\t\t\t//调价\n\t\t\t\tthis.bz = \"\";\t\t\t\t\t\t//备注\n\t\t\t},\n\t\t\t//删除当前选中的爆款链接\n\t\t\thandleClose(url) {\n\t\t\t\tthis.link_urls.splice(this.link_urls.indexOf(url), 1);\n\t\t\t},\n\t\t\t//监听爆款图片列表回调\n\t\t\tbkCallbackFn(img_arr){\n\t\t\t\tthis.bk_img = img_arr;\n\t\t\t},\n\t\t\t//点击新增爆款链接\n\t\t\tshowInput() {\n\t\t\t\tthis.inputVisible = true;\n\t\t\t\tthis.$nextTick(_ => {\n\t\t\t\t\tthis.$refs.saveTagInput.$refs.input.focus();\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleInputConfirm() {\n\t\t\t\tlet inputValue = this.inputValue;\n\t\t\t\tif (inputValue) {\n\t\t\t\t\tthis.link_urls.push(inputValue);\n\t\t\t\t}\n\t\t\t\tthis.inputVisible = false;\n\t\t\t\tthis.inputValue = '';\n\t\t\t},\n\t\t\tconfirmSend(){\n\t\t\t\tlet arg = {\n\t\t\t\t\ttype:this.type,\n\t\t\t\t\tstyle_id:this.info.style_id\n\t\t\t\t}\n\t\t\t\tif(this.type == 1){\t\t//推爆款\n\t\t\t\t\tif(this.link_urls.length == 0){\n\t\t\t\t\t\tthis.$message.warning('请输入爆款链接');\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif(this.bk_img.length == 0){\n\t\t\t\t\t\tthis.$message.warning('请至少上传一张图片');\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\targ['hot_url'] = this.link_urls.join(',');\n\t\t\t\t\targ['hot_img'] = this.bk_img.join(',');\n\t\t\t\t}else{\t//主推款\n\t\t\t\t\tif(!this.isZzs.test(this.kcs)){\n\t\t\t\t\t\tthis.$message.warning('库存数不能为空且是正整数');\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif(this.tj && !this.isPrice.test(this.tj)){\n\t\t\t\t\t\tthis.$message.warning('调价需大于0且最多两位小数');\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\targ['data_num'] = this.kcs;\n\t\t\t\t\targ['data_price'] = this.tj;\n\t\t\t\t\targ['remark'] = this.bz;\n\t\t\t\t}\n\t\t\t\tresource.pushHostData(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.send_dialog = false;\n\t\t\t\t\t\tthis.$emit('reload');\n\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t}else if(res.data.code == 9){\n\t\t\t\t\t\tthis.send_dialog = false;\n\t\t\t\t\t\tthis.$emit('reload');\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tUploadFile\n\t\t}\n\t}\n</script>\n\n\n\n\n\n\n\n"]}]}