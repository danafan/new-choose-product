{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/pages/SupplyChain/pages/GoodsPages/edit_goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/pages/SupplyChain/pages/GoodsPages/edit_goods.vue","mtime":1679466890861},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\n\timport commonResource from '../../../../api/common_resource.js'\n\timport resource from '../../../../api/chain_resource.js'\n\n\timport UploadFile from '../../../../components/upload_file.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tis_detail:false,\t\t//是否是详情\n\t\t\t\tpage_type:'',\t\t\t//页面来源（goods:商品；feekback:反馈）\n\t\t\t\tgoods_type:\"\",\t\t\t//类型（1:添加；2:编辑；3:查看；4:审核；5：重新提交）\n\t\t\t\tsupplier_list:[],\t\t//供应商列表\n\t\t\t\tcate_list:[],\t\t\t//类目列表\n\t\t\t\tmarket_list:[],\t\t\t//市场列表\n\t\t\t\tstyle_list:[],\t\t\t//拍摄风格列表\n\t\t\t\tclass_list:[],\t\t\t//分类列表\n\t\t\t\tpreview_image:[],\t\t//查看详情的图片列表\n\t\t\t\tpreview_bk_image:[],\t//查看详情的爆款图片列表\n\t\t\t\timg_list:[],\t\t\t\n\t\t\t\tstyle_id:\"\",\t\t\t//商品ID\n\t\t\t\tadd_admin_name:\"\",\t\t//提交人\n\t\t\t\tcheck_status:\"\",\t\t//审核状态\n\t\t\t\tprice_status:\"\",\t\t//调价审核状态\n\t\t\t\tedit_price:\"\",\t\t\t//修改后价格\n\t\t\t\toff_reason:\"\",\t\t\t//下架原因\n\t\t\t\trefuse_reason:\"\",\t\t//拒绝原因\n\t\t\t\targ:{\n\t\t\t\t\ti_id:\"\",\t\t\t\t//款式编码\n\t\t\t\t\tbd_i_id:\"\",\t\t\t\t//bd款式编码\n\t\t\t\t\tstyle_name:\"\",\t\t\t//商品款号\n\t\t\t\t\tsupplier_id:\"\",\t\t\t//选中的供应商\n\t\t\t\t\ttitle:\"\",\t\t\t\t//标题\n\t\t\t\t\tcategory_id:\"\",\t\t\t//选中的类目\n\t\t\t\t\tmarket_id:\"\",\t\t\t//选中的市场\n\t\t\t\t\tclassification_id:\"\",\t//选中的分类\n\t\t\t\t\tfabric:\"\",\t\t\t\t//面料\n\t\t\t\t\tmode:\"\",\t\t\t\t//合作模式\n\t\t\t\t\tcost_price:\"\",\t\t\t//成本价\n\t\t\t\t\tsize:\"\",\t\t\t\t//尺码\n\t\t\t\t\tcolor:\"\",\t\t\t\t//颜色\n\t\t\t\t\thot_style:0,\t\t\t//爆款\n\t\t\t\t\tsole_style:0,\t\t\t//独家款\n\t\t\t\t\tdata_style:0,\t\t\t//主推款\n\t\t\t\t\tagain_style:0,\t\t\t//二开款\n\t\t\t\t\tnet_disk_address:\"\",\t//网盘地址\n\t\t\t\t\timg:[],\t\t\t\t\t//图片列表\n\t\t\t\t\tremark:\"\",\t\t\t\t//备注\n\t\t\t\t},\t\t\t\t\t\t\t//可传递的参数\n\t\t\t\tshooting_style_ids:[],\t\t//已选中的拍摄风格\n\t\t\t\tdefault_hot_style:0,\t\t//默认是否爆款\n\t\t\t\tdefault_data_style:0,\t\t//默认是否主推款\n\t\t\t\thot_status:10,\t\t\t\t//爆款审核状态\n\t\t\t\tdata_status:10,\t\t\t\t//主推款审核状态\n\t\t\t\tlink_urls: [],\t\t\t\t//已填写的爆款链接列表\n\t\t\t\tinputVisible: false,\t\t//是否显示新建链接的输入框\n\t\t\t\tinputValue: '',\t\t\t\t//新建链接的输入框内容\n\t\t\t\tbk_img_list:[],\t\t\t\t//选中的爆款图片列表(可查看)\n\t\t\t\tbk_img:[],\t\t\t\t\t//选中的爆款图片列表（可传递）\n\t\t\t\tkcs:\"\",\t\t\t\t\t\t//库存数\n\t\t\t\ttj:\"\",\t\t\t\t\t\t//调价\n\t\t\t\tbz:\"\",\t\t\t\t\t\t//备注\n\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\t//商品ID\n\t\t\tthis.style_id = this.$route.query.style_id;\n\t\t\tthis.is_detail = this.$route.query.goods_type == '3' || this.$route.query.goods_type == '4'?true:false;\n\t\t\t//页面来源\n\t\t\tthis.page_type = this.$route.query.page_type;\n\t\t\t//类型\n\t\t\tthis.goods_type = this.$route.query.goods_type;\n\t\t\t//获取数据列表\n\t\t\tthis.getInfoList();\n\t\t},\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t//获取数据列表\n\t\t\tasync getInfoList(){\n\t\t\t\t//获取供应商列表\n\t\t\t\tawait this.ajaxSupplierList();\n\t\t\t\t//获取类目列表\n\t\t\t\tawait this.ajaxCateList();\n\t\t\t\t//市场列表\n\t\t\t\tawait this.ajaxMarketList();\n\t\t\t\t//拍摄风格列表\n\t\t\t\tawait this.ajaxStyleList();\n\t\t\t\t//分类列表\n\t\t\t\tawait this.ajaxClassList();\n\t\t\t\tif(this.goods_type == '2' || this.goods_type == '3' || this.goods_type == '4' || this.goods_type == '5'){\t//2:编辑;3:详情；4:审核；5:重新提交\n\t\t\t\t\t//获取商品详情\n\t\t\t\t\tthis.getGoodsDetail();\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取商品详情\n\t\t\tgetGoodsDetail(){\n\t\t\t\tvar arg = {\n\t\t\t\t\tstyle_id:this.style_id\n\t\t\t\t}\n\t\t\t\tif(this.page_type == 'goods'){\t//商品管理\n\t\t\t\t\tif(this.goods_type == '3'){\t//查看\n\t\t\t\t\t\tresource.getOnepro(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\t\t//处理详情\n\t\t\t\t\t\t\t\tthis.setInfo(data_info);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else if(this.goods_type == '4'){//审核\n\t\t\t\t\t\tresource.examEditGoods(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\t\t//处理详情\n\t\t\t\t\t\t\t\tthis.setInfo(data_info);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else if(this.goods_type == '5'){\t//重新提交\n\t\t\t\t\t\tresource.returnEditGoodsGet(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\t\t//处理详情\n\t\t\t\t\t\t\t\tthis.setInfo(data_info);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tresource.editGoodsGet(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\t\t//处理详情\n\t\t\t\t\t\t\t\tthis.setInfo(data_info);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}else{\t\t//反馈管理\n\t\t\t\t\tresource.feedBackEditGoodsGet(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\tdata_info.img.map(item => {\n\t\t\t\t\t\t\t\tlet img_obj = {\n\t\t\t\t\t\t\t\t\turls:item,\n\t\t\t\t\t\t\t\t\tshow_icon:false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.img_list.push(img_obj);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.add_admin_name = data_info.add_admin_name;\n\t\t\t\t\t\t\tthis.check_status = data_info.check_status;\n\t\t\t\t\t\t\tthis.off_reason = data_info.off_reason;\n\t\t\t\t\t\t\tthis.refuse_reason = data_info.refuse_reason;\n\t\t\t\t\t\t\tfor(let key in this.arg){\n\t\t\t\t\t\t\t\tfor(let k in data_info){\n\t\t\t\t\t\t\t\t\tif(key == k){\n\t\t\t\t\t\t\t\t\t\t//款式编码逗号转分号\n\t\t\t\t\t\t\t\t\t\tif((k == 'i_id' || k == 'bd_i_id') && data_info[k].indexOf(',') > -1){\n\t\t\t\t\t\t\t\t\t\t\tdata_info[k] = data_info[k].replaceAll(\",\", \";\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.arg[key] = data_info[k];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//处理详情\n\t\t\tsetInfo(data_info){\n\t\t\t\tdata_info.img.map(item => {\n\t\t\t\t\tlet img_obj = {\n\t\t\t\t\t\turls:item,\n\t\t\t\t\t\tshow_icon:false\n\t\t\t\t\t}\n\t\t\t\t\tthis.img_list.push(img_obj);\n\t\t\t\t\tthis.preview_image.push(this.domain + item);\n\t\t\t\t})\n\t\t\t\tthis.add_admin_name = data_info.add_admin_name;\n\t\t\t\tthis.check_status = data_info.check_status;\n\t\t\t\tthis.off_reason = data_info.off_reason;\n\t\t\t\tthis.refuse_reason = data_info.refuse_reason;\n\t\t\t\tthis.price_status = data_info.price_status;\n\t\t\t\tthis.edit_price = data_info.edit_price;\n\n\t\t\t\tthis.default_hot_style = data_info.hot_style;//默认是否爆款\n\t\t\t\tthis.default_data_style = data_info.data_style;\t//默认是否主推款\n\t\t\t\tthis.hot_status = data_info.hot_status; //爆款审核状态\n\t\t\t\tthis.data_status = data_info.data_status; //主推款审核状态\n\n\t\t\t\tthis.link_urls = data_info.hot_url;\n\t\t\t\tdata_info.hot_img.map(item => {\n\t\t\t\t\tlet img_obj = {\n\t\t\t\t\t\turls:item,\n\t\t\t\t\t\tshow_icon:false\n\t\t\t\t\t}\n\t\t\t\t\tthis.bk_img_list.push(img_obj);\n\t\t\t\t\tthis.preview_bk_image.push(this.domain + item);\n\t\t\t\t})\n\t\t\t\tthis.bk_img = data_info.hot_img;\n\t\t\t\tthis.kcs = data_info.data_num;\n\t\t\t\tthis.tj = data_info.data_price;\n\t\t\t\tthis.bz = data_info.data_remark;\n\n\t\t\t\tif(data_info.shooting_style_id != ''){\n\t\t\t\t\tlet shooting_style_ids = data_info.shooting_style_id.split(',');\n\t\t\t\t\tthis.shooting_style_ids = shooting_style_ids.map(item => {\n\t\t\t\t\t\treturn parseInt(item);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(let key in this.arg){\n\t\t\t\t\tfor(let k in data_info){\n\t\t\t\t\t\tif(key == k){\n\t\t\t\t\t\t\t//款式编码逗号转分号\n\t\t\t\t\t\t\tif((k == 'i_id' || k == 'bd_i_id') && data_info[k].indexOf(',') > -1){\n\t\t\t\t\t\t\t\tdata_info[k] = data_info[k].replaceAll(\",\", \";\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.arg[key] = data_info[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取供应商列表\n\t\t\tajaxSupplierList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxSupplierList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.supplier_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//获取类目列表\n\t\t\tajaxCateList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxCateList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.cate_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//市场列表\n\t\t\tajaxMarketList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxMarketList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.market_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//拍摄风格列表\n\t\t\tajaxStyleList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxStyleList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.style_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//分类列表\n\t\t\tajaxClassList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxClassList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.class_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//监听图片列表回调\n\t\t\tcallbackFn(img_arr) {\n\t\t\t\tthis.arg.img = img_arr;\n\t\t\t},\n\t\t\t//删除当前选中的爆款链接\n\t\t\thandleClose(url) {\n\t\t\t\tthis.link_urls.splice(this.link_urls.indexOf(url), 1);\n\t\t\t},\n\t\t\t//监听爆款图片列表回调\n\t\t\tbkCallbackFn(img_arr){\n\t\t\t\tthis.bk_img = img_arr;\n\t\t\t},\n\t\t\t//点击新增爆款链接\n\t\t\tshowInput() {\n\t\t\t\tthis.inputVisible = true;\n\t\t\t\tthis.$nextTick(_ => {\n\t\t\t\t\tthis.$refs.saveTagInput.$refs.input.focus();\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleInputConfirm() {\n\t\t\t\tlet inputValue = this.inputValue;\n\t\t\t\tif (inputValue) {\n\t\t\t\t\tthis.link_urls.push(inputValue);\n\t\t\t\t}\n\t\t\t\tthis.inputVisible = false;\n\t\t\t\tthis.inputValue = '';\n\t\t\t},\n\t\t\t//底部提交\n\t\t\tcommitEditGoods(){\n\t\t\t\tif(!this.arg.style_name){\n\t\t\t\t\tthis.$message.warning('请输入商品款号!');\n\t\t\t\t}else if(!this.arg.supplier_id){\n\t\t\t\t\tthis.$message.warning('请选择供应商!');\n\t\t\t\t}else if(!this.arg.category_id){\n\t\t\t\t\tthis.$message.warning('请选择类目!');\n\t\t\t\t}else if(!this.arg.market_id){\n\t\t\t\t\tthis.$message.warning('请选择市场!');\n\t\t\t\t}else{\n\t\t\t\t\tvar arg = this.goods_type == '1'?this.arg:{...this.arg,...{style_id:this.style_id}};\n\t\t\t\t\tif (arg.i_id.indexOf(\";\") > -1) {\n\t\t\t\t\t\targ.i_id = arg.i_id.replaceAll(\";\", \",\");\n\t\t\t\t\t}\n\t\t\t\t\tif (arg.bd_i_id.indexOf(\";\") > -1) {\n\t\t\t\t\t\targ.bd_i_id = arg.bd_i_id.replaceAll(\";\", \",\");\n\t\t\t\t\t}\n\t\t\t\t\targ.shooting_style_id = this.shooting_style_ids.join(',');\n\n\t\t\t\t\targ.hot_url = this.link_urls.join(',');\n\t\t\t\t\targ.hot_img = this.bk_img.join(',');\n\t\t\t\t\targ.data_num = this.kcs;\n\t\t\t\t\targ.data_price = this.tj;\n\t\t\t\t\targ.data_remark = this.bz;\n\n\n\t\t\t\t\tthis.$confirm(`确认${this.goods_type == '1'?'添加':'编辑'}此商品吗?`, '提示', {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tif(this.goods_type == '1'){\t//添加\n\t\t\t\t\t\t\tresource.addGoods(arg).then(res => {\n\t\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\t\t\t//编辑或重新提交\n\t\t\t\t\t\t\tif(this.page_type == 'goods'){\t//商品管理\n\t\t\t\t\t\t\t\tif(this.goods_type == '5'){\t//重新提交\n\t\t\t\t\t\t\t\t\targ.type = 1;\n\t\t\t\t\t\t\t\t\tresource.returnEditGoodsPost(arg).then(res => {\n\t\t\t\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else if(this.goods_type == '2'){\t//编辑\n\t\t\t\t\t\t\t\t\tresource.editGoodsPost(arg).then(res => {\n\t\t\t\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\t\t//反馈管理\n\t\t\t\t\t\t\t\tresource.feedBackEditGoodsPost(arg).then(res => {\n\t\t\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t\t});          \n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t//审批\n\t\t\tauditFn(type){\n\t\t\t\tlet arg = {\n\t\t\t\t\ttype:type,\n\t\t\t\t\tid:this.style_id\n\t\t\t\t}\n\t\t\t\tif(type == '1'){\n\t\t\t\t\tthis.$confirm('确认同意?', '提示', {\t\t//同意\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tresource.auditGoods(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t\t});          \n\t\t\t\t\t});\n\t\t\t\t}else{\t\t\t\t\t\t//拒绝\n\t\t\t\t\tthis.$prompt('请输入拒绝原因', '拒绝', {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\t}).then(({ value }) => {\n\t\t\t\t\t\tif(!value){\n\t\t\t\t\t\t\tthis.$message.warning('请输入拒绝原因');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\targ.refuse_reason = value;\n\t\t\t\t\t\tresource.auditGoods(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tmessage: '取消输入'\n\t\t\t\t\t\t});       \n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tfilters:{\n\t\t\t//审核状态\n\t\t\tcheckStatus:function(val){\n\t\t\t\tlet ss = \"\";\n\t\t\t\tswitch(val){\n\t\t\t\t\tcase 1:\n\t\t\t\t\tss =  '上架待审核';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\tss =  '审核通过(已上架)';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\tss =  '上架审核拒绝';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\tss =  '下架待审核';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\tss =  '下架审核通过(已下架)';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\tss =  '下架审核拒绝';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn ss;\n\t\t\t},\n\t\t\tpriceStatus:function(e){\n\t\t\t\tlet status_str = \"\";\n\t\t\t\tswitch(e){\n\t\t\t\t\tcase 1:\n\t\t\t\t\tstatus_str = '待审核';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\tstatus_str = '审核通过';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\tstatus_str = '审核拒绝';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn status_str;\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tUploadFile\n\t\t}\n\t}\n",{"version":3,"sources":["edit_goods.vue"],"names":[],"mappings":";AAkLA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"edit_goods.vue","sourceRoot":"src/pages/SupplyChain/pages/GoodsPages","sourcesContent":["<template>\n\t<div class=\"chain_page_content\">\n\t\t<el-card class=\"card_box\">\n\t\t\t<div class=\"form_row\">\n\t\t\t\t<el-form size=\"small\" style=\"width: 50%\" label-width=\"120px\">\n\t\t\t\t\t<el-form-item label=\"提交人：\" v-if=\"is_detail\">\n\t\t\t\t\t\t<div>{{add_admin_name}}</div>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"款式编码：\">\n\t\t\t\t\t\t<el-input type=\"textarea\" autosize :placeholder=\"is_detail?'':'多个请用分号间隔'\" v-model=\"arg.i_id\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"BD款式编码：\">\n\t\t\t\t\t\t<el-input type=\"textarea\" autosize :placeholder=\"is_detail?'':'多个请用分号间隔'\" v-model=\"arg.bd_i_id\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"供应商：\" required>\n\t\t\t\t\t\t<el-select v-model=\"arg.supplier_id\" clearable placeholder=\"请选择供应商\" :disabled=\"is_detail\">\n\t\t\t\t\t\t\t<el-option v-for=\"item in supplier_list\" :key=\"item.supplier_id\" :label=\"item.supplier_name\" :value=\"item.supplier_id\">\n\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"类目：\" required>\n\t\t\t\t\t\t<el-select v-model=\"arg.category_id\" clearable placeholder=\"请选择类目\" :disabled=\"is_detail\">\n\t\t\t\t\t\t\t<el-option v-for=\"item in cate_list\" :key=\"item.category_id\" :label=\"item.category_name\" :value=\"item.category_id\">\n\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"拍摄风格：\">\n\t\t\t\t\t\t<el-select v-model=\"shooting_style_ids\" multiple filterable clearable :placeholder=\"is_detail?'':'请选择拍摄风格'\" :disabled=\"is_detail\">\n\t\t\t\t\t\t\t<el-option v-for=\"item in style_list\" :key=\"item.shooting_style_id\" :label=\"item.shooting_style_name\" :value=\"item.shooting_style_id\">\n\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"面料：\">\n\t\t\t\t\t\t<el-input :placeholder=\"is_detail?'':'面料'\" v-model=\"arg.fabric\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"成本价：\">\n\t\t\t\t\t\t<el-input type=\"number\" v-model=\"arg.cost_price\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"调价状态：\" v-if=\"!!price_status\">\n\t\t\t\t\t\t{{price_status | priceStatus}}\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"修改后价格：\" v-if=\"price_status != 0 && !!edit_price\">\n\t\t\t\t\t\t{{edit_price}}\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"网盘地址：\">\n\t\t\t\t\t\t<el-input :placeholder=\"is_detail?'':'网盘地址'\" v-model=\"arg.net_disk_address\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"备注：\">\n\t\t\t\t\t\t<el-input type=\"textarea\" :rows=\"5\" :placeholder=\"is_detail?'':'请输入备注'\" v-model=\"arg.remark\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"下架原因：\" v-if=\"check_status == 4\">\n\t\t\t\t\t\t<div>{{off_reason}}</div>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"拒绝原因：\" v-if=\"check_status == 3 || check_status == 6 || price_status == 3\">\n\t\t\t\t\t\t<div>{{refuse_reason}}</div>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t\t<el-form size=\"small\" style=\"width: 50%\" label-width=\"100px\">\n\t\t\t\t\t<el-form-item label=\"商品款号：\" required>\n\t\t\t\t\t\t<el-input placeholder=\"商品款号\" v-model=\"arg.style_name\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"标题：\">\n\t\t\t\t\t\t<el-input :placeholder=\"is_detail?'':'标题'\" v-model=\"arg.title\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"市场：\" required>\n\t\t\t\t\t\t<el-select v-model=\"arg.market_id\" clearable placeholder=\"请选择市场\" :disabled=\"is_detail\">\n\t\t\t\t\t\t\t<el-option v-for=\"item in market_list\" :key=\"item.market_id\" :label=\"item.market_name\" :value=\"item.market_id\">\n\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"分类：\">\n\t\t\t\t\t\t<el-select v-model=\"arg.classification_id\" clearable :placeholder=\"is_detail?'':'请选择分类'\" :disabled=\"is_detail\">\n\t\t\t\t\t\t\t<el-option v-for=\"item in class_list\" :key=\"item.classification_id\" :label=\"item.classification_name\" :value=\"item.classification_id\">\n\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t</el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"合作模式：\">\n\t\t\t\t\t\t<el-input :placeholder=\"is_detail?'':'合作模式'\" v-model=\"arg.mode\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"尺码：\">\n\t\t\t\t\t\t<el-input :placeholder=\"is_detail?'':'尺码'\" v-model=\"arg.size\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"颜色：\">\n\t\t\t\t\t\t<el-input :placeholder=\"is_detail?'':'颜色'\"  v-model=\"arg.color\" :disabled=\"is_detail\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"审核状态：\" v-if=\"is_detail\">\n\t\t\t\t\t\t{{check_status | checkStatus}}\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"爆款：\">\n\t\t\t\t\t\t<el-radio-group v-model=\"arg.hot_style\" :disabled=\"is_detail || hot_status === 0\">\n\t\t\t\t\t\t\t<el-radio :label=\"1\">是</el-radio>\n\t\t\t\t\t\t\t<el-radio :label=\"0\">否</el-radio>\n\t\t\t\t\t\t</el-radio-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"爆款链接：\" v-if=\"arg.hot_style\">\n\t\t\t\t\t\t<div style=\"display: flex;flex-wrap: wrap\">\n\t\t\t\t\t\t\t<div :key=\"url\" v-for=\"url in link_urls\">\n\t\t\t\t\t\t\t\t<el-tooltip class=\"item\" effect=\"dark\" :content=\"url\" placement=\"top-start\">\n\t\t\t\t\t\t\t\t\t<el-tag size=\"small\" :closable=\"!is_detail && default_hot_style === 0\" :disable-transitions=\"false\" @close=\"handleClose(url)\">\n\t\t\t\t\t\t\t\t\t\t{{url}}\n\t\t\t\t\t\t\t\t\t</el-tag>\n\t\t\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<el-input class=\"input-new-tag\" v-if=\"inputVisible\" v-model=\"inputValue\" ref=\"saveTagInput\" size=\"small\" @keyup.enter.native=\"handleInputConfirm\" @blur=\"handleInputConfirm\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t\t<el-button size=\"mini\" v-if=\"!inputVisible && !is_detail && default_hot_style === 0\" type=\"primary\" icon=\"el-icon-plus\" @click=\"showInput\">新增</el-button>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"爆款图片：\" v-if=\"arg.hot_style\">\n\t\t\t\t\t\t<div v-if=\"is_detail || default_hot_style === 1\">\n\t\t\t\t\t\t\t<el-image class=\"bk_card_img\" v-for=\"item in preview_bk_image\" :src=\"item\" fit=\"scale-down\" :preview-src-list=\"preview_bk_image\"></el-image>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<UploadFile :img_list=\"bk_img_list\" :is_multiple=\"true\" :current_num=\"bk_img.length\" :size=\"80\" :max_num=\"9\" @callbackFn=\"bkCallbackFn\" v-else/>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"主推款：\">\n\t\t\t\t\t\t<el-radio-group v-model=\"arg.data_style\" :disabled=\"is_detail || data_status === 0\">\n\t\t\t\t\t\t\t<el-radio :label=\"1\">是</el-radio>\n\t\t\t\t\t\t\t<el-radio :label=\"0\">否</el-radio>\n\t\t\t\t\t\t</el-radio-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"库存数：\" v-if=\"arg.data_style\">\n\t\t\t\t\t\t<el-input type=\"number\" v-model=\"kcs\" :disabled=\"is_detail || default_data_style === 1\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"调价：\" v-if=\"arg.data_style\">\n\t\t\t\t\t\t<el-input type=\"number\" v-model=\"tj\" :disabled=\"is_detail || default_data_style === 1\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"备注：\" v-if=\"arg.data_style\">\n\t\t\t\t\t\t<el-input type=\"textarea\" :rows=\"3\" :placeholder=\"is_detail?'':'请输入备注'\" v-model=\"bz\" :disabled=\"is_detail || default_data_style === 1\">\n\t\t\t\t\t\t</el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"独家款：\">\n\t\t\t\t\t\t<el-radio-group v-model=\"arg.sole_style\" :disabled=\"is_detail\">\n\t\t\t\t\t\t\t<el-radio :label=\"1\">是</el-radio>\n\t\t\t\t\t\t\t<el-radio :label=\"0\">否</el-radio>\n\t\t\t\t\t\t</el-radio-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item label=\"自主款：\">\n\t\t\t\t\t\t<el-radio-group v-model=\"arg.again_style\" :disabled=\"is_detail\">\n\t\t\t\t\t\t\t<el-radio :label=\"1\">是</el-radio>\n\t\t\t\t\t\t\t<el-radio :label=\"0\">否</el-radio>\n\t\t\t\t\t\t</el-radio-group>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</div>\n\t\t\t<div class=\"form_row\">\n\t\t\t\t<el-form size=\"small\" label-width=\"100px\">\n\t\t\t\t\t<el-form-item label=\"商品图：\">\n\t\t\t\t\t\t<div v-if=\"is_detail\">\n\t\t\t\t\t\t\t<el-image class=\"card_img\" v-for=\"item in preview_image\" :src=\"item\" fit=\"scale-down\" :preview-src-list=\"preview_image\"></el-image>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<UploadFile :is_main=\"false\" :img_list=\"img_list\" :is_multiple=\"true\" :current_num=\"arg.img.length\" :max_num=\"99\" @callbackFn=\"callbackFn\" v-else/>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-form>\n\t\t\t</div>\n\t\t\t<div class=\"bottom_row\" v-if=\"goods_type == '1' || goods_type == '2' || goods_type == '5'\">\n\t\t\t\t<el-button size=\"small\" type=\"primary\" @click=\"commitEditGoods\">提交</el-button>\n\t\t\t</div>\n\t\t\t<div class=\"bottom_row\" v-if=\"goods_type == '4'\">\n\t\t\t\t<el-button size=\"small\" type=\"primary\" @click=\"auditFn('1')\">同意</el-button>\n\t\t\t\t<el-button size=\"small\" type=\"primary\" @click=\"auditFn('2')\">拒绝</el-button>\n\t\t\t</div>\n\t\t</el-card>\n\t</div>\n</template>\n<script>\n\timport commonResource from '../../../../api/common_resource.js'\n\timport resource from '../../../../api/chain_resource.js'\n\n\timport UploadFile from '../../../../components/upload_file.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tis_detail:false,\t\t//是否是详情\n\t\t\t\tpage_type:'',\t\t\t//页面来源（goods:商品；feekback:反馈）\n\t\t\t\tgoods_type:\"\",\t\t\t//类型（1:添加；2:编辑；3:查看；4:审核；5：重新提交）\n\t\t\t\tsupplier_list:[],\t\t//供应商列表\n\t\t\t\tcate_list:[],\t\t\t//类目列表\n\t\t\t\tmarket_list:[],\t\t\t//市场列表\n\t\t\t\tstyle_list:[],\t\t\t//拍摄风格列表\n\t\t\t\tclass_list:[],\t\t\t//分类列表\n\t\t\t\tpreview_image:[],\t\t//查看详情的图片列表\n\t\t\t\tpreview_bk_image:[],\t//查看详情的爆款图片列表\n\t\t\t\timg_list:[],\t\t\t\n\t\t\t\tstyle_id:\"\",\t\t\t//商品ID\n\t\t\t\tadd_admin_name:\"\",\t\t//提交人\n\t\t\t\tcheck_status:\"\",\t\t//审核状态\n\t\t\t\tprice_status:\"\",\t\t//调价审核状态\n\t\t\t\tedit_price:\"\",\t\t\t//修改后价格\n\t\t\t\toff_reason:\"\",\t\t\t//下架原因\n\t\t\t\trefuse_reason:\"\",\t\t//拒绝原因\n\t\t\t\targ:{\n\t\t\t\t\ti_id:\"\",\t\t\t\t//款式编码\n\t\t\t\t\tbd_i_id:\"\",\t\t\t\t//bd款式编码\n\t\t\t\t\tstyle_name:\"\",\t\t\t//商品款号\n\t\t\t\t\tsupplier_id:\"\",\t\t\t//选中的供应商\n\t\t\t\t\ttitle:\"\",\t\t\t\t//标题\n\t\t\t\t\tcategory_id:\"\",\t\t\t//选中的类目\n\t\t\t\t\tmarket_id:\"\",\t\t\t//选中的市场\n\t\t\t\t\tclassification_id:\"\",\t//选中的分类\n\t\t\t\t\tfabric:\"\",\t\t\t\t//面料\n\t\t\t\t\tmode:\"\",\t\t\t\t//合作模式\n\t\t\t\t\tcost_price:\"\",\t\t\t//成本价\n\t\t\t\t\tsize:\"\",\t\t\t\t//尺码\n\t\t\t\t\tcolor:\"\",\t\t\t\t//颜色\n\t\t\t\t\thot_style:0,\t\t\t//爆款\n\t\t\t\t\tsole_style:0,\t\t\t//独家款\n\t\t\t\t\tdata_style:0,\t\t\t//主推款\n\t\t\t\t\tagain_style:0,\t\t\t//二开款\n\t\t\t\t\tnet_disk_address:\"\",\t//网盘地址\n\t\t\t\t\timg:[],\t\t\t\t\t//图片列表\n\t\t\t\t\tremark:\"\",\t\t\t\t//备注\n\t\t\t\t},\t\t\t\t\t\t\t//可传递的参数\n\t\t\t\tshooting_style_ids:[],\t\t//已选中的拍摄风格\n\t\t\t\tdefault_hot_style:0,\t\t//默认是否爆款\n\t\t\t\tdefault_data_style:0,\t\t//默认是否主推款\n\t\t\t\thot_status:10,\t\t\t\t//爆款审核状态\n\t\t\t\tdata_status:10,\t\t\t\t//主推款审核状态\n\t\t\t\tlink_urls: [],\t\t\t\t//已填写的爆款链接列表\n\t\t\t\tinputVisible: false,\t\t//是否显示新建链接的输入框\n\t\t\t\tinputValue: '',\t\t\t\t//新建链接的输入框内容\n\t\t\t\tbk_img_list:[],\t\t\t\t//选中的爆款图片列表(可查看)\n\t\t\t\tbk_img:[],\t\t\t\t\t//选中的爆款图片列表（可传递）\n\t\t\t\tkcs:\"\",\t\t\t\t\t\t//库存数\n\t\t\t\ttj:\"\",\t\t\t\t\t\t//调价\n\t\t\t\tbz:\"\",\t\t\t\t\t\t//备注\n\n\t\t\t}\n\t\t},\n\t\tcreated(){\n\t\t\t//商品ID\n\t\t\tthis.style_id = this.$route.query.style_id;\n\t\t\tthis.is_detail = this.$route.query.goods_type == '3' || this.$route.query.goods_type == '4'?true:false;\n\t\t\t//页面来源\n\t\t\tthis.page_type = this.$route.query.page_type;\n\t\t\t//类型\n\t\t\tthis.goods_type = this.$route.query.goods_type;\n\t\t\t//获取数据列表\n\t\t\tthis.getInfoList();\n\t\t},\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t//获取数据列表\n\t\t\tasync getInfoList(){\n\t\t\t\t//获取供应商列表\n\t\t\t\tawait this.ajaxSupplierList();\n\t\t\t\t//获取类目列表\n\t\t\t\tawait this.ajaxCateList();\n\t\t\t\t//市场列表\n\t\t\t\tawait this.ajaxMarketList();\n\t\t\t\t//拍摄风格列表\n\t\t\t\tawait this.ajaxStyleList();\n\t\t\t\t//分类列表\n\t\t\t\tawait this.ajaxClassList();\n\t\t\t\tif(this.goods_type == '2' || this.goods_type == '3' || this.goods_type == '4' || this.goods_type == '5'){\t//2:编辑;3:详情；4:审核；5:重新提交\n\t\t\t\t\t//获取商品详情\n\t\t\t\t\tthis.getGoodsDetail();\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取商品详情\n\t\t\tgetGoodsDetail(){\n\t\t\t\tvar arg = {\n\t\t\t\t\tstyle_id:this.style_id\n\t\t\t\t}\n\t\t\t\tif(this.page_type == 'goods'){\t//商品管理\n\t\t\t\t\tif(this.goods_type == '3'){\t//查看\n\t\t\t\t\t\tresource.getOnepro(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\t\t//处理详情\n\t\t\t\t\t\t\t\tthis.setInfo(data_info);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else if(this.goods_type == '4'){//审核\n\t\t\t\t\t\tresource.examEditGoods(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\t\t//处理详情\n\t\t\t\t\t\t\t\tthis.setInfo(data_info);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else if(this.goods_type == '5'){\t//重新提交\n\t\t\t\t\t\tresource.returnEditGoodsGet(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\t\t//处理详情\n\t\t\t\t\t\t\t\tthis.setInfo(data_info);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tresource.editGoodsGet(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\t\t//处理详情\n\t\t\t\t\t\t\t\tthis.setInfo(data_info);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}else{\t\t//反馈管理\n\t\t\t\t\tresource.feedBackEditGoodsGet(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tlet data_info = res.data.data;\n\t\t\t\t\t\t\tdata_info.img.map(item => {\n\t\t\t\t\t\t\t\tlet img_obj = {\n\t\t\t\t\t\t\t\t\turls:item,\n\t\t\t\t\t\t\t\t\tshow_icon:false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.img_list.push(img_obj);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.add_admin_name = data_info.add_admin_name;\n\t\t\t\t\t\t\tthis.check_status = data_info.check_status;\n\t\t\t\t\t\t\tthis.off_reason = data_info.off_reason;\n\t\t\t\t\t\t\tthis.refuse_reason = data_info.refuse_reason;\n\t\t\t\t\t\t\tfor(let key in this.arg){\n\t\t\t\t\t\t\t\tfor(let k in data_info){\n\t\t\t\t\t\t\t\t\tif(key == k){\n\t\t\t\t\t\t\t\t\t\t//款式编码逗号转分号\n\t\t\t\t\t\t\t\t\t\tif((k == 'i_id' || k == 'bd_i_id') && data_info[k].indexOf(',') > -1){\n\t\t\t\t\t\t\t\t\t\t\tdata_info[k] = data_info[k].replaceAll(\",\", \";\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthis.arg[key] = data_info[k];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//处理详情\n\t\t\tsetInfo(data_info){\n\t\t\t\tdata_info.img.map(item => {\n\t\t\t\t\tlet img_obj = {\n\t\t\t\t\t\turls:item,\n\t\t\t\t\t\tshow_icon:false\n\t\t\t\t\t}\n\t\t\t\t\tthis.img_list.push(img_obj);\n\t\t\t\t\tthis.preview_image.push(this.domain + item);\n\t\t\t\t})\n\t\t\t\tthis.add_admin_name = data_info.add_admin_name;\n\t\t\t\tthis.check_status = data_info.check_status;\n\t\t\t\tthis.off_reason = data_info.off_reason;\n\t\t\t\tthis.refuse_reason = data_info.refuse_reason;\n\t\t\t\tthis.price_status = data_info.price_status;\n\t\t\t\tthis.edit_price = data_info.edit_price;\n\n\t\t\t\tthis.default_hot_style = data_info.hot_style;//默认是否爆款\n\t\t\t\tthis.default_data_style = data_info.data_style;\t//默认是否主推款\n\t\t\t\tthis.hot_status = data_info.hot_status; //爆款审核状态\n\t\t\t\tthis.data_status = data_info.data_status; //主推款审核状态\n\n\t\t\t\tthis.link_urls = data_info.hot_url;\n\t\t\t\tdata_info.hot_img.map(item => {\n\t\t\t\t\tlet img_obj = {\n\t\t\t\t\t\turls:item,\n\t\t\t\t\t\tshow_icon:false\n\t\t\t\t\t}\n\t\t\t\t\tthis.bk_img_list.push(img_obj);\n\t\t\t\t\tthis.preview_bk_image.push(this.domain + item);\n\t\t\t\t})\n\t\t\t\tthis.bk_img = data_info.hot_img;\n\t\t\t\tthis.kcs = data_info.data_num;\n\t\t\t\tthis.tj = data_info.data_price;\n\t\t\t\tthis.bz = data_info.data_remark;\n\n\t\t\t\tif(data_info.shooting_style_id != ''){\n\t\t\t\t\tlet shooting_style_ids = data_info.shooting_style_id.split(',');\n\t\t\t\t\tthis.shooting_style_ids = shooting_style_ids.map(item => {\n\t\t\t\t\t\treturn parseInt(item);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfor(let key in this.arg){\n\t\t\t\t\tfor(let k in data_info){\n\t\t\t\t\t\tif(key == k){\n\t\t\t\t\t\t\t//款式编码逗号转分号\n\t\t\t\t\t\t\tif((k == 'i_id' || k == 'bd_i_id') && data_info[k].indexOf(',') > -1){\n\t\t\t\t\t\t\t\tdata_info[k] = data_info[k].replaceAll(\",\", \";\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.arg[key] = data_info[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取供应商列表\n\t\t\tajaxSupplierList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxSupplierList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.supplier_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//获取类目列表\n\t\t\tajaxCateList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxCateList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.cate_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//市场列表\n\t\t\tajaxMarketList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxMarketList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.market_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//拍摄风格列表\n\t\t\tajaxStyleList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxStyleList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.style_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//分类列表\n\t\t\tajaxClassList(){\n\t\t\t\treturn new Promise((resolve)=>{\n\t\t\t\t\tcommonResource.ajaxClassList().then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.class_list = res.data.data;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t//监听图片列表回调\n\t\t\tcallbackFn(img_arr) {\n\t\t\t\tthis.arg.img = img_arr;\n\t\t\t},\n\t\t\t//删除当前选中的爆款链接\n\t\t\thandleClose(url) {\n\t\t\t\tthis.link_urls.splice(this.link_urls.indexOf(url), 1);\n\t\t\t},\n\t\t\t//监听爆款图片列表回调\n\t\t\tbkCallbackFn(img_arr){\n\t\t\t\tthis.bk_img = img_arr;\n\t\t\t},\n\t\t\t//点击新增爆款链接\n\t\t\tshowInput() {\n\t\t\t\tthis.inputVisible = true;\n\t\t\t\tthis.$nextTick(_ => {\n\t\t\t\t\tthis.$refs.saveTagInput.$refs.input.focus();\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleInputConfirm() {\n\t\t\t\tlet inputValue = this.inputValue;\n\t\t\t\tif (inputValue) {\n\t\t\t\t\tthis.link_urls.push(inputValue);\n\t\t\t\t}\n\t\t\t\tthis.inputVisible = false;\n\t\t\t\tthis.inputValue = '';\n\t\t\t},\n\t\t\t//底部提交\n\t\t\tcommitEditGoods(){\n\t\t\t\tif(!this.arg.style_name){\n\t\t\t\t\tthis.$message.warning('请输入商品款号!');\n\t\t\t\t}else if(!this.arg.supplier_id){\n\t\t\t\t\tthis.$message.warning('请选择供应商!');\n\t\t\t\t}else if(!this.arg.category_id){\n\t\t\t\t\tthis.$message.warning('请选择类目!');\n\t\t\t\t}else if(!this.arg.market_id){\n\t\t\t\t\tthis.$message.warning('请选择市场!');\n\t\t\t\t}else{\n\t\t\t\t\tvar arg = this.goods_type == '1'?this.arg:{...this.arg,...{style_id:this.style_id}};\n\t\t\t\t\tif (arg.i_id.indexOf(\";\") > -1) {\n\t\t\t\t\t\targ.i_id = arg.i_id.replaceAll(\";\", \",\");\n\t\t\t\t\t}\n\t\t\t\t\tif (arg.bd_i_id.indexOf(\";\") > -1) {\n\t\t\t\t\t\targ.bd_i_id = arg.bd_i_id.replaceAll(\";\", \",\");\n\t\t\t\t\t}\n\t\t\t\t\targ.shooting_style_id = this.shooting_style_ids.join(',');\n\n\t\t\t\t\targ.hot_url = this.link_urls.join(',');\n\t\t\t\t\targ.hot_img = this.bk_img.join(',');\n\t\t\t\t\targ.data_num = this.kcs;\n\t\t\t\t\targ.data_price = this.tj;\n\t\t\t\t\targ.data_remark = this.bz;\n\n\n\t\t\t\t\tthis.$confirm(`确认${this.goods_type == '1'?'添加':'编辑'}此商品吗?`, '提示', {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tif(this.goods_type == '1'){\t//添加\n\t\t\t\t\t\t\tresource.addGoods(arg).then(res => {\n\t\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\t\t\t//编辑或重新提交\n\t\t\t\t\t\t\tif(this.page_type == 'goods'){\t//商品管理\n\t\t\t\t\t\t\t\tif(this.goods_type == '5'){\t//重新提交\n\t\t\t\t\t\t\t\t\targ.type = 1;\n\t\t\t\t\t\t\t\t\tresource.returnEditGoodsPost(arg).then(res => {\n\t\t\t\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else if(this.goods_type == '2'){\t//编辑\n\t\t\t\t\t\t\t\t\tresource.editGoodsPost(arg).then(res => {\n\t\t\t\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\t\t//反馈管理\n\t\t\t\t\t\t\t\tresource.feedBackEditGoodsPost(arg).then(res => {\n\t\t\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t\t});          \n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t//审批\n\t\t\tauditFn(type){\n\t\t\t\tlet arg = {\n\t\t\t\t\ttype:type,\n\t\t\t\t\tid:this.style_id\n\t\t\t\t}\n\t\t\t\tif(type == '1'){\n\t\t\t\t\tthis.$confirm('确认同意?', '提示', {\t\t//同意\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tresource.auditGoods(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t\t});          \n\t\t\t\t\t});\n\t\t\t\t}else{\t\t\t\t\t\t//拒绝\n\t\t\t\t\tthis.$prompt('请输入拒绝原因', '拒绝', {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\t}).then(({ value }) => {\n\t\t\t\t\t\tif(!value){\n\t\t\t\t\t\t\tthis.$message.warning('请输入拒绝原因');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\targ.refuse_reason = value;\n\t\t\t\t\t\tresource.auditGoods(arg).then(res => {\n\t\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t\tthis.$router.go(-1);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tmessage: '取消输入'\n\t\t\t\t\t\t});       \n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tfilters:{\n\t\t\t//审核状态\n\t\t\tcheckStatus:function(val){\n\t\t\t\tlet ss = \"\";\n\t\t\t\tswitch(val){\n\t\t\t\t\tcase 1:\n\t\t\t\t\tss =  '上架待审核';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\tss =  '审核通过(已上架)';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\tss =  '上架审核拒绝';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\tss =  '下架待审核';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\tss =  '下架审核通过(已下架)';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\tss =  '下架审核拒绝';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn ss;\n\t\t\t},\n\t\t\tpriceStatus:function(e){\n\t\t\t\tlet status_str = \"\";\n\t\t\t\tswitch(e){\n\t\t\t\t\tcase 1:\n\t\t\t\t\tstatus_str = '待审核';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\tstatus_str = '审核通过';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\tstatus_str = '审核拒绝';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn status_str;\n\t\t\t}\n\t\t},\n\t\tcomponents:{\n\t\t\tUploadFile\n\t\t}\n\t}\n</script>\n<style>\n.el-tag {\n\tposition: relative;\n\tmax-width: 300px;\n\tmargin-right: 10px;\n\tmargin-bottom: 0!important;\n\toverflow: hidden!important;\n\ttext-overflow: ellipsis!important;\n\twhite-space: nowrap!important;\n\tpadding-right: 18px;\n}\n.el-tag__close{\n\tposition: absolute!important;\n\tright: 1px!important;\n\ttop: 3px!important;\n}\n</style>\n<style lang=\"less\" scoped>\n.chain_page_content{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tpadding: 24rem;\n\tdisplay: flex;\n\tflex-direction: column;\n\t.card_box{\n\t\tflex:1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\toverflow-y: scroll;\n\t\t.form_row{\n\t\t\twidth: 1000rem;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\t.card_img{\n\t\t\t\tmargin-right: 40rem;\n\t\t\t\tmargin-bottom: 20rem;\n\t\t\t\tborder-radius: 2rem;\n\t\t\t\twidth: 160rem;\n\t\t\t\theight: 160rem;\n\t\t\t}\n\t\t}\n\t\t.bk_card_img{\n\t\t\tmargin-right: 16px;\n\t\t\tmargin-bottom: 16px;\n\t\t\tborder-radius: 2rem;\n\t\t\twidth: 80px;\n\t\t\theight: 80px;\n\t\t}\n\t\t.margin_bottom{\n\t\t\tmargin-bottom: 20px;\n\t\t}\n\t\t.bottom_row{\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;\n\t\t}\n\t}\n}\n</style>"]}]}