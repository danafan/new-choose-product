{"remainingRequest":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanyulong/project/2022/choose-product/src/pages/CarPage/car_page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanyulong/project/2022/choose-product/src/pages/CarPage/car_page.vue","mtime":1664441454560},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fanyulong/project/2022/choose-product/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":["\n\timport resource from '../../api/resource.js'\n\timport commonResource from '../../api/common_resource.js'\n\n\timport PageTitle from '../../components/page_title.vue'\n\timport QuillEditor from '../../components/quill_editor.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tloading:false,\n\t\t\t\tcar_goods:[],\t\t\t\t//购物车列表\n\t\t\t\tselected_list: [],\t\t\t//已选中的列表\n\t\t\t\tmax_height:0,\n\t\t\t\tshow_select:false,\t\t\t//选款弹窗\n\t\t\t\tstore_list:[],\t\t\t//店铺列表\n\t\t\t\tshop_code:\"\",\t\t\t//选中的店铺\n\t\t\t\tneed_type:[],\t\t\t//需求类型列表\n\t\t\t\tdemand_type:[],\t\t\t//选中的需求类型\n\t\t\t\tdelivery_type_list:[],\t//发货类型列表\n\t\t\t\tsend_type:\"\",\t\t\t//选中的发货类型\n\t\t\t\tdemand_date:\"\",\t\t\t//需求日期\n\t\t\t\tselling_price:\"\",\t\t//售卖价格\n\t\t\t\tremark:\"\",\t\t\t\t//备注\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tdestroyed() {\n\t\t\twindow.removeEventListener(\"resize\", () => {});\n\t\t},\n\t\tcreated(){\n\t\t\t//获取购物车列表数量\n\t\t\tthis.getCarList();\n\t\t},\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t}\n\t\t},\n\t\tmounted() {\n    \t\t//获取表格最大高度\n    \t\tthis.onResize();\n    \t\twindow.addEventListener(\"resize\", this.onResize());\n    \t},\n    \tmethods: {\n    \t\t//监听屏幕大小变化\n    \t\tonResize() {\n    \t\t\tthis.$nextTick(() => {\n    \t\t\t\tlet card_box_height = document.getElementById(\"card_box\").offsetHeight;\n    \t\t\t\tlet all_title_height = document.getElementById(\"all_title\").offsetHeight;\n    \t\t\t\tlet bottom_row_height = document.getElementById(\"bottom_row\").offsetHeight;\n    \t\t\t\tthis.max_height =\n    \t\t\t\tcard_box_height -\n    \t\t\t\tall_title_height -\n    \t\t\t\tbottom_row_height -\n    \t\t\t\t30 +\n    \t\t\t\t\"px\";\n    \t\t\t});\n    \t\t},\n    \t\t//获取购物车列表数量\n    \t\tgetCarList(){\n    \t\t\tthis.loading = true;\n    \t\t\tresource.getCarList().then(res => {\n    \t\t\t\tif(res.data.code == 1){\n    \t\t\t\t\tthis.loading = false;\n    \t\t\t\t\tlet car_goods = res.data.data.data;\n    \t\t\t\t\tcar_goods.map(item => {\n    \t\t\t\t\t\tlet arr = [];\n    \t\t\t\t\t\tarr.push(this.domain + item.img);\n    \t\t\t\t\t\titem.images = arr;\n    \t\t\t\t\t})\n    \t\t\t\t\tthis.car_goods = car_goods;\n    \t\t\t\t}else{\n    \t\t\t\t\tthis.$message,warning(res.data.msg);\n    \t\t\t\t}\n    \t\t\t})\n    \t\t},\n    \t\t//判断是否可以选中\n    \t\tsetStatus(row){\n    \t\t\tif (row.status == 1) {  \n    \t\t\t\treturn true;  \n    \t\t\t}\n    \t\t},\n\t\t\t//切换选中\n\t\t\tchangeSelected(val) {\n\t\t\t\tthis.selected_list = val;\n\t\t\t},\n\t\t\t//点击去选中\n\t\t\tselectFn(){\n\t\t\t\t//获取店铺列表\n\t\t\t\tthis.ajaxViewShop();\n\t\t\t\t//获取所有需求/发货类型\n\t\t\t\tthis.getAllDemandSendType();\n\t\t\t\tthis.show_select = true;\n\t\t\t},\n\t\t\t//提交选款\n\t\t\tconfirmSelect(){\n\t\t\t\tif(this.shop_code == ''){\n\t\t\t\t\tthis.$message.warning('请选择店铺!');\n\t\t\t\t}else if(this.demand_type.length == 0){\n\t\t\t\t\tthis.$message.warning('请选择需求类型!');\n\t\t\t\t}else if(this.send_type == ''){\n\t\t\t\t\tthis.$message.warning('请选择发货类型!');\n\t\t\t\t}else if(this.demand_date == ''){\n\t\t\t\t\tthis.$message.warning('请选择需求时间!');\n\t\t\t\t}else if(this.selling_price == ''){\n\t\t\t\t\tthis.$message.warning('请输入售卖价格!');\n\t\t\t\t}else{\n\t\t\t\t\t//店铺名称\n\t\t\t\t\tlet shop_arr = this.store_list.filter(item => {\n\t\t\t\t\t\treturn item.shop_code == this.shop_code;\n\t\t\t\t\t})\n\t\t\t\t\t//商品ID\n\t\t\t\t\tlet style_id_arr = [];\n\t\t\t\t\tlet select_id_arr = [];\n\t\t\t\t\tthis.selected_list.map(item => {\n\t\t\t\t\t\tstyle_id_arr.push(item.style_id);\n\t\t\t\t\t\tselect_id_arr.push(item.select_cart_id);\n\t\t\t\t\t})\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tselect_id:select_id_arr.join(','),\n\t\t\t\t\t\tstyle_id_arr:style_id_arr.join(','),\n\t\t\t\t\t\tshop_code:this.shop_code,\n\t\t\t\t\t\tshop_name:shop_arr[0].shop_name,\n\t\t\t\t\t\tdemand_type:this.demand_type.join(','),\n\t\t\t\t\t\tdemand_date:this.demand_date,\n\t\t\t\t\t\tsend_type:this.send_type,\n\t\t\t\t\t\tselling_price:this.selling_price,\n\t\t\t\t\t\tremark:this.remark\n\t\t\t\t\t}\n\t\t\t\t\tresource.addSelected(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\tthis.show_select = false;\n\t\t\t\t\t\t\t//获取购物车列表数量\n\t\t\t\t\t\t\tthis.getCarList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取店铺列表\n\t\t\tajaxViewShop(){\n\t\t\t\tlet arg = {\n\t\t\t\t\ttype:1,\n\t\t\t\t}\n\t\t\t\tcommonResource.ajaxViewShop(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.store_list = res.data.data;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//获取所有需求/发货类型\n\t\t\tgetAllDemandSendType(){\n\t\t\t\tcommonResource.getAllDemandSendType().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\t//需求类型\n\t\t\t\t\t\tthis.need_type = data.filter(item => {\n\t\t\t\t\t\t\treturn item.type == 1;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t//发货类型\n\t\t\t\t\t\tthis.delivery_type_list = data.filter(item => {\n\t\t\t\t\t\t\treturn item.type == 2;\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//监听富文本编辑器内容变化\n\t\t\tgetEditor(v){\n\t\t\t\tthis.remark = v;\n\t\t\t},\n\t\t\t//点击删除\n\t\t\tdeleteFn(type,style_id){\n\t\t\t\tthis.$confirm('确认删除商品图?', '提示', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\t//商品ID\n\t\t\t\t\tlet style_id_arr = [];\n\t\t\t\t\tthis.selected_list.map(item => {\n\t\t\t\t\t\tstyle_id_arr.push(item.select_cart_id);\n\t\t\t\t\t})\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tselect_cart_id:type == '1'?style_id:style_id_arr.join(',')\n\t\t\t\t\t}\n\t\t\t\t\tresource.removeCarGoods(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t//获取列表\n\t\t\t\t\t\t\tthis.getCarList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t});          \n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t\tcomponents:{\n\t\t\tPageTitle,\n\t\t\tQuillEditor\n\t\t}\n\t}\n",{"version":3,"sources":["car_page.vue"],"names":[],"mappings":";AAsGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"car_page.vue","sourceRoot":"src/pages/CarPage","sourcesContent":["<template>\n\t<div class=\"padding_page\">\n\t\t<div class=\"padding_page_content\">\n\t\t\t<PageTitle title=\"待选记录\"/>\n\t\t\t<el-card class=\"card_box\" id=\"card_box\">\n\t\t\t\t<div class=\"all_title\" id=\"all_title\">待选（全部{{car_goods.length}}）</div>\n\t\t\t\t<el-table ref=\"multipleTable\" size=\"mini\" :data=\"car_goods\" tooltip-effect=\"dark\" style=\"width: 100%\" @selection-change=\"changeSelected\" :header-cell-style=\"{'background':'#f4f4f4','text-align': 'center'}\" :cell-style=\"{'text-align':'center'}\" :max-height=\"max_height\" v-loading=\"loading\">\n\t\t\t\t\t<el-table-column type=\"selection\" width=\"55\" fixed=\"left\" :selectable=\"setStatus\"></el-table-column>\n\t\t\t\t\t<el-table-column label=\"图片\" width=\"160\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t<el-image :z-index=\"2008\" class=\"image\" :src=\"scope.row.images[0]\" fit=\"scale-down\" :preview-src-list=\"scope.row.images\"></el-image>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column label=\"标题\" prop=\"price\" width=\"160\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t<div class=\"record_title\">{{scope.row.title}}</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column label=\"供应商\" prop=\"supplier_name\" width=\"160\" show-overflow-tooltip></el-table-column>\n\t\t\t\t\t<el-table-column label=\"上新时间\" prop=\"new_time_name\" width=\"150\">\n\t\t\t\t\t</el-table-column>\n\t\t\t\t\t<el-table-column label=\"款号\" prop=\"style_name\" show-overflow-tooltip></el-table-column>\n\t\t\t\t\t<el-table-column label=\"款式编码\" prop=\"i_id\" show-overflow-tooltip></el-table-column>\n\t\t\t\t\t<el-table-column label=\"拍摄风格\" prop=\"shooting_style_name\" show-overflow-tooltip></el-table-column>\n\t\t\t\t\t<el-table-column label=\"价格\" prop=\"cost_price\"></el-table-column>\n\t\t\t\t\t<el-table-column label=\"操作\" width=\"80\" fixed=\"right\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t<el-button type=\"text\" size=\"small\" @click=\"deleteFn('1',scope.row.select_cart_id)\">移除</el-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t</el-table>\n\t\t\t\t<div class=\"bottom_row\" id=\"bottom_row\">\n\t\t\t\t\t<el-button size='mini' type=\"text\" :disabled=\"selected_list.length == 0\" @click=\"deleteFn('2')\">移除</el-button>\n\t\t\t\t\t<div class=\"all_selected\">\n\t\t\t\t\t\t<div class=\"selcted_num\">已选 {{selected_list.length}} 件</div>\n\t\t\t\t\t\t<el-button size='mini' type=\"primary\" :disabled=\"selected_list.length == 0\" @click=\"selectFn\">去选中</el-button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</el-card>\n\t\t</div>\n\t\t<!-- 选款弹窗 -->\n\t\t<el-dialog :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :show-close=\"false\" destroy-on-close :visible.sync=\"show_select\">\n\t\t\t<div slot=\"title\" class=\"dialog_title\">\n\t\t\t\t<div>选款</div>\n\t\t\t\t<img class=\"close_icon\" src=\"../../static/close_icon.png\" @click=\"show_select = false\">\n\t\t\t</div>\n\t\t\t<div class=\"select_content\">\n\t\t\t\t<div class=\"info_title\">选款信息</div>\n\t\t\t\t<div class=\"form_box\">\n\t\t\t\t\t<div class=\"form_content\">\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\">店铺：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-select v-model=\"shop_code\" size=\"mini\" clearable placeholder=\"选择店铺\">\n\t\t\t\t\t\t\t\t\t<el-option v-for=\"item in store_list\" :key=\"item.shop_code\" :label=\"item.shop_name\" :value=\"item.shop_code\">\n\t\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\">需求日期：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-date-picker size=\"mini\" v-model=\"demand_date\" type=\"date\" value-format=\"yyyy-MM-dd\" placeholder=\"选择日期\">\n\t\t\t\t\t\t\t\t</el-date-picker>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\">售卖价格：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-input size=\"mini\" type=\"number\" clearable v-model=\"selling_price\" placeholder=\"请输入售卖价格\"></el-input>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"form_content\">\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\">需求类型：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-checkbox-group size=\"mini\" v-model=\"demand_type\">\n\t\t\t\t\t\t\t\t\t<el-checkbox :label=\"item.name\" v-for=\"item in need_type\">{{item.name}}</el-checkbox>\n\t\t\t\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form_item\">\n\t\t\t\t\t\t\t<div class=\"lable\">发货类型：</div>\n\t\t\t\t\t\t\t<div class=\"value\">\n\t\t\t\t\t\t\t\t<el-select v-model=\"send_type\" size=\"mini\" clearable placeholder=\"选择发货类型\">\n\t\t\t\t\t\t\t\t\t<el-option v-for=\"item in delivery_type_list\" :key=\"item.name\" :label=\"item.name\" :value=\"item.name\">\n\t\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<QuillEditor @callback=\"getEditor\"/>\n\t\t\t</div>\n\t\t\t<div slot=\"footer\" class=\"dialog_footer\">\n\t\t\t\t<el-button type=\"primary\" size=\"small\" @click=\"confirmSelect\">确认选择</el-button>\n\t\t\t</div>\n\t\t</el-dialog>\n\t</div>\n</template>\n<script>\n\timport resource from '../../api/resource.js'\n\timport commonResource from '../../api/common_resource.js'\n\n\timport PageTitle from '../../components/page_title.vue'\n\timport QuillEditor from '../../components/quill_editor.vue'\n\texport default{\n\t\tdata(){\n\t\t\treturn{\n\t\t\t\tloading:false,\n\t\t\t\tcar_goods:[],\t\t\t\t//购物车列表\n\t\t\t\tselected_list: [],\t\t\t//已选中的列表\n\t\t\t\tmax_height:0,\n\t\t\t\tshow_select:false,\t\t\t//选款弹窗\n\t\t\t\tstore_list:[],\t\t\t//店铺列表\n\t\t\t\tshop_code:\"\",\t\t\t//选中的店铺\n\t\t\t\tneed_type:[],\t\t\t//需求类型列表\n\t\t\t\tdemand_type:[],\t\t\t//选中的需求类型\n\t\t\t\tdelivery_type_list:[],\t//发货类型列表\n\t\t\t\tsend_type:\"\",\t\t\t//选中的发货类型\n\t\t\t\tdemand_date:\"\",\t\t\t//需求日期\n\t\t\t\tselling_price:\"\",\t\t//售卖价格\n\t\t\t\tremark:\"\",\t\t\t\t//备注\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tdestroyed() {\n\t\t\twindow.removeEventListener(\"resize\", () => {});\n\t\t},\n\t\tcreated(){\n\t\t\t//获取购物车列表数量\n\t\t\tthis.getCarList();\n\t\t},\n\t\tcomputed:{\n\t\t\t//图片前缀\n\t\t\tdomain(){\n\t\t\t\treturn this.$store.state.domain;\n\t\t\t}\n\t\t},\n\t\tmounted() {\n    \t\t//获取表格最大高度\n    \t\tthis.onResize();\n    \t\twindow.addEventListener(\"resize\", this.onResize());\n    \t},\n    \tmethods: {\n    \t\t//监听屏幕大小变化\n    \t\tonResize() {\n    \t\t\tthis.$nextTick(() => {\n    \t\t\t\tlet card_box_height = document.getElementById(\"card_box\").offsetHeight;\n    \t\t\t\tlet all_title_height = document.getElementById(\"all_title\").offsetHeight;\n    \t\t\t\tlet bottom_row_height = document.getElementById(\"bottom_row\").offsetHeight;\n    \t\t\t\tthis.max_height =\n    \t\t\t\tcard_box_height -\n    \t\t\t\tall_title_height -\n    \t\t\t\tbottom_row_height -\n    \t\t\t\t30 +\n    \t\t\t\t\"px\";\n    \t\t\t});\n    \t\t},\n    \t\t//获取购物车列表数量\n    \t\tgetCarList(){\n    \t\t\tthis.loading = true;\n    \t\t\tresource.getCarList().then(res => {\n    \t\t\t\tif(res.data.code == 1){\n    \t\t\t\t\tthis.loading = false;\n    \t\t\t\t\tlet car_goods = res.data.data.data;\n    \t\t\t\t\tcar_goods.map(item => {\n    \t\t\t\t\t\tlet arr = [];\n    \t\t\t\t\t\tarr.push(this.domain + item.img);\n    \t\t\t\t\t\titem.images = arr;\n    \t\t\t\t\t})\n    \t\t\t\t\tthis.car_goods = car_goods;\n    \t\t\t\t}else{\n    \t\t\t\t\tthis.$message,warning(res.data.msg);\n    \t\t\t\t}\n    \t\t\t})\n    \t\t},\n    \t\t//判断是否可以选中\n    \t\tsetStatus(row){\n    \t\t\tif (row.status == 1) {  \n    \t\t\t\treturn true;  \n    \t\t\t}\n    \t\t},\n\t\t\t//切换选中\n\t\t\tchangeSelected(val) {\n\t\t\t\tthis.selected_list = val;\n\t\t\t},\n\t\t\t//点击去选中\n\t\t\tselectFn(){\n\t\t\t\t//获取店铺列表\n\t\t\t\tthis.ajaxViewShop();\n\t\t\t\t//获取所有需求/发货类型\n\t\t\t\tthis.getAllDemandSendType();\n\t\t\t\tthis.show_select = true;\n\t\t\t},\n\t\t\t//提交选款\n\t\t\tconfirmSelect(){\n\t\t\t\tif(this.shop_code == ''){\n\t\t\t\t\tthis.$message.warning('请选择店铺!');\n\t\t\t\t}else if(this.demand_type.length == 0){\n\t\t\t\t\tthis.$message.warning('请选择需求类型!');\n\t\t\t\t}else if(this.send_type == ''){\n\t\t\t\t\tthis.$message.warning('请选择发货类型!');\n\t\t\t\t}else if(this.demand_date == ''){\n\t\t\t\t\tthis.$message.warning('请选择需求时间!');\n\t\t\t\t}else if(this.selling_price == ''){\n\t\t\t\t\tthis.$message.warning('请输入售卖价格!');\n\t\t\t\t}else{\n\t\t\t\t\t//店铺名称\n\t\t\t\t\tlet shop_arr = this.store_list.filter(item => {\n\t\t\t\t\t\treturn item.shop_code == this.shop_code;\n\t\t\t\t\t})\n\t\t\t\t\t//商品ID\n\t\t\t\t\tlet style_id_arr = [];\n\t\t\t\t\tlet select_id_arr = [];\n\t\t\t\t\tthis.selected_list.map(item => {\n\t\t\t\t\t\tstyle_id_arr.push(item.style_id);\n\t\t\t\t\t\tselect_id_arr.push(item.select_cart_id);\n\t\t\t\t\t})\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tselect_id:select_id_arr.join(','),\n\t\t\t\t\t\tstyle_id_arr:style_id_arr.join(','),\n\t\t\t\t\t\tshop_code:this.shop_code,\n\t\t\t\t\t\tshop_name:shop_arr[0].shop_name,\n\t\t\t\t\t\tdemand_type:this.demand_type.join(','),\n\t\t\t\t\t\tdemand_date:this.demand_date,\n\t\t\t\t\t\tsend_type:this.send_type,\n\t\t\t\t\t\tselling_price:this.selling_price,\n\t\t\t\t\t\tremark:this.remark\n\t\t\t\t\t}\n\t\t\t\t\tresource.addSelected(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\tthis.show_select = false;\n\t\t\t\t\t\t\t//获取购物车列表数量\n\t\t\t\t\t\t\tthis.getCarList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取店铺列表\n\t\t\tajaxViewShop(){\n\t\t\t\tlet arg = {\n\t\t\t\t\ttype:1,\n\t\t\t\t}\n\t\t\t\tcommonResource.ajaxViewShop(arg).then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tthis.store_list = res.data.data;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//获取所有需求/发货类型\n\t\t\tgetAllDemandSendType(){\n\t\t\t\tcommonResource.getAllDemandSendType().then(res => {\n\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\tlet data = res.data.data;\n\t\t\t\t\t\t//需求类型\n\t\t\t\t\t\tthis.need_type = data.filter(item => {\n\t\t\t\t\t\t\treturn item.type == 1;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t//发货类型\n\t\t\t\t\t\tthis.delivery_type_list = data.filter(item => {\n\t\t\t\t\t\t\treturn item.type == 2;\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//监听富文本编辑器内容变化\n\t\t\tgetEditor(v){\n\t\t\t\tthis.remark = v;\n\t\t\t},\n\t\t\t//点击删除\n\t\t\tdeleteFn(type,style_id){\n\t\t\t\tthis.$confirm('确认删除商品图?', '提示', {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\ttype: 'warning'\n\t\t\t\t}).then(() => {\n\t\t\t\t\t//商品ID\n\t\t\t\t\tlet style_id_arr = [];\n\t\t\t\t\tthis.selected_list.map(item => {\n\t\t\t\t\t\tstyle_id_arr.push(item.select_cart_id);\n\t\t\t\t\t})\n\t\t\t\t\tlet arg = {\n\t\t\t\t\t\tselect_cart_id:type == '1'?style_id:style_id_arr.join(',')\n\t\t\t\t\t}\n\t\t\t\t\tresource.removeCarGoods(arg).then(res => {\n\t\t\t\t\t\tif(res.data.code == 1){\n\t\t\t\t\t\t\tthis.$message.success(res.data.msg);\n\t\t\t\t\t\t\t//获取列表\n\t\t\t\t\t\t\tthis.getCarList();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.$message.warning(res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '已取消'\n\t\t\t\t\t});          \n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t\tcomponents:{\n\t\t\tPageTitle,\n\t\t\tQuillEditor\n\t\t}\n\t}\n</script>\n<style lang=\"less\" scoped>\n.padding_page_content{\n\twidth: 1440rem;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\t.card_box{\n\t\tflex:1;\n\t\t.all_title{\n\t\t\tpadding-bottom: 8rem;\n\t\t\tfont-size: 14rem;\n\t\t\tcolor: #333333;\n\t\t}\n\t\t.image{\n\t\t\twidth: 140rem;\n\t\t\theight: 140rem;\n\t\t}\n\t\t.record_title{\n\t\t\tfont-size:12rem;\n\t\t\tcolor: var(--color);\n\t\t}\n\t\t.bottom_row{\n\t\t\tpadding-top: 18rem;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\t.all_selected{\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\t.selcted_num{\n\t\t\t\t\tmargin-right: 12rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n.select_content{\n\tpadding: 18rem 20rem;\n\t.info_title{\n\t\tmargin-bottom: 14rem;\n\t\tfont-size:14rem;\n\t\tcolor: #333333;\n\t}\n\t.form_box{\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\t.form_content{\n\t\t\t.form_item{\n\t\t\t\tmargin-bottom: 20rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\t.lable{\n\t\t\t\t\twidth: 80rem;\n\t\t\t\t\tfont-size:14rem;\n\t\t\t\t\tcolor: #333333;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>"]}]}